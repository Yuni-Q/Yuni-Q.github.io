{"version":3,"file":"component---src-pages-scroll-tsx-6c6d3148d290ec7153d5.js","mappings":"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","sources":["webpack://yuni-q-blog/./src/pages/scroll.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst GlobalWidth = styled.div`\n  max-width: 620px;\n  margin: 0 auto;\n  padding: 0 16px;\n`;\n\nconst BoxContainer = styled.div`\n  box-sizing: border-box;\n  overflow-x: hidden;\n  position: sticky;\n  top: 0;\n  height: 100vh;\n`;\n\nconst ImageBox = styled.div<{ image: string }>`\n  will-change: opacity;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  background: url(${({ image }) => image}) no-repeat center / contain;\n  opacity: 0;\n  transition: 0.5s;\n  &.visible {\n    opacity: 1;\n  }\n`;\n\nconst ScrollText = styled.div`\n  position: relative;\n`;\n\nconst Step = styled.div`\n  margin: 0 16px 80vh;\n  box-sizing: border-box;\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.8);\n  box-shadow: rgba(0, 0, 0, 0.3) 0 0 3px;\n`;\n\nconst MoveBox = styled.div`\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100px;\n  height: 100px;\n  background: url('/favicon_black.ico') no-repeat center / contain;\n  transform: translateX(100vw);\n  transition: 1s 0.5s linear;\n`;\n\nconst StepWrapper = styled.div`\n  position: relative;\n  padding-bottom: 1px;\n`;\n\nconst Scroll: React.VFC = () => {\n  useEffect(() => {\n    setTimeout(() => scrollTo(0, 0), 100);\n    const actions = {\n      move(isTrue: boolean) {\n        if (isTrue) {\n          (document.querySelector(\n            '[data-index=\"4\"] .move',\n          ) as HTMLElement).style.transform = `translateX(-100%)`;\n        } else {\n          (document.querySelector(\n            '[data-index=\"4\"] .move',\n          ) as HTMLElement).style.transform = `translateX(100vw)`;\n        }\n      },\n    };\n    const steps = document.querySelectorAll('.step');\n    const graphicItems = document.querySelectorAll('.graphic-item');\n    let currentItem = graphicItems[0];\n    let ioIndex = 0;\n\n    const io = new IntersectionObserver((entries) => {\n      ioIndex = parseInt((entries[0].target as HTMLElement).dataset.index, 10);\n    });\n\n    const activate = (action) => {\n      currentItem.classList.add('visible');\n      if (action) {\n        actions[action](true);\n      }\n    };\n    const inactivate = (action) => {\n      currentItem.classList.remove('visible');\n      if (action) {\n        actions[action](false);\n      }\n    };\n    window.addEventListener('scroll', () => {\n      for (let i = ioIndex - 1; i < ioIndex + 2; i++) {\n        const step = steps[i] as HTMLElement;\n        if (!step) {\n          continue;\n        }\n        io.observe(step);\n        const boundingRect = step.getBoundingClientRect();\n        if (\n          boundingRect.top > window.innerHeight * 0.1 &&\n          boundingRect.top < window.innerHeight * 0.8\n        ) {\n          inactivate((currentItem as HTMLElement).dataset.action);\n          currentItem = graphicItems[step.dataset.index];\n          activate((currentItem as HTMLElement).dataset.action);\n        }\n      }\n    });\n    activate((currentItem as HTMLElement).dataset.action);\n  }, []);\n  return (\n    <GlobalWidth>\n      <section>\n        {Array(30)\n          .fill(1)\n          .map((_, idx) => {\n            return <div key={idx}>상단 내용</div>;\n          })}\n      </section>\n      <section>\n        <BoxContainer>\n          {Array(6)\n            .fill(1)\n            .map((_, idx) => {\n              const image =\n                idx % 2 ? '/favicon_black.ico' : '/favicon_blue.ico';\n              if (idx === 4) {\n                return (\n                  <ImageBox\n                    key={`graphic-item-${idx}`}\n                    className=\"graphic-item\"\n                    data-index={idx}\n                    data-action=\"move\"\n                    image={image}\n                  >\n                    <MoveBox className=\"move\" />\n                  </ImageBox>\n                );\n              }\n              return (\n                <ImageBox\n                  key={`graphic-item-${idx}`}\n                  className=\"graphic-item\"\n                  data-index={idx}\n                  image={image}\n                />\n              );\n            })}\n        </BoxContainer>\n        <StepWrapper>\n          {Array(6)\n            .fill(1)\n            .map((_, idx) => {\n              return (\n                <Step key={`step-${idx}`} className=\"step\" data-index={idx}>\n                  <ScrollText>중간 내용 {idx}</ScrollText>\n                </Step>\n              );\n            })}\n        </StepWrapper>\n      </section>\n      <section>\n        {Array(30)\n          .fill(1)\n          .map((_, idx) => {\n            return <div key={idx}>하단 내용</div>;\n          })}\n      </section>\n    </GlobalWidth>\n  );\n};\n\nexport default Scroll;\n"],"names":["GlobalWidth","styled","div","withConfig","displayName","componentId","BoxContainer","ImageBox","_ref","image","ScrollText","Step","MoveBox","StepWrapper","Scroll","useEffect","setTimeout","scrollTo","actions","move","isTrue","document","querySelector","style","transform","steps","querySelectorAll","graphicItems","currentItem","ioIndex","io","IntersectionObserver","entries","parseInt","target","dataset","index","activate","action","classList","add","window","addEventListener","i","step","observe","boundingRect","getBoundingClientRect","top","innerHeight","remove","React","Array","fill","map","_","idx","key","className"],"sourceRoot":""}