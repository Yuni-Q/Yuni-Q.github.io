{"version":3,"file":"component---src-pages-land-tsx-85bc218ef534fb14728f.js","mappings":"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","sources":["webpack://yuni-q-blog/./src/pages/land.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nclass Particle {\n  x: number;\n  y: number;\n  radius: number;\n  speed: number;\n  cm: CM;\n\n  constructor(x: number, y: number, cm: CM) {\n    this.x = x;\n    this.y = y;\n    this.radius = Math.random() + 0.5;\n    this.speed = Math.random() * 3 + 0.5;\n    this.cm = cm;\n  }\n\n  draw() {\n    this.cm.context.beginPath();\n    this.cm.context.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n    this.cm.context.fill();\n  }\n}\n\nclass Line {\n  x: number;\n  y: number;\n  cm: CM;\n  particles: Particle[];\n  height: number;\n  gradient: CanvasGradient;\n\n  constructor(x: number, y: number, cm: CM, index: number) {\n    this.x = x;\n    this.y = y;\n    this.height = 300;\n\n    const gradientStartY =\n      cm.canvasHeight - (this.height + (cm.canvasHeight - this.y));\n    this.gradient = cm.context.createLinearGradient(\n      0,\n      gradientStartY,\n      0,\n      this.y,\n    );\n    this.gradient.addColorStop(0, `rgba(${cm.colors2[index]}, 0)`);\n    this.gradient.addColorStop(0.5, `rgba(${cm.colors2[index]}, 0.5)`);\n    this.gradient.addColorStop(0.75, `rgba(${cm.colors2[index]}, 0.5)`);\n    this.gradient.addColorStop(1, `rgba(${cm.colors2[index]}, 1)`);\n\n    const numberOfParticles = 30;\n    this.particles = [];\n    for (let i = 0; i < numberOfParticles; i++) {\n      this.particles.push(new Particle(this.x, this.y, cm));\n    }\n    this.cm = cm;\n  }\n\n  draw() {\n    this.cm.context.strokeStyle = this.gradient;\n    this.cm.context.beginPath();\n    this.cm.context.moveTo(this.x, this.y);\n    this.cm.context.lineTo(this.x, this.y - this.height);\n    this.cm.context.stroke();\n\n    for (let i = 0; i < this.particles.length; i++) {\n      const particle = this.particles[i];\n      particle.y -= particle.speed;\n      if (particle.y < this.y - this.height) {\n        particle.y = this.y;\n      }\n      particle.draw();\n    }\n  }\n}\n\nclass Light {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  lines: Line[];\n  gradient: CanvasGradient;\n  cm: CM;\n  angle: number;\n  yForOrder: number;\n\n  constructor(x: number, y: number, cm: CM, index: number) {\n    this.x = x;\n    this.y = y;\n    this.yForOrder = this.y;\n    this.width = 20;\n    this.height = 300;\n    this.angle = 0;\n\n    const numberOfParticles = 5;\n    this.lines = [];\n    for (let i = 0; i < numberOfParticles; i++) {\n      this.lines.push(\n        new Line(\n          this.x + (Math.random() * this.width - this.width * 0.5),\n          this.y,\n          cm,\n          index,\n        ),\n      );\n    }\n    this.gradient = cm.context.createLinearGradient(\n      0,\n      cm.canvasHeight - (this.height + (cm.canvasHeight - this.y)),\n      0,\n      this.y,\n    );\n    this.gradient.addColorStop(0, `rgba(${cm.colors[index]}, 0)`);\n    this.gradient.addColorStop(0.5, `rgba(${cm.colors[index]}, 0.5)`);\n    this.gradient.addColorStop(0.75, `rgba(${cm.colors[index]}, 0.5)`);\n    this.gradient.addColorStop(1, `rgba(${cm.colors[index]}, 1)`);\n    this.cm = cm;\n  }\n\n  draw() {\n    this.cm.context.fillStyle = this.gradient;\n\n    this.cm.context.save();\n    this.cm.context.filter = 'blur(20px)';\n\n    this.cm.context.beginPath();\n    this.cm.context.ellipse(\n      this.x,\n      this.y,\n      this.width * 2 +\n        Math.abs(Math.sin(((this.angle * Math.PI) / 180) * 30)) * 5,\n      this.width * 0.5 +\n        Math.abs(Math.sin(((this.angle * Math.PI) / 180) * 30)) * 5,\n      0,\n      0,\n      Math.PI * 2,\n    );\n    this.cm.context.fill();\n    this.angle++;\n\n    this.cm.context.filter = 'blur(5px)';\n    this.cm.context.beginPath();\n    this.cm.context.ellipse(\n      this.x,\n      this.y,\n      this.width,\n      this.width * 0.25,\n      0,\n      0,\n      Math.PI * 2,\n    );\n    this.cm.context.fill();\n\n    this.cm.context.fillRect(\n      this.x - this.width * 0.5,\n      this.cm.canvasHeight - (this.height + (this.cm.canvasHeight - this.y)),\n      this.width,\n      this.height,\n    );\n\n    this.cm.context.restore();\n\n    for (let i = 0; i < this.lines.length; i++) {\n      const line = this.lines[i];\n      line.draw();\n    }\n  }\n}\n\nconst Canvas = styled.canvas`\n  background: url(/images/BG-city.jpg) no-repeat center / cover;\n`;\n\ninterface CM {\n  canvas: HTMLCanvasElement | undefined;\n  context: CanvasRenderingContext2D | undefined;\n  canvasWidth: number;\n  canvasHeight: number;\n  colors: string[];\n  colors2: string[];\n  charactersSrc: {\n    somun: string;\n    ji: string;\n  };\n  playedFrame: number;\n  currentFrame: number;\n}\n\nconst Land: React.VFC = () => {\n  const cm: CM = {\n    canvas: undefined,\n    context: undefined,\n    canvasWidth: 0,\n    canvasHeight: 0,\n    colors: [\n      '222, 35, 18', // red\n      '238, 150, 63', // orange\n      '246, 228, 0', // yellow\n      '110, 210, 70', // green\n      '63, 145, 255', // blue\n      '185, 22, 226', // purple\n    ],\n    colors2: [\n      '255, 160, 150', // red\n      '255, 200, 150', // orange\n      '255, 250, 180', // yellow\n      '195, 255, 170', // green\n      '200, 220, 255', // blue\n      '239, 173, 225', // purple\n    ],\n    charactersSrc: {\n      somun: '/images/sprite-somun.png',\n      ji: '/images/sprite-ji.png',\n    },\n    playedFrame: 0,\n    currentFrame: 0,\n  };\n  useEffect(() => {\n    cm.canvas = document.querySelector('#the-canvas');\n    cm.context = cm.canvas.getContext('2d');\n    const dpr = window.devicePixelRatio > 1 ? 1 : 1;\n    const mouse = { x: 0, y: 0 };\n    const lights: Light[] = [];\n    const characters: Character[] = [];\n    const allItems: (Character | Light)[] = [];\n    let indexOfLight = 0;\n\n    const setSize = () => {\n      console.log(window.innerWidth, window.innerHeight);\n      cm.canvasWidth = window.innerWidth;\n      cm.canvasHeight = window.innerHeight;\n      cm.canvas.width = cm.canvasWidth * dpr;\n      cm.canvas.height = cm.canvasHeight * dpr;\n      if (dpr > 1) {\n        cm.context.scale(dpr, dpr);\n      }\n    };\n\n    const setCharacters = () => {\n      const somun = new Character(\n        cm.charactersSrc.somun,\n        'underAttack',\n        cm.canvasWidth * 0.5 - 256 + 64,\n        cm.canvasHeight * 0.5 - 64,\n        cm,\n      );\n      const ji = new Character(\n        cm.charactersSrc.ji,\n        'attack',\n        cm.canvasWidth * 0.5 - 64,\n        cm.canvasHeight * 0.5 - 64,\n        cm,\n      );\n\n      characters.push(somun);\n      characters.push(ji);\n\n      characters.forEach((character) => allItems.push(character));\n    };\n\n    const draw = () => {\n      cm.context.clearRect(0, 0, cm.canvas.width, cm.canvas.height);\n      allItems.forEach((item) => {\n        if (item instanceof Character) {\n          item.draw();\n        }\n        if (item instanceof Light) {\n          const scaleRatio = item.y / cm.canvasHeight + 1;\n          cm.context.save();\n          cm.context.translate(item.x, item.y);\n          cm.context.scale(scaleRatio, scaleRatio);\n          cm.context.translate(-item.x, -item.y);\n          item.draw();\n          cm.context.restore();\n        }\n      });\n\n      cm.playedFrame++;\n      if (cm.playedFrame % 20 === 0) {\n        if (cm.playedFrame > 10000000000) {\n          cm.playedFrame = 0;\n        }\n        if (cm.currentFrame === 0) {\n          cm.currentFrame = 1;\n        } else {\n          cm.currentFrame = 0;\n        }\n      }\n      requestAnimationFrame(draw);\n    };\n\n    const setup = () => {\n      setSize();\n      if (characters.length < 2) {\n        setCharacters();\n      }\n      draw();\n    };\n\n    const click = (e: MouseEvent) => {\n      if (indexOfLight >= cm.colors.length) {\n        return;\n      }\n      // mouse.x = e.layerX;\n      // mouse.y = e.layerY;\n      mouse.x = e.clientX - cm.canvas.getBoundingClientRect().left;\n      mouse.y = e.clientY - cm.canvas.getBoundingClientRect().top;\n\n      const light = new Light(mouse.x, mouse.y, cm, indexOfLight);\n      lights.push(light);\n      allItems.push(light);\n      allItems.sort((a, b) => {\n        return a.yForOrder - b.yForOrder;\n      });\n      indexOfLight++;\n\n      if (indexOfLight >= cm.colors.length) {\n        characters[0].updateAction('attack');\n        characters[1].updateAction('underAttack');\n      }\n    };\n\n    cm.canvas.addEventListener('click', click);\n\n    window.addEventListener('resize', setup);\n    window.addEventListener('load', setup);\n    setup();\n    return () => {\n      window.removeEventListener('click', click);\n      window.removeEventListener('resize', setup);\n      window.removeEventListener('load', setup);\n    };\n  }, []);\n\n  return <Canvas id=\"the-canvas\"></Canvas>;\n};\n\nexport default Land;\n\ntype Action = 'attack' | 'underAttack';\n\nclass Character {\n  width: number;\n  height: number;\n  x: number;\n  y: number;\n  yForOrder: number;\n  action: Action;\n  image: HTMLImageElement;\n  startFrame: number;\n  endFrame: number;\n  frame: number;\n  cm: CM;\n\n  constructor(imageSrc, action, x, y, cm: CM) {\n    this.width = 256;\n    this.height = 256;\n    this.x = x;\n    this.y = y;\n    this.yForOrder = this.y + this.height - 24;\n    this.action = action;\n    this.image = new Image();\n    this.image.src = imageSrc;\n    this.setAction();\n    this.cm = cm;\n  }\n\n  setAction() {\n    switch (this.action) {\n      case 'attack':\n        this.startFrame = 0;\n        this.endFrame = 1;\n        return;\n      case 'underAttack':\n        this.startFrame = 2;\n        this.endFrame = 3;\n        return;\n      default:\n        this.startFrame = 0;\n        this.endFrame = 0;\n    }\n    this.frame = this.startFrame;\n  }\n\n  updateAction(action: Action) {\n    this.action = action;\n    this.setAction();\n  }\n\n  draw() {\n    if (this.cm.playedFrame % 20 === 0) {\n      if (this.cm.currentFrame === 0) {\n        this.frame = this.endFrame;\n      } else {\n        this.frame = this.startFrame;\n      }\n    }\n\n    this.cm.context.drawImage(\n      this.image,\n      this.frame * 256,\n      0,\n      256,\n      256,\n      this.x,\n      this.y,\n      this.width,\n      this.height,\n    );\n  }\n}\n"],"names":["Particle","x","y","cm","this","radius","Math","random","speed","prototype","draw","context","beginPath","arc","PI","fill","Line","index","height","gradientStartY","canvasHeight","gradient","createLinearGradient","addColorStop","colors2","particles","i","push","strokeStyle","moveTo","lineTo","stroke","length","particle","Light","yForOrder","width","angle","lines","colors","fillStyle","save","filter","ellipse","abs","sin","fillRect","restore","Canvas","styled","canvas","withConfig","displayName","componentId","Land","undefined","canvasWidth","charactersSrc","somun","ji","playedFrame","currentFrame","useEffect","document","querySelector","getContext","dpr","window","devicePixelRatio","mouse","lights","characters","allItems","indexOfLight","clearRect","forEach","item","Character","scaleRatio","translate","scale","requestAnimationFrame","setup","console","log","innerWidth","innerHeight","setCharacters","character","click","e","clientX","getBoundingClientRect","left","clientY","top","light","sort","a","b","updateAction","addEventListener","removeEventListener","React","id","imageSrc","action","image","Image","src","setAction","_proto4","startFrame","endFrame","frame","drawImage"],"sourceRoot":""}