{"version":3,"file":"component---src-pages-draggable-tsx-c5945a9e64fa3a27231e.js","mappings":"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","sources":["webpack://yuni-q-blog/./src/pages/draggable.tsx"],"sourcesContent":["import React, { useEffect, VFC } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n  .slider {\n    overflow: hidden;\n    position: relative;\n    width: 992px;\n    height: 768px;\n  }\n  .slides {\n    width: 10000px;\n    position: absolute;\n    top: 0;\n    left: -992px;\n    &.transition {\n      transition: all 0.3s ease-in-out;\n    }\n    cursor: pointer;\n    display: flex;\n  }\n  .slide {\n    width: 992px;\n    height: 768px;\n  }\n  .prev,\n  .next {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    color: red;\n    font-size: 4rem;\n  }\n  .prev:active,\n  .next:active {\n    color: #888;\n  }\n  .prev {\n    left: 4rem;\n  }\n  .next {\n    right: 4rem;\n  }\n`;\n\nconst Draggable: VFC = () => {\n  useEffect(() => {\n    const slides = document.querySelector('.slides');\n    const allSlides = document.querySelectorAll('.slide');\n    const slidesLength = allSlides.length;\n    const slideWidth = (allSlides[0] as HTMLDivElement).offsetWidth;\n\n    let index = 0;\n    let posX1 = 0;\n    let posX2 = 0;\n    let initialPosition;\n    let finalPosition;\n    let canISlide = true;\n\n    const prev = document.querySelector('.prev');\n    const next = document.querySelector('.next');\n\n    const firstSlide = allSlides[0];\n    const lastSlide = allSlides[allSlides.length - 1];\n\n    const cloneFirstSlide = firstSlide.cloneNode(true);\n    const cloneLastSlide = lastSlide.cloneNode(true);\n\n    const dragMove = (e) => {\n      if (e.type === 'touchmove') {\n        posX2 = posX1 - e.touches[0].clientX;\n        posX2 = e.touches[0].clientX;\n      } else {\n        posX2 = posX1 - e.clientX;\n        posX1 = e.clientX;\n      }\n\n      (slides as HTMLDivElement).style.left = `${\n        (slides as HTMLDivElement).offsetLeft - posX2\n      }px`;\n    };\n    slides.addEventListener('touchmove', dragMove);\n    const dragEnd = () => {\n      finalPosition = (slides as HTMLDivElement).offsetLeft;\n      if (finalPosition - initialPosition < -496) {\n        switchSlide('next', 'dragging');\n      } else if (finalPosition - initialPosition > 400) {\n        switchSlide('prev', 'dragging');\n      } else {\n        (slides as HTMLDivElement).style.left = `${initialPosition}px`;\n      }\n      document.onmouseup = null;\n      document.onmousemove = null;\n    };\n    slides.addEventListener('touchend', dragEnd);\n\n    const dragStart = (e: Event) => {\n      e.preventDefault();\n      initialPosition = (slides as HTMLDivElement).offsetLeft;\n\n      if (e.type == 'touchstart') {\n        posX1 = (e as TouchEvent).touches[0].clientX;\n      } else {\n        posX1 = (e as MouseEvent).clientX;\n\n        document.onmouseup = dragEnd;\n        document.onmousemove = dragMove;\n      }\n    };\n    slides.addEventListener('mousedown', dragStart);\n    slides.addEventListener('touchstart', dragStart);\n\n    slides.appendChild(cloneFirstSlide);\n    slides.insertBefore(cloneLastSlide, firstSlide);\n\n    const checkIndex = () => {\n      slides.classList.remove('transition');\n      if (index <= -1) {\n        (slides as HTMLDivElement).style.left = `${-(\n          slidesLength * slideWidth\n        )}px`;\n        index = slidesLength - 1;\n      }\n      if (index >= slidesLength) {\n        (slides as HTMLDivElement).style.left = `${-(1 * slideWidth)}px`;\n        index = 0;\n      }\n      canISlide = true;\n    };\n\n    slides.addEventListener('transitionend', checkIndex);\n\n    const switchSlide = (arg: string, arg2?: string) => {\n      slides.classList.add('transition');\n      if (canISlide) {\n        if (!arg2) {\n          initialPosition = (slides as HTMLDivElement).offsetLeft;\n        }\n        if (arg === 'next') {\n          (slides as HTMLDivElement).style.left = `${\n            initialPosition - slideWidth\n          }px`;\n          index++;\n        } else {\n          (slides as HTMLDivElement).style.left = `${\n            initialPosition + slideWidth\n          }px`;\n          index--;\n        }\n      }\n      canISlide = false;\n    };\n\n    prev.addEventListener('click', () => switchSlide('prev'));\n    next.addEventListener('click', () => switchSlide('next'));\n  });\n  return (\n    <Wrapper>\n      <div className=\"slider\">\n        <div className=\"slides\">\n          <div className=\"slide\">\n            <img\n              src=\"https://i.pinimg.com/originals/7f/21/3f/7f213f8a3e039d2b66ab88a2ec2ccf87.png\"\n              alt=\"\"\n            />\n          </div>\n          <span className=\"slide\">\n            <img\n              src=\"https://mblogthumb-phinf.pstatic.net/MjAxOTEwMTVfMTA1/MDAxNTcxMTQ0MjEzMzg3.AOysbEufWTaVwL4ePNbClBBlDKSvkm71V_1SxuNWNWMg.JlNebzXUQhtiznXUyztqicALU6M_d6YP9lvbfNDCWfgg.PNG.azzi_01/01.png?type=w800\"\n              alt=\"\"\n            />\n          </span>\n          <span className=\"slide\">\n            <img\n              src=\"https://i.ytimg.com/vi/VVZrp1ooCYs/maxresdefault.jpg\"\n              alt=\"\"\n            />\n          </span>\n          <span className=\"slide\">\n            <img\n              src=\"https://blog.kakaocdn.net/dn/LpVNO/btqBEBYnF30/AiHoDAkCKCT2XdeiRjCmB1/img.png\"\n              alt=\"\"\n            />\n          </span>\n        </div>\n        <a href=\"#\" className=\"prev\">\n          <i>&lt; </i>\n        </a>\n        <a href=\"#\" className=\"next\">\n          <i>&gt; </i>\n        </a>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Draggable;\n"],"names":["Wrapper","styled","div","withConfig","displayName","componentId","Draggable","useEffect","slides","document","querySelector","allSlides","querySelectorAll","slidesLength","length","slideWidth","offsetWidth","initialPosition","finalPosition","index","posX1","posX2","canISlide","prev","next","firstSlide","lastSlide","cloneFirstSlide","cloneNode","cloneLastSlide","dragMove","e","type","touches","clientX","style","left","offsetLeft","addEventListener","dragEnd","switchSlide","onmouseup","onmousemove","dragStart","preventDefault","appendChild","insertBefore","checkIndex","classList","remove","arg","arg2","add","React","className","src","alt","href"],"sourceRoot":""}