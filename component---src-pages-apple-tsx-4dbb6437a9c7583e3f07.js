(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{oIuj:function(e,n,i){"use strict";i.r(n);var t=i("q1tI"),o=i.n(t),a=i("vOnD"),l=a.b.div.withConfig({displayName:"apple__Body",componentId:"sc-750a55-0"})(["background:black;"]),r=a.b.div.withConfig({displayName:"apple__VideoWrapper",componentId:"sc-750a55-1"})(["display:flex;justify-content:center;align-items:center;overflow:hidden;position:fixed;top:0;left:0;width:100vw;height:100vh;"]),c=a.b.canvas.withConfig({displayName:"apple__Canvas",componentId:"sc-750a55-2"})(["position:fixed;top:0;left:0;"]),d=a.b.video.withConfig({displayName:"apple__Video",componentId:"sc-750a55-3"})(["transform:scale(1);"]);n.default=function(){var e=Object(t.useRef)(null),n=Object(t.useRef)(null);return Object(t.useEffect)((function(){var i,t=0,o=0,a=0,l=0,r=0,c=0,d=0,s=0,u=0,f=0,p=[{animationValue:{videoScale:[1,2],triangleMove:[0,200],rectangleMove:[0,500]}},{animationValue:{videoScale:[2,.3],triangleMove:[200,1e3],rectangleMove:[500,500]}}],m=document.body,h=e.current.getContext("2d"),v=function(){t=window.innerWidth,o=window.innerHeight,s=0,f=.5*o,p.forEach((function(e){s+=o})),m.style.height=s+"px",e.current.width=a=2*t,e.current.height=l=2*o,e.current.style.width=t+"px",e.current.style.height=o+"px",b()},w=function(e){return c/f*(e[1]-e[0])+e[0]},g=function(e,n,t){void 0===e&&(e=1),void 0===n&&(n=0),void 0===t&&(t=0),h.save(),h.translate(.5*(a-1380*e),.5*(l-3e3*e)),h.drawImage(i,0,0,1380*e,3e3*e),h.restore(),h.fillStyle="black",h.beginPath(),h.moveTo(.5*a-1500,-n-1700),h.lineTo(.5*a,.5*l-150-n),h.lineTo(.5*a+1500,-n-1700),h.lineTo(.5*a-1500,-n-1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*a-1500,l+n+1700),h.lineTo(.5*a,.5*l+150+n),h.lineTo(.5*a+1500,l+n+1700),h.lineTo(.5*a-1500,l+n+1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*a-1700-n,-1700),h.lineTo(.5*a-130-n,.5*l),h.lineTo(.5*a-1700-n,l+1700),h.lineTo(.5*a-1700-n,-1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*a+1700+n,-1700),h.lineTo(.5*a+130+n,.5*l),h.lineTo(.5*a+1700+n,l+1700),h.lineTo(.5*a+1700+n,-1700),h.fill(),h.closePath(),h.fillRect(0,.5*l-2600-t,a,2e3),h.fillRect(0,.5*l+600+t,a,2e3)},b=function(){var e,t,o;p[u]&&(e=w(p[u].animationValue.videoScale),t=w(p[u].animationValue.triangleMove),o=w(p[u].animationValue.rectangleMove),n.current.style.transform="scale("+e+")",h.clearRect(0,0,a,l),i&&g(e,t,o))},y=function(){(r=window.pageYOffset)<0||r>s-o||(r>f+d?(d+=f,u++):r<d&&(d-=f,u--),c=r-d,b())};t=window.innerWidth,o=window.innerHeight,v(),b(),window.addEventListener("resize",(function(){requestAnimationFrame(v)})),window.addEventListener("scroll",(function(){requestAnimationFrame(y)})),(i=document.createElement("img")).src="phone.png",i.addEventListener("load",(function(){g()}))}),[]),o.a.createElement(l,null,o.a.createElement(r,null,o.a.createElement(d,{ref:n,muted:!0,playsInline:!0,autoPlay:!0,loop:!0,src:"https://images.apple.com/media/us/iphone-x/2017/01df5b43-28e4-4848-bf20-490c34a926a7/overview/primary/hero/large_2x.mp4"}),o.a.createElement(c,{ref:e})))}}}]);
//# sourceMappingURL=component---src-pages-apple-tsx-4dbb6437a9c7583e3f07.js.map