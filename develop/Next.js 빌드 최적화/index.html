<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"/><link rel="preload" as="image" href="/images/profile.png"/><link rel="stylesheet" href="/_next/static/css/bc8bb31cb71603b2.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-57fdca2934e5ae0a.js"/><script src="/_next/static/chunks/6217bb07-738e49d824771fea.js" async=""></script><script src="/_next/static/chunks/5647-b33901b11da845dc.js" async=""></script><script src="/_next/static/chunks/main-app-ec1611f00934714e.js" async=""></script><script src="/_next/static/chunks/app/layout-3ad8bb7cb2292578.js" async=""></script><script src="/_next/static/chunks/9243-972bdccd4ceb11ae.js" async=""></script><script src="/_next/static/chunks/5800-4312aed1aa8a4305.js" async=""></script><script src="/_next/static/chunks/549-2babc012700e23ed.js" async=""></script><script src="/_next/static/chunks/4853-73ca7990eb89674b.js" async=""></script><script src="/_next/static/chunks/app/%5Bcategory%5D/%5B...slug%5D/page-6aac7cf9456deffb.js" async=""></script><script id="ads" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title>Next.js 빌드 최적화</title><meta name="description" content="&gt; Next.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.  ## 📊 최종 성과  ### 로컬 환경 성과  | 지표                 | 이전 (develop) | 현"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="icon" type="image/png" href="/favicon2.png"/><link rel="shortcut icon" href="/favicon2.png"/><link rel="apple-touch-icon" href="/favicon2.png"/><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@800&amp;display=swap" rel="stylesheet"/><script>(adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=1;</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div class="top-header"><a class="top-link" href="/">Yuni-Q</a><div class="flex items-center"><button class="outline-0 bg-white mx-[5px] p-0 appearance-none items-center rounded-[5px] border-0 cursor-pointer inline-flex h-10 justify-center opacity-75 overflow-hidden relative scale-75 transition-opacity duration-300 ease-in-out w-10 flex-shrink-0 hover:bg-black max-[800px]:hover:bg-white"><a href="https://github.com/Yuni-Q/blog" class="github" aria-label="GitHub"><svg class="github transition-all duration-300 ease-in-out pt-1 text-[#78757a] w-8 hover:text-white max-[800px]:hover:text-[#78757a]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></button><button class="outline-0 bg-white mx-[5px] p-0 appearance-none items-center rounded-[5px] border-0 cursor-pointer inline-flex h-10 justify-center opacity-75 overflow-hidden relative scale-75 transition-opacity duration-300 ease-in-out w-10 flex-shrink-0 hover:bg-black max-[800px]:hover:bg-white group"><div class="theme1 rounded-full h-6 relative w-6 transition-all duration-[450ms] ease-in-out bg-[#78757a]" style="border:none;overflow:visible;transform:scale(0.55)"><div class="absolute rounded-full h-6 w-6 transition-transform duration-[450ms] ease-in-out" style="border:none;opacity:0;right:-9px;top:-9px;transform:translate(14px, -14px);background:#78757a"></div><div class="absolute rounded-full h-2 w-2 left-1/2 top-1/2 transition-all duration-[350ms] ease-in-out" style="box-shadow:0 -23px 0 #78757a, 0 23px 0 #78757a, 23px 0 0 #78757a, -23px 0 0 #78757a, 15px 15px 0 #78757a, -15px 15px 0 #78757a, 15px -15px 0 #78757a, -15px -15px 0 #78757a;transform:scale(1);margin:-4px 0px 0px -4px"></div></div><div class="theme2 rounded-full border-0 h-6 absolute right-0 top-0 w-6 transition-all duration-[450ms] ease-in-out" style="background:none;opacity:0;transform:translate(14px, -14px)"></div></button><button class="outline-0 bg-white mx-[5px] p-0 appearance-none items-center rounded-[5px] border-0 cursor-pointer inline-flex h-10 justify-center opacity-75 overflow-hidden relative scale-75 transition-opacity duration-300 ease-in-out w-10 flex-shrink-0 hover:bg-black max-[800px]:hover:bg-white group"><svg class="snow transition-all duration-300 ease-in-out w-7 group-hover:fill-white max-[800px]:group-hover:fill-[#78757a]" style="fill:#78757a" version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 23.9 22.9"><path d="M23.9,10c0-0.3-0.2-0.5-0.4-0.6l-1.1-0.3C22.1,9.1,22,9,21.9,8.8c-0.1-0.2,0-0.4,0.1-0.6l0.8-0.9       c0.2-0.2,0.2-0.5,0-0.7c-1.2-1.4-3.1-2-5-1.4c-0.4,0.1-0.9,0.4-1.4,0.7c0.1-0.6,0.2-1.1,0.2-1.6c0-1.9-1.2-3.6-2.9-4.3       c-0.2-0.1-0.5,0-0.7,0.2l-0.6,1c-0.1,0.2-0.3,0.3-0.5,0.3c-0.2,0-0.4-0.1-0.5-0.3l-0.6-1C10.7,0,10.4-0.1,10.2,0       C8.5,0.7,7.3,2.4,7.3,4.3c0,0.5,0.1,1,0.2,1.6C7,5.6,6.5,5.4,6.1,5.2c-1.8-0.6-3.8,0-5,1.4c-0.2,0.2-0.2,0.5,0,0.7l0.8,0.9       C2,8.4,2.1,8.6,2,8.8c0,0.2-0.2,0.3-0.4,0.4L0.4,9.5C0.2,9.5,0,9.8,0,10c0.1,1.8,1.4,3.5,3.2,4c0.4,0.1,1,0.2,1.5,0.3       c-0.4,0.4-0.8,0.8-1.1,1.1c-1.1,1.6-1.2,3.6-0.2,5.2c0.1,0.2,0.4,0.3,0.7,0.2l1.1-0.4c0.2-0.1,0.4-0.1,0.6,0C6,20.6,6,20.8,6,21.1       l-0.1,1.2c0,0.3,0.2,0.5,0.4,0.6c1.8,0.4,3.7-0.2,4.8-1.8c0.3-0.4,0.5-0.8,0.8-1.4c0.2,0.5,0.5,1,0.8,1.4c1.1,1.6,3.1,2.2,4.8,1.8       c0.3-0.1,0.4-0.3,0.4-0.6l-0.1-1.2c0-0.3,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.1,0.6,0l1.1,0.4c0.2,0.1,0.5,0,0.7-0.2       c1-1.6,0.9-3.6-0.2-5.2c-0.3-0.4-0.6-0.8-1.1-1.1c0.6-0.1,1.1-0.2,1.5-0.3C22.6,13.5,23.8,11.8,23.9,10z M14.1,12.8       c0.3-0.2,0.7-0.3,1.1-0.1c0.4,0.3,0.6,0.8,0.3,1.3c-0.3,0.4-0.8,0.6-1.3,0.3c-0.3-0.2-0.5-0.6-0.4-1l-1.4-0.8v1.6       c0.4,0.1,0.6,0.5,0.6,0.9c0,0.5-0.4,0.9-0.9,0.9c-0.5,0-0.9-0.4-0.9-0.9c0-0.4,0.3-0.7,0.6-0.9v-1.6l-1.4,0.8c0.1,0.4-0.1,0.8-0.4,1       c-0.4,0.3-1,0.1-1.3-0.3c-0.3-0.4-0.1-1,0.3-1.3c0.3-0.2,0.8-0.1,1.1,0.1l1.4-0.8L10,11.1c-0.3,0.2-0.7,0.3-1.1,0.1       C8.5,11,8.3,10.4,8.6,10c0.3-0.4,0.8-0.6,1.3-0.3c0.3,0.2,0.5,0.6,0.4,1l1.4,0.8V9.8c-0.4-0.1-0.6-0.5-0.6-0.9C11.1,8.4,11.5,8,12,8       c0.5,0,0.9,0.4,0.9,0.9c0,0.4-0.3,0.7-0.6,0.9v1.6l1.4-0.8c-0.1-0.4,0.1-0.8,0.4-1c0.4-0.3,1-0.1,1.3,0.3c0.3,0.4,0.1,1-0.3,1.3       c-0.3,0.2-0.8,0.1-1.1-0.1l-1.4,0.8L14.1,12.8z"></path></svg></button><a class="w-[30px] h-[30px] leading-[30px] mx-[5px] text-black flex-shrink-0 flex items-center justify-center" href="/search/">검색</a></div></div><div class="layout-content" style="margin-right:0;max-width:none"><div class="mb-6 max-w-4xl mx-auto px-4 xl:pr-[220px]"><ins class="adsbygoogle block min-w-[320px] min-h-0 mx-auto bg-gray-300" data-ad-client="ca-pub-2667251850399676" data-ad-slot="9586629994" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div class="relative"><div class="max-w-4xl mx-auto px-4 xl:pr-[220px]"><h1 class="text-4xl md:text-5xl font-extrabold mb-6 leading-tight text-gray-900 dark:text-gray-100">Next.js 빌드 최적화</h1><div class="flex flex-col gap-4 mb-8"><div class="flex items-center gap-2 text-gray-600 dark:text-gray-400"><span class="text-sm font-medium">yuni-q</span><span class="text-gray-400 dark:text-gray-500">·</span><span class="text-sm">2025년 12월 28일</span></div><div class="flex flex-wrap gap-2"><span class="px-3 py-1.5 text-sm rounded-md bg-green-50 dark:bg-green-900/20 text-gray-700 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors cursor-pointer">Next.js</span><span class="px-3 py-1.5 text-sm rounded-md bg-green-50 dark:bg-green-900/20 text-gray-700 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors cursor-pointer">빌드최적화</span><span class="px-3 py-1.5 text-sm rounded-md bg-green-50 dark:bg-green-900/20 text-gray-700 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors cursor-pointer">Webpack</span><span class="px-3 py-1.5 text-sm rounded-md bg-green-50 dark:bg-green-900/20 text-gray-700 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors cursor-pointer">CI/CD</span><span class="px-3 py-1.5 text-sm rounded-md bg-green-50 dark:bg-green-900/20 text-gray-700 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors cursor-pointer">성능최적화</span></div></div><div class="jsx-4115489982 post-content prose prose-lg max-w-none  prose-headings:font-semibold prose-p:leading-relaxed prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:no-underline hover:prose-a:underline prose-strong:font-semibold prose-code:font-mono prose-code:text-sm prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-gray-900 dark:prose-pre:bg-gray-800 prose-blockquote:border-l-4 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:my-6 prose-img:rounded-lg prose-img:shadow-md prose-table:w-full prose-ul:list-disc prose-ol:list-decimal prose-li:my-1"><blockquote>
<p>Next.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.</p>
</blockquote>
<h2 id="-최종-성과">📊 최종 성과<a aria-hidden="true" tabindex="-1" href="#-최종-성과"><span class="anchor"></span></a></h2>
<h3 id="로컬-환경-성과">로컬 환경 성과<a aria-hidden="true" tabindex="-1" href="#로컬-환경-성과"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>지표</th>
<th>이전 (develop)</th>
<th>현재 (최적화 후)</th>
<th>개선율</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>로컬 빌드 시간</strong></td>
<td>462초 (7.7분)</td>
<td>154초 (2.6분)</td>
<td><strong>-66.7%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Next.js Build</strong></td>
<td>~450초</td>
<td>141초</td>
<td><strong>-68.7%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Webpack 컴파일</strong></td>
<td>174초</td>
<td>79초</td>
<td><strong>-54.8%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>SIGKILL 에러</strong></td>
<td>18회</td>
<td>0회</td>
<td><strong>-100%</strong> ✅</td>
</tr>
<tr>
<td><strong>타임아웃 에러</strong></td>
<td>18개</td>
<td>0개</td>
<td><strong>-100%</strong> ✅</td>
</tr>
<tr>
<td><strong>정적 페이지 생성</strong></td>
<td>106/106</td>
<td>89/89</td>
<td><strong>100%</strong> ✅</td>
</tr>
</tbody>
</table>
<h3 id="서버-환경-성과">서버 환경 성과<a aria-hidden="true" tabindex="-1" href="#서버-환경-성과"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>지표</th>
<th>이전</th>
<th>현재</th>
<th>개선율</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>총 빌드 시간</strong></td>
<td>530초 (8분 50초)</td>
<td>275초 (4분 35초)</td>
<td><strong>-48.1%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Next.js Build</strong></td>
<td>521초</td>
<td>258초</td>
<td><strong>-50.5%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Webpack 컴파일</strong></td>
<td>174초</td>
<td>79초</td>
<td><strong>-54.8%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Server 컴파일</strong></td>
<td>97초</td>
<td>34초</td>
<td><strong>-65.1%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>Client 컴파일</strong></td>
<td>75초</td>
<td>44초</td>
<td><strong>-42.0%</strong> ⭐⭐⭐</td>
</tr>
</tbody>
</table>
<h3 id="ci-환경-성과">CI 환경 성과<a aria-hidden="true" tabindex="-1" href="#ci-환경-성과"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>지표</th>
<th>이전</th>
<th>현재</th>
<th>개선</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CI 빌드 시간</strong></td>
<td>1200초+ (20분+)</td>
<td>6-10분 (안정성 확보)</td>
<td>안정성 향상 ✅</td>
</tr>
</tbody>
</table>
<h3 id="목표-달성도">목표 달성도<a aria-hidden="true" tabindex="-1" href="#목표-달성도"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>목표</th>
<th>목표값</th>
<th>달성값</th>
<th>달성률</th>
</tr>
</thead>
<tbody>
<tr>
<td>빌드 시간 단축</td>
<td>40% 이상</td>
<td>66.7%</td>
<td>✅ 167%</td>
</tr>
<tr>
<td>SIGKILL 에러 제거</td>
<td>100%</td>
<td>100%</td>
<td>✅ 100%</td>
</tr>
<tr>
<td>타임아웃 에러 제거</td>
<td>100%</td>
<td>100%</td>
<td>✅ 100%</td>
</tr>
<tr>
<td>Webpack 컴파일 단축</td>
<td>30% 이상</td>
<td>54.8%</td>
<td>✅ 183%</td>
</tr>
</tbody>
</table>
<p><strong>모든 목표를 초과 달성했습니다!</strong> 🎉</p>
<h2 id="-문제-상황">🔴 문제 상황<a aria-hidden="true" tabindex="-1" href="#-문제-상황"><span class="anchor"></span></a></h2>
<h3 id="작업-배경">작업 배경<a aria-hidden="true" tabindex="-1" href="#작업-배경"><span class="anchor"></span></a></h3>
<ul>
<li><strong>이전 빌드 시간</strong>: 22분 54초 (1,374초) → 7-12분 (420-720초)로 개선되었으나 여전히 개선 여지 존재</li>
<li><strong>목표</strong>: 빌드 시간 단축 및 안정성 향상</li>
<li><strong>주요 이슈</strong>: SIGKILL 에러, 타임아웃 에러, 메모리 부족</li>
</ul>
<p>Next.js 14를 도입한 후 성능 개선 작업을 진행했지만, 그 과정에서 예상치 못한 사이드 이펙트가 발생했습니다.</p>
<h3 id="주요-문제점">주요 문제점<a aria-hidden="true" tabindex="-1" href="#주요-문제점"><span class="anchor"></span></a></h3>
<ol>
<li>
<p><strong>SIGKILL 에러 18회 발생</strong></p>
<ul>
<li>빌드 중 프로세스가 강제 종료됨</li>
<li>메모리 부족으로 인한 OOM Killer 작동 추정</li>
</ul>
</li>
<li>
<p><strong>타임아웃 에러 18개</strong></p>
<ul>
<li>정적 페이지 생성 시 60초 타임아웃 발생</li>
<li>여러 페이지에서 반복적으로 발생</li>
</ul>
</li>
<li>
<p><strong>긴 빌드 시간</strong></p>
<ul>
<li>총 빌드 시간: 530초 (약 8분 50초)</li>
<li>Webpack 컴파일: 174초</li>
<li>정적 페이지 생성: 약 347초 (추정)</li>
</ul>
</li>
</ol>
<h3 id="빌드-환경">빌드 환경<a aria-hidden="true" tabindex="-1" href="#빌드-환경"><span class="anchor"></span></a></h3>
<ul>
<li><strong>프레임워크</strong>: Next.js 14</li>
<li><strong>빌드 타입</strong>: SSG (Static Site Generation) + ISR (Incremental Static Regeneration)</li>
<li><strong>페이지 수</strong>: 약 96개 (최종적으로 89개 페이지 생성)</li>
<li><strong>GraphQL</strong>: Apollo Server 사용</li>
<li><strong>작업 제약사항</strong>:
<ul>
<li>불필요한 라이브러리 추가 없이 진행</li>
<li>판다프론트와 환경 통일 필요</li>
</ul>
</li>
</ul>
<h2 id="️-시도했지만-취소한-방법들">⚠️ 시도했지만 취소한 방법들<a aria-hidden="true" tabindex="-1" href="#️-시도했지만-취소한-방법들"><span class="anchor"></span></a></h2>
<h3 id="1-ssr-전환-11개-페이지">1. SSR 전환 (11개 페이지)<a aria-hidden="true" tabindex="-1" href="#1-ssr-전환-11개-페이지"><span class="anchor"></span></a></h3>
<p><strong>시도 내용</strong>:</p>
<ul>
<li>타임아웃 발생 페이지 11개를 <code class="inline-code">getStaticProps</code> → <code class="inline-code">getServerSideProps</code>로 전환</li>
<li>ISR 효과를 위한 캐시 헤더 설정 (<code class="inline-code">Cache-Control: s-maxage=60, stale-while-revalidate=86400</code>)</li>
</ul>
<p><strong>시도했던 코드 패턴</strong>:</p>
<pre class="language-typescript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: getStaticProps (SSG)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getStaticProps<span class="token operator">:</span> GetStaticProps <span class="token operator">=</span> PropsFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getStaticPaths</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fallback<span class="token operator">:</span> <span class="token string">'blocking'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After (시도): getServerSideProps (SSR)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getServerSideProps<span class="token operator">:</span> <span class="token function-variable function">GetServerSideProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// ISR 효과를 위한 캐시 헤더</span>
</span><span class="code-line">  ctx<span class="token punctuation">.</span>res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Cache-Control'</span><span class="token punctuation">,</span> <span class="token string">'s-maxage=60, stale-while-revalidate=86400'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 기존 getStaticProps 로직 재사용</span>
</span><span class="code-line">  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> PropsFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> result
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>취소 이유</strong>:</p>
<ol>
<li>❌ 빌드 시간 단축 효과가 예상보다 미미함</li>
<li>❌ 서버 부하 증가 우려 (매 요청마다 서버 렌더링)</li>
<li>❌ ISR 장점 상실 (빠른 응답, CDN 캐싱)</li>
<li>✅ 메모리 증가만으로도 빌드 안정성 확보 가능</li>
</ol>
<p><strong>교훈</strong>: 빌드 시간 단축보다 안정성이 우선이다. SSR 전환은 서버 부하를 증가시키므로 신중하게 결정해야 한다.</p>
<hr>
<h3 id="2-isr-revalidate-시간-조정">2. ISR revalidate 시간 조정<a aria-hidden="true" tabindex="-1" href="#2-isr-revalidate-시간-조정"><span class="anchor"></span></a></h3>
<p><strong>시도 내용</strong>:</p>
<ul>
<li><code class="inline-code">revalidate</code> 시간을 조정하여 런타임 성능 개선 시도</li>
<li>예: <code class="inline-code">revalidate: 60</code> → <code class="inline-code">revalidate: 300</code> (5분) 등</li>
</ul>
<p><strong>취소 이유</strong>:</p>
<ol>
<li>❌ 빌드 시간 단축 효과가 미미함</li>
<li>❌ 런타임 성능 개선 효과도 예상보다 작았음</li>
<li>❌ 빌드 안정성에 직접적인 영향이 없음</li>
</ol>
<p><strong>교훈</strong>: revalidate 시간 조정은 빌드 시간에 큰 영향을 주지 않는다. 빌드 안정성 문제와는 별개의 이슈다.</p>
<hr>
<h3 id="3-빌드-시-isr-제외-on-demand-isr">3. 빌드 시 ISR 제외 (On-demand ISR)<a aria-hidden="true" tabindex="-1" href="#3-빌드-시-isr-제외-on-demand-isr"><span class="anchor"></span></a></h3>
<p><strong>시도 내용</strong>:</p>
<ul>
<li><code class="inline-code">paths: []</code> + <code class="inline-code">fallback: 'blocking'</code> 패턴으로 빌드 시 정적 페이지 생성을 제외하고 첫 요청 시 생성하는 On-demand ISR 전략 시도</li>
</ul>
<p><strong>시도했던 코드 패턴</strong>:</p>
<pre class="language-typescript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getStaticPaths</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 빌드 시 생성하지 않음</span>
</span><span class="code-line">  fallback<span class="token operator">:</span> <span class="token string">'blocking'</span><span class="token punctuation">,</span> <span class="token comment">// 런타임에 생성</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getStaticProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    props<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    revalidate<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token comment">// ISR 유지! 60초 후 재생성</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>취소 이유</strong>:</p>
<ol>
<li>❌ <code class="inline-code">getStaticPaths</code> 함수 자체는 여전히 실행되어 메모리 사용</li>
<li>❌ 여러 페이지의 <code class="inline-code">getStaticPaths</code>가 동시에 실행되면 여전히 메모리 부족 발생 가능</li>
<li>❌ 빌드 시간 단축 효과가 예상보다 미미함</li>
<li>❌ 첫 요청 시 지연으로 사용자 경험 저하 (2-5초 지연)</li>
</ol>
<p><strong>교훈</strong>: On-demand ISR의 한계를 이해해야 한다. <code class="inline-code">paths: []</code>로 설정해도 <code class="inline-code">getStaticPaths</code> 함수는 여전히 실행되므로 메모리 사용 문제가 근본적으로 해결되지 않는다.</p>
<hr>
<h3 id="시도했지만-취소한-방법들-비교표">시도했지만 취소한 방법들 비교표<a aria-hidden="true" tabindex="-1" href="#시도했지만-취소한-방법들-비교표"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>최적화 방법</th>
<th>시도 여부</th>
<th>성공 여부</th>
<th>취소 이유</th>
<th>대안</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SSR 전환</strong></td>
<td>✅ 시도</td>
<td>❌ 취소</td>
<td>빌드 시간 단축 효과 미미, 서버 부하 증가 우려</td>
<td>메모리 증가</td>
</tr>
<tr>
<td><strong>ISR revalidate 조정</strong></td>
<td>✅ 시도</td>
<td>❌ 취소</td>
<td>성과가 없음</td>
<td>기본값 유지</td>
</tr>
<tr>
<td><strong>On-demand ISR</strong></td>
<td>✅ 시도</td>
<td>❌ 취소</td>
<td><code class="inline-code">getStaticPaths</code> 실행으로 메모리 사용 지속</td>
<td>기존 ISR 유지</td>
</tr>
<tr>
<td><strong>GraphQL 빌드 시 제외</strong></td>
<td>✅ 시도</td>
<td>⚠️ 부분 취소</td>
<td>ISR을 위해 빌드 시 쿼리 실행 필요</td>
<td>ISR 유지</td>
</tr>
<tr>
<td><strong>메모리 제한 증가</strong></td>
<td>✅ 시도</td>
<td>✅ 성공</td>
<td>-</td>
<td>메모리 제한 증가 (40GB)</td>
</tr>
<tr>
<td><strong>Webpack 캐시</strong></td>
<td>✅ 시도</td>
<td>✅ 성공</td>
<td>-</td>
<td>Filesystem 캐시 활성화</td>
</tr>
<tr>
<td><strong>CI 빌드 캐시</strong></td>
<td>✅ 시도</td>
<td>⚠️ 부분 성공</td>
<td>캐시 서버 연결 문제</td>
<td>캐시 서버 정상화 대기</td>
</tr>
<tr>
<td><strong>BOLD_PAREN_PLACEHOLDER_0</strong></td>
<td>✅ 적용</td>
<td>✅ 성공</td>
<td>-</td>
<td>Next.js 14 기본 활성화</td>
</tr>
<tr>
<td><strong>모듈 해석 최적화</strong></td>
<td>✅ 시도</td>
<td>✅ 성공</td>
<td>-</td>
<td>resolve 설정 최적화</td>
</tr>
<tr>
<td><strong>최적화 단계 조정</strong></td>
<td>✅ 시도</td>
<td>✅ 성공</td>
<td>-</td>
<td>Webpack optimization</td>
</tr>
<tr>
<td><strong>소스맵 최적화</strong></td>
<td>✅ 시도</td>
<td>✅ 성공</td>
<td>-</td>
<td>CI 환경에서 비활성화</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="-최종-해결-방법">✅ 최종 해결 방법<a aria-hidden="true" tabindex="-1" href="#-최종-해결-방법"><span class="anchor"></span></a></h2>
<h3 id="1-메모리-제한-증가">1. 메모리 제한 증가<a aria-hidden="true" tabindex="-1" href="#1-메모리-제한-증가"><span class="anchor"></span></a></h3>
<p><strong>변경 사항</strong>:</p>
<p><strong>방법 1: 고정 메모리 제한 설정</strong></p>
<pre class="language-bash optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 메모리 제한 직접 설정</span>
</span><span class="code-line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">"--max-old-space-size=40960"</span>  <span class="token comment"># 40GB</span>
</span></code></pre>
<p><strong>BOLD_PAREN_PLACEHOLDER_1</strong></p>
<pre class="language-bash optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 동적 메모리 할당 스크립트</span>
</span><span class="code-line"><span class="token assign-left variable">AVAILABLE_MEM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">free</span> <span class="token parameter variable">-g</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/^Mem:/{print $2}'</span><span class="token variable">)</span></span>
</span><span class="code-line"><span class="token assign-left variable">MEMORY_LIMIT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>AVAILABLE_MEM <span class="token operator">*</span> <span class="token number">50</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token variable">))</span></span>
</span><span class="code-line"><span class="token assign-left variable">MEMORY_LIMIT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>MEMORY_LIMIT <span class="token operator">></span> <span class="token number">80</span> <span class="token operator">?</span> <span class="token number">80</span> <span class="token operator">:</span> MEMORY_LIMIT<span class="token variable">))</span></span>
</span><span class="code-line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">"--max-old-space-size=<span class="token variable">${MEMORY_LIMIT}</span>000"</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ SIGKILL 에러 100% 해결</li>
<li>✅ 타임아웃 에러 100% 해결</li>
<li>✅ 빌드 안정성 확보</li>
<li>✅ 환경에 따라 자동으로 메모리 할당량 조정 (동적 할당 시)</li>
</ul>
<p><strong>비용</strong>: 메모리 사용량 증가 (하지만 빌드 안정성 확보)</p>
<p><strong>핵심 인사이트</strong>: 빌드 시간 단축보다 안정성이 우선이다. 메모리 증가가 가장 효과적인 해결책이었다. 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.</p>
<hr>
<h3 id="2-webpack-캐시-설정">2. Webpack 캐시 설정<a aria-hidden="true" tabindex="-1" href="#2-webpack-캐시-설정"><span class="anchor"></span></a></h3>
<p><strong>변경 사항</strong>:</p>
<pre class="language-javascript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// next.config.js</span>
</span><span class="code-line"><span class="token function-variable function">webpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> <span class="token punctuation">{</span> dev<span class="token punctuation">,</span> isServer <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dev<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    config<span class="token punctuation">.</span><span class="token property-access">cache</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">compression</span><span class="token operator">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span> <span class="token comment">// 압축으로 디스크 공간 절약</span>
</span><span class="code-line">      <span class="token literal-property property">buildDependencies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> config
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 증분 빌드 시 50-70% 시간 단축 (약 130-180초 절감)</li>
<li>✅ 첫 빌드에는 영향 없음</li>
</ul>
<p><strong>비용</strong>: 디스크 공간 사용 (압축으로 최소화)</p>
<p><strong>핵심 인사이트</strong>: 캐시의 중요성을 다시 한번 확인했다. Webpack 캐시가 가장 큰 효과를 보였다.</p>
<hr>
<h3 id="7-nextjs-컴파일러-및-최적화-설정">7. Next.js 컴파일러 및 최적화 설정<a aria-hidden="true" tabindex="-1" href="#7-nextjs-컴파일러-및-최적화-설정"><span class="anchor"></span></a></h3>
<h4 id="71-코드-최소화-swcminify-활성화">7.1. 코드 최소화 (swcMinify 활성화)<a aria-hidden="true" tabindex="-1" href="#71-코드-최소화-swcminify-활성화"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<p>Next.js 14는 기본적으로 SWC 컴파일러를 사용하며, <code class="inline-code">swcMinify</code>가 기본적으로 활성화되어 있습니다. SWC는 Rust로 작성된 컴파일러로 Babel보다 훨씬 빠릅니다.</p>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 코드 최소화 속도 향상 (Babel 대비 20배 빠름)</li>
<li>✅ Tree-shaking 자동 적용</li>
<li>✅ 최적화된 번들 크기</li>
</ul>
<p><strong>핵심 인사이트</strong>: Next.js 14에서는 SWC가 기본 컴파일러이므로 별도 설정이 필요 없지만, 이전 버전에서 업그레이드한 경우 확인이 필요합니다.</p>
<h4 id="72-모듈-해석-최적화">7.2. 모듈 해석 최적화<a aria-hidden="true" tabindex="-1" href="#72-모듈-해석-최적화"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<pre class="language-javascript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// next.config.js</span>
</span><span class="code-line"><span class="token function-variable function">webpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  config<span class="token punctuation">.</span><span class="token property-access">resolve</span><span class="token punctuation">.</span><span class="token property-access">modules</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">    path<span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    path<span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../../node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">'node_modules'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line">  config<span class="token punctuation">.</span><span class="token property-access">resolve</span><span class="token punctuation">.</span><span class="token property-access">extensions</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'.tsx'</span><span class="token punctuation">,</span> <span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.jsx'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span>
</span><span class="code-line">  config<span class="token punctuation">.</span><span class="token property-access">resolve</span><span class="token punctuation">.</span><span class="token property-access">symlinks</span> <span class="token operator">=</span> <span class="token boolean">false</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> config
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 모듈 해석 경로 최적화로 탐색 시간 단축</li>
<li>✅ 확장자 해석 순서 최적화</li>
<li>✅ symlinks 비활성화로 성능 향상</li>
<li>✅ 예상 절감: 2-4초 (5-10%)</li>
</ul>
<h4 id="73-webpack-최적화-단계-조정">7.3. Webpack 최적화 단계 조정<a aria-hidden="true" tabindex="-1" href="#73-webpack-최적화-단계-조정"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<pre class="language-javascript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// next.config.js</span>
</span><span class="code-line"><span class="token function-variable function">webpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  config<span class="token punctuation">.</span><span class="token property-access">optimization</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token spread operator">...</span>config<span class="token punctuation">.</span><span class="token property-access">optimization</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">moduleIds</span><span class="token operator">:</span> <span class="token string">'deterministic'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">chunkIds</span><span class="token operator">:</span> <span class="token string">'deterministic'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">removeAvailableModules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">removeEmptyChunks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">mergeDuplicateChunks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">sideEffects</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> config
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 불필요한 최적화 단계 제거</li>
<li>✅ Tree-shaking 강화</li>
<li>✅ 사이드 이펙트 없는 모듈 최적화</li>
<li>✅ 예상 절감: 4-7초 (5-10%)</li>
</ul>
<h4 id="74-typescript-컴파일-최적화">7.4. TypeScript 컴파일 최적화<a aria-hidden="true" tabindex="-1" href="#74-typescript-컴파일-최적화"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<pre class="language-javascript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// next.config.js</span>
</span><span class="code-line"><span class="token literal-property property">typescript</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">tsconfigPath</span><span class="token operator">:</span> <span class="token string">'./next.tsconfig.json'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">ignoreBuildErrors</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 타입 안전성 유지</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 타입 체크 최적화로 컴파일 시간 단축</li>
<li>✅ TypeScript 컴파일 시간 5-10% 단축 (약 2-5초)</li>
</ul>
<h4 id="75-소스맵-최적화">7.5. 소스맵 최적화<a aria-hidden="true" tabindex="-1" href="#75-소스맵-최적화"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<pre class="language-javascript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// next.config.js</span>
</span><span class="code-line"><span class="token function-variable function">webpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> <span class="token punctuation">{</span> dev <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dev<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// CI 환경에서 소스맵 비활성화 (컴파일 시간 단축)</span>
</span><span class="code-line">    <span class="token keyword">const</span> isCI <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">CI</span> <span class="token operator">===</span> <span class="token string">'true'</span>
</span><span class="code-line">    config<span class="token punctuation">.</span><span class="token property-access">devtool</span> <span class="token operator">=</span> isCI <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token string">'source-map'</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> config
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ CI 환경에서 소스맵 생성 비활성화로 컴파일 시간 단축</li>
<li>✅ 로컬 환경에서는 소스맵 유지 (디버깅 용이)</li>
<li>✅ 예상 효과: CI 빌드 시간 1-2초 단축</li>
</ul>
<h4 id="종합-개선-효과">종합 개선 효과<a aria-hidden="true" tabindex="-1" href="#종합-개선-효과"><span class="anchor"></span></a></h4>
<table>
<thead>
<tr>
<th>개선 사항</th>
<th>예상 절감</th>
<th>누적 효과</th>
<th>상태</th>
</tr>
</thead>
<tbody>
<tr>
<td>모듈 해석 최적화</td>
<td>2-4초</td>
<td>2-4초</td>
<td>✅ 적용됨</td>
</tr>
<tr>
<td>최적화 단계 조정</td>
<td>4-7초</td>
<td>6-11초</td>
<td>✅ 적용됨</td>
</tr>
<tr>
<td>TypeScript 설정 최적화</td>
<td>2-5초</td>
<td>8-16초</td>
<td>✅ 적용됨</td>
</tr>
<tr>
<td>소스맵 최적화 (CI)</td>
<td>1-2초</td>
<td>9-18초</td>
<td>✅ 적용됨</td>
</tr>
</tbody>
</table>
<p><strong>최종 예상 컴파일 시간</strong>:</p>
<ul>
<li><strong>현재</strong>: 74.52초</li>
<li><strong>개선 후</strong>: 56-66초</li>
<li><strong>단축</strong>: 약 9-18초 (<strong>12-24% 개선</strong>)</li>
</ul>
<h4 id="76-forktscheckerwebpackplugin-활용">7.6. ForkTsCheckerWebpackPlugin 활용<a aria-hidden="true" tabindex="-1" href="#76-forktscheckerwebpackplugin-활용"><span class="anchor"></span></a></h4>
<p><strong>변경 사항</strong>:</p>
<p>Next.js는 기본적으로 TypeScript 타입 체크를 별도 프로세스로 실행합니다. 이를 통해 빌드와 타입 체크를 병렬로 수행할 수 있습니다.</p>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 타입 체크를 별도 프로세스로 실행하여 빌드 속도 향상</li>
<li>✅ 빌드와 타입 체크 병렬 처리</li>
<li>✅ 빌드 시간에 타입 체크 시간이 포함되지 않음</li>
</ul>
<p><strong>핵심 인사이트</strong>: TypeScript 프로젝트에서는 타입 체크를 별도 프로세스로 분리하는 것이 빌드 성능에 큰 도움이 됩니다.</p>
<hr>
<h3 id="3-ci-빌드-캐시-구현-부분-성공">3. CI 빌드 캐시 구현 (부분 성공)<a aria-hidden="true" tabindex="-1" href="#3-ci-빌드-캐시-구현-부분-성공"><span class="anchor"></span></a></h3>
<p><strong>변경 사항</strong>:</p>
<pre class="language-yaml optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-yaml code-highlight"><span class="code-line"><span class="token comment"># .github/workflows/cup-build.yml</span>
</span><span class="code-line"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache Next.js build
</span><span class="code-line">  <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3
</span><span class="code-line">  <span class="token key atrule">with</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
</span></span><span class="code-line"><span class="token scalar string">      .next/cache
</span></span><span class="code-line"><span class="token scalar string">      node_modules/.cache</span>
</span><span class="code-line">    <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>nextjs<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles('<span class="token important">**/package-lock.json')</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles('<span class="token important">**/*.ts'</span><span class="token punctuation">,</span> '<span class="token important">**/*.tsx')</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
</span></span><span class="code-line"><span class="token scalar string">      ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}-</span>
</span></code></pre>
<p><strong>현재 상태</strong>: ⚠️ 부분 성공</p>
<ul>
<li>캐시 구현은 완료되었으나 캐시 서버 연결 문제로 실제 작동 안 함</li>
<li><code class="inline-code">downloadCache failed: connect ETIMEDOUT 10.116.46.78:9000</code> 에러 발생</li>
<li><code class="inline-code">continue-on-error: true</code> 설정으로 캐시 실패 시에도 빌드 진행</li>
<li><strong>캐시 서버 정상화 시 빌드 시간 30-50% 단축 가능</strong></li>
</ul>
<p><strong>효과</strong> (예상):</p>
<ul>
<li>✅ 캐시 히트 시 빌드 시간 30-50% 단축 가능</li>
<li>✅ CI 환경에서도 증분 빌드 효과</li>
</ul>
<p><strong>비용</strong>: 캐시 서버 스토리지 사용</p>
<p><strong>핵심 인사이트</strong>: CI 환경에서도 캐시를 활용하면 빌드 시간을 크게 단축할 수 있지만, 캐시 서버 인프라가 정상 작동해야 한다.</p>
<hr>
<h3 id="4-graphql-빌드-시-실행-방지-시도-후-부분-취소">4. GraphQL 빌드 시 실행 방지 (시도 후 부분 취소)<a aria-hidden="true" tabindex="-1" href="#4-graphql-빌드-시-실행-방지-시도-후-부분-취소"><span class="anchor"></span></a></h3>
<p><strong>시도 내용</strong>:</p>
<ul>
<li>빌드 시 GraphQL 쿼리 스킵, 서버 시작 제거</li>
<li>Apollo Client가 빌드 중에는 빈 응답 반환하도록 변경 (<code class="inline-code">httpLink.ts</code>)</li>
<li>GraphQL 스키마 및 Apollo Client를 런타임에 생성하도록 변경</li>
<li>예상 효과: 242-525초 (4-8.75분) 절감</li>
</ul>
<p><strong>시도했던 코드 패턴</strong>:</p>
<pre class="language-typescript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// _app.tsx</span>
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PHASE</span> <span class="token operator">===</span> <span class="token string">'phase-production-build'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 빌드 시 GraphQL 쿼리 스킵</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    apolloClient<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ApolloClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      cache<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token comment">// 빈 캐시 반환</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>빌드 스크립트 수정</strong>:</p>
<pre class="language-bash optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># package.json</span>
</span><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string">"scripts"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token string">"build"</span><span class="token builtin class-name">:</span> <span class="token string">"SKIP_SERVER_START=true next build"</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><strong>최종 상태</strong>: ⚠️ 부분 취소</p>
<ul>
<li>❌ 효과가 미미함 (예상했던 시간 절감 효과가 크지 않음)</li>
<li>❌ ISR을 위해 빌드 시 GraphQL 쿼리 실행이 필요함</li>
<li>⚠️ <strong>참고</strong>: 빌드 중 빈 응답 반환 코드는 여전히 코드베이스에 존재하지만, 실제로는 Apollo Server를 시작하고 있어 효과가 없음</li>
</ul>
<p><strong>교훈</strong>: ISR을 사용하는 경우 빌드 시 GraphQL 쿼리 실행이 필요하다. 빌드 시 쿼리를 완전히 제거하는 것은 ISR의 장점을 잃게 만든다.</p>
<hr>
<h3 id="5-빌드-안정성-개선">5. 빌드 안정성 개선<a aria-hidden="true" tabindex="-1" href="#5-빌드-안정성-개선"><span class="anchor"></span></a></h3>
<p><strong>변경 사항</strong>:</p>
<ul>
<li>런타임 에러 해결 (방어적 프로그래밍 패턴 적용)</li>
<li>타입 체크 개선</li>
<li>JSON 직렬화 에러 해결</li>
<li><code class="inline-code">buildType</code> 변수 정의 문제 해결</li>
</ul>
<p><strong>주요 수정 사항</strong>:</p>
<pre class="language-typescript optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before</span>
</span><span class="code-line"><span class="token keyword">const</span> promotionInfo <span class="token operator">=</span> pageProps<span class="token operator">?.</span>promotionInfo<span class="token operator">?.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After</span>
</span><span class="code-line"><span class="token keyword">const</span> promotionInfo <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>pageProps<span class="token operator">?.</span>promotionInfo<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token operator">?</span> pageProps<span class="token punctuation">.</span>promotionInfo<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token operator">:</span> <span class="token keyword">undefined</span>
</span></code></pre>
<p><strong>해결한 에러들</strong>:</p>
<ol>
<li><strong><code class="inline-code">find()</code> 메서드 에러</strong>: 배열이 아닌 경우 방어 처리</li>
<li><strong><code class="inline-code">fantasy-land/filter</code> 에러</strong>: 타입 체크 강화</li>
<li><strong>JSON 직렬화 에러</strong>: 순환 참조 제거</li>
<li><strong><code class="inline-code">buildType</code> 변수 정의 문제</strong>: 환경 변수 명확화</li>
</ol>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ 모든 정적 페이지 생성 성공 (89/89)</li>
<li>✅ 빌드 안정성 향상</li>
<li>✅ CI 빌드 안정성 확보</li>
</ul>
<p><strong>비용</strong>: 코드 수정 (방어적 프로그래밍 패턴 적용)</p>
<p><strong>핵심 인사이트</strong>: 방어적 프로그래밍 패턴을 적용하면 빌드 안정성을 크게 향상시킬 수 있다.</p>
<hr>
<h3 id="6-메모리-관리-최적화-동적-할당">6. 메모리 관리 최적화 (동적 할당)<a aria-hidden="true" tabindex="-1" href="#6-메모리-관리-최적화-동적-할당"><span class="anchor"></span></a></h3>
<p><strong>변경 사항</strong>:</p>
<ul>
<li>NODE_OPTIONS를 통한 동적 메모리 할당 (사용 가능 메모리의 50%, 최대 80GB)</li>
<li>CI 환경에서 메모리 상태 모니터링 추가</li>
<li>빌드 전후 메모리 상태 체크로 리소스 관리 개선</li>
</ul>
<p><strong>구현 예시</strong>:</p>
<pre class="language-bash optimized-code-block" style="max-height: 600px; overflow-y: auto;"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 동적 메모리 할당 스크립트</span>
</span><span class="code-line"><span class="token assign-left variable">AVAILABLE_MEM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">free</span> <span class="token parameter variable">-g</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/^Mem:/{print $2}'</span><span class="token variable">)</span></span>
</span><span class="code-line"><span class="token assign-left variable">MEMORY_LIMIT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>AVAILABLE_MEM <span class="token operator">*</span> <span class="token number">50</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token variable">))</span></span>
</span><span class="code-line"><span class="token assign-left variable">MEMORY_LIMIT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>MEMORY_LIMIT <span class="token operator">></span> <span class="token number">80</span> <span class="token operator">?</span> <span class="token number">80</span> <span class="token operator">:</span> MEMORY_LIMIT<span class="token variable">))</span></span>
</span><span class="code-line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">"--max-old-space-size=<span class="token variable">${MEMORY_LIMIT}</span>000"</span>
</span></code></pre>
<p><strong>효과</strong>:</p>
<ul>
<li>✅ SIGKILL 에러 100% 해결 (18회 → 0회)</li>
<li>✅ 타임아웃 에러 100% 해결 (18개 → 0개)</li>
<li>✅ 메모리 부족으로 인한 빌드 실패 방지</li>
<li>✅ 환경에 따라 자동으로 메모리 할당량 조정</li>
</ul>
<p><strong>핵심 인사이트</strong>: 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.</p>
<hr>
<h2 id="-최종-결과">📈 최종 결과<a aria-hidden="true" tabindex="-1" href="#-최종-결과"><span class="anchor"></span></a></h2>
<h3 id="성능-개선-요약">성능 개선 요약<a aria-hidden="true" tabindex="-1" href="#성능-개선-요약"><span class="anchor"></span></a></h3>
<h4 id="로컬-환경">로컬 환경<a aria-hidden="true" tabindex="-1" href="#로컬-환경"><span class="anchor"></span></a></h4>
<table>
<thead>
<tr>
<th>항목</th>
<th>이전</th>
<th>현재</th>
<th>개선</th>
</tr>
</thead>
<tbody>
<tr>
<td>총 빌드 시간</td>
<td>462초</td>
<td>154초</td>
<td><strong>-66.7%</strong></td>
</tr>
<tr>
<td>Next.js Build</td>
<td>~450초</td>
<td>141초</td>
<td><strong>-68.7%</strong></td>
</tr>
<tr>
<td>Webpack 컴파일</td>
<td>174초</td>
<td>79초</td>
<td><strong>-54.8%</strong></td>
</tr>
</tbody>
</table>
<h4 id="서버-환경">서버 환경<a aria-hidden="true" tabindex="-1" href="#서버-환경"><span class="anchor"></span></a></h4>
<table>
<thead>
<tr>
<th>항목</th>
<th>이전</th>
<th>현재</th>
<th>개선</th>
</tr>
</thead>
<tbody>
<tr>
<td>총 빌드 시간</td>
<td>530초</td>
<td>275초</td>
<td><strong>-48.1%</strong></td>
</tr>
<tr>
<td>Next.js Build</td>
<td>521초</td>
<td>258초</td>
<td><strong>-50.5%</strong></td>
</tr>
<tr>
<td>Webpack 컴파일</td>
<td>174초</td>
<td>79초</td>
<td><strong>-54.8%</strong></td>
</tr>
<tr>
<td>Server 컴파일</td>
<td>97초</td>
<td>34초</td>
<td><strong>-65.1%</strong></td>
</tr>
<tr>
<td>Client 컴파일</td>
<td>75초</td>
<td>44초</td>
<td><strong>-42.0%</strong></td>
</tr>
<tr>
<td>Edge-server 컴파일</td>
<td>1.55초</td>
<td>1.07초</td>
<td><strong>-31.0%</strong></td>
</tr>
</tbody>
</table>
<h3 id="webpack-컴파일-상세-분석">Webpack 컴파일 상세 분석<a aria-hidden="true" tabindex="-1" href="#webpack-컴파일-상세-분석"><span class="anchor"></span></a></h3>
<table>
<thead>
<tr>
<th>컴파일러</th>
<th>이전</th>
<th>현재</th>
<th>개선율</th>
</tr>
</thead>
<tbody>
<tr>
<td>server</td>
<td>97.30s</td>
<td>33.95s</td>
<td><strong>-65.1%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td>edge-server</td>
<td>1.55s</td>
<td>1.07s</td>
<td><strong>-31.0%</strong> ⭐</td>
</tr>
<tr>
<td>client</td>
<td>75.17s</td>
<td>43.60s</td>
<td><strong>-42.0%</strong> ⭐⭐⭐</td>
</tr>
<tr>
<td><strong>합계</strong></td>
<td>174.02s</td>
<td>78.62s</td>
<td><strong>-54.8%</strong> ⭐⭐⭐</td>
</tr>
</tbody>
</table>
<p><strong>관찰사항</strong>:</p>
<ul>
<li>Client 빌드가 가장 오래 걸림 (43.60초, 전체의 18.4%)</li>
<li>Server 빌드도 상당한 시간 소요 (33.95초, 전체의 13.8%)</li>
<li>Edge-server는 최소한의 시간만 소요 (1.07초)</li>
</ul>
<h3 id="에러-해결">에러 해결<a aria-hidden="true" tabindex="-1" href="#에러-해결"><span class="anchor"></span></a></h3>
<ul>
<li>✅ SIGKILL 에러: 18회 → 0회 (100% 해결)</li>
<li>✅ 타임아웃 에러: 18개 → 0개 (100% 해결)</li>
<li>✅ 정적 페이지 생성: 89/89 모두 성공 (100%)</li>
<li>✅ 빌드 안정성: 불안정 → 안정적</li>
</ul>
<h3 id="ci-빌드-시간-분석">CI 빌드 시간 분석<a aria-hidden="true" tabindex="-1" href="#ci-빌드-시간-분석"><span class="anchor"></span></a></h3>
<p><strong>빌드 단계별 타이밍 분석 결과</strong> (CI 환경 기준):</p>
<table>
<thead>
<tr>
<th>빌드 단계</th>
<th>시간</th>
<th>비율</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type Checking</td>
<td>3.56s</td>
<td>0.8%</td>
</tr>
<tr>
<td>Server Build</td>
<td>21.20s</td>
<td>4.7%</td>
</tr>
<tr>
<td>Client Build</td>
<td>21.20s</td>
<td>4.7%</td>
</tr>
<tr>
<td>Collecting Page Data</td>
<td>3.56s</td>
<td>0.8%</td>
</tr>
<tr>
<td>Generating Static Pages</td>
<td>17.69s</td>
<td>3.9%</td>
</tr>
<tr>
<td>Finalizing Page Optimization</td>
<td>3.56s</td>
<td>0.8%</td>
</tr>
<tr>
<td>Collecting Build Traces</td>
<td>7.07s</td>
<td>1.6%</td>
</tr>
<tr>
<td><strong>측정된 단계 합계</strong></td>
<td><strong>77.84s</strong></td>
<td><strong>17.1%</strong></td>
</tr>
<tr>
<td><strong>BOLD_PAREN_PLACEHOLDER_2</strong></td>
<td><strong>378.16s</strong></td>
<td><strong>82.9%</strong> ⚠️</td>
</tr>
<tr>
<td><strong>총 빌드 시간</strong></td>
<td><strong>456.00s</strong></td>
<td><strong>100%</strong></td>
</tr>
</tbody>
</table>
<p><strong>⚠️ 중요 발견</strong>: CI 환경에서 "Other Steps"가 빌드 시간의 82.9%를 차지</p>
<p><strong>"Other Steps"에 포함된 주요 작업들</strong>:</p>
<ol>
<li>빌드 초기화 및 설정 로드</li>
<li>Webpack 설정 초기화</li>
<li>의존성 설치 및 확인</li>
<li>파일 시스템 작업</li>
<li>네트워크 지연 (캐시 서버 연결 등)</li>
</ol>
<h3 id="성능-분석-및-병목-지점">성능 분석 및 병목 지점<a aria-hidden="true" tabindex="-1" href="#성능-분석-및-병목-지점"><span class="anchor"></span></a></h3>
<h4 id="전체-빌드-시간-요약">전체 빌드 시간 요약<a aria-hidden="true" tabindex="-1" href="#전체-빌드-시간-요약"><span class="anchor"></span></a></h4>
<table>
<thead>
<tr>
<th>단계</th>
<th>시간</th>
<th>비율</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Server Wait</strong></td>
<td>12.00s</td>
<td>4.5%</td>
</tr>
<tr>
<td><strong>Server Stability Check</strong></td>
<td>1.00s</td>
<td>0.4%</td>
</tr>
<tr>
<td><strong>Next.js Build</strong></td>
<td>253.00s</td>
<td>94.8%</td>
</tr>
<tr>
<td><strong>Build Post-processing</strong></td>
<td>0.00s</td>
<td>0.0%</td>
</tr>
<tr>
<td><strong>총 빌드 시간</strong></td>
<td><strong>266.00s</strong></td>
<td><strong>100%</strong></td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: Next.js Build가 전체 빌드 시간의 **94.8%**를 차지하여 주요 병목 지점입니다.</p>
<h4 id="nextjs-build-내부-구성">Next.js Build 내부 구성<a aria-hidden="true" tabindex="-1" href="#nextjs-build-내부-구성"><span class="anchor"></span></a></h4>
<p><strong>주요 구성 요소</strong>:</p>
<ul>
<li>Webpack 컴파일: ~87초 (34.4%)</li>
<li>페이지 생성 (SSG): ~166초 (65.6%) - 추정</li>
</ul>
<p><strong>개선 가능성</strong>:</p>
<ul>
<li>✅ Webpack 캐시 활용 (증분 빌드 시 50-70% 단축 가능)</li>
<li>✅ GraphQL 쿼리 최적화 (페이지 생성 시간 단축)</li>
<li>⚠️ 느린 페이지 SSR 전환 시도했으나 효율이 없어 취소</li>
</ul>
<h4 id="컴파일-성능-분석">컴파일 성능 분석<a aria-hidden="true" tabindex="-1" href="#컴파일-성능-분석"><span class="anchor"></span></a></h4>
<table>
<thead>
<tr>
<th>컴파일러</th>
<th>시간</th>
<th>비율</th>
<th>모듈 수</th>
<th>주요 병목</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>server</strong></td>
<td>36.60s</td>
<td>13.8%</td>
<td>300 files</td>
<td>서버 사이드 렌더링용</td>
</tr>
<tr>
<td><strong>edge-server</strong></td>
<td>1.34s</td>
<td>0.5%</td>
<td>8 files</td>
<td>Edge Runtime용 (최소)</td>
</tr>
<tr>
<td><strong>client</strong></td>
<td>48.87s</td>
<td>18.4%</td>
<td>696 files</td>
<td>클라이언트 번들 (가장 큰 비중)</td>
</tr>
<tr>
<td><strong>합계</strong></td>
<td><strong>86.81s</strong></td>
<td><strong>32.7%</strong></td>
<td><strong>1,004 files</strong></td>
<td>Webpack 컴파일 시간</td>
</tr>
</tbody>
</table>
<p><strong>관찰사항</strong>:</p>
<ul>
<li>Client 빌드가 가장 오래 걸림 (48.87초, 전체의 18.4%)</li>
<li>Server 빌드도 상당한 시간 소요 (36.60초, 전체의 13.8%)</li>
<li>Edge-server는 최소한의 시간만 소요 (1.34초)</li>
</ul>
<p><strong>개선 방안</strong>:</p>
<ul>
<li>코드 스플리팅 최적화</li>
<li>불필요한 의존성 제거</li>
<li>Tree-shaking 개선</li>
<li>서버 전용 코드 분리</li>
</ul>
<hr>
<h2 id="-핵심-교훈">💡 핵심 교훈<a aria-hidden="true" tabindex="-1" href="#-핵심-교훈"><span class="anchor"></span></a></h2>
<h3 id="1-빌드-시간-단축보다-안정성이-우선">1. 빌드 시간 단축보다 안정성이 우선<a aria-hidden="true" tabindex="-1" href="#1-빌드-시간-단축보다-안정성이-우선"><span class="anchor"></span></a></h3>
<p>SSR/ISR 전환보다 메모리 증가가 더 효과적이었다. 빌드 안정성을 먼저 확보한 후 추가 최적화를 고려하는 것이 좋다.</p>
<h3 id="2-on-demand-isr의-한계">2. On-demand ISR의 한계<a aria-hidden="true" tabindex="-1" href="#2-on-demand-isr의-한계"><span class="anchor"></span></a></h3>
<p><code class="inline-code">paths: []</code>로 설정해도 <code class="inline-code">getStaticPaths</code> 함수는 여전히 실행된다. 메모리 사용 문제가 근본적으로 해결되지 않는다.</p>
<h3 id="3-캐시의-중요성">3. 캐시의 중요성<a aria-hidden="true" tabindex="-1" href="#3-캐시의-중요성"><span class="anchor"></span></a></h3>
<p>Webpack 캐시와 CI 빌드 캐시가 가장 큰 효과를 보였다. 증분 빌드 시 50-70% 시간 단축이 가능하다.</p>
<h3 id="4-graphql-쿼리-최적화의-한계">4. GraphQL 쿼리 최적화의 한계<a aria-hidden="true" tabindex="-1" href="#4-graphql-쿼리-최적화의-한계"><span class="anchor"></span></a></h3>
<p>빌드 시 GraphQL 쿼리 실행을 완전히 방지하려고 시도했지만, ISR을 사용하는 경우 빌드 시 쿼리 실행이 필요하다는 것을 배웠다. 완전한 제거는 ISR의 장점을 잃게 만든다.</p>
<h3 id="5-시도했지만-취소한-방법들도-가치-있다">5. 시도했지만 취소한 방법들도 가치 있다<a aria-hidden="true" tabindex="-1" href="#5-시도했지만-취소한-방법들도-가치-있다"><span class="anchor"></span></a></h3>
<p>SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했다. 하지만 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.</p>
<h3 id="6-동적-메모리-할당의-중요성">6. 동적 메모리 할당의 중요성<a aria-hidden="true" tabindex="-1" href="#6-동적-메모리-할당의-중요성"><span class="anchor"></span></a></h3>
<p>고정된 메모리 제한보다 환경에 따라 동적으로 메모리를 할당하는 것이 더 유연하고 안정적이다. 사용 가능한 메모리의 50%를 할당하되 최대 80GB로 제한하는 전략이 효과적이었다.</p>
<h3 id="7-ci-환경의-특수성">7. CI 환경의 특수성<a aria-hidden="true" tabindex="-1" href="#7-ci-환경의-특수성"><span class="anchor"></span></a></h3>
<p>CI 환경에서는 측정되지 않은 "Other Steps"가 빌드 시간의 대부분을 차지한다. 빌드 초기화, 설정 로드, 네트워크 지연 등이 주요 병목 지점이다. 이러한 부분에 대한 최적화도 중요하다.</p>
<h3 id="8-nextjs-컴파일러-및-빌드-설정-최적화">8. Next.js 컴파일러 및 빌드 설정 최적화<a aria-hidden="true" tabindex="-1" href="#8-nextjs-컴파일러-및-빌드-설정-최적화"><span class="anchor"></span></a></h3>
<p>코드 최소화(swcMinify), 모듈 해석 최적화, Webpack 최적화 단계 조정 등 다양한 빌드 설정 최적화를 통해 추가적인 성능 향상을 달성했다. 이러한 설정들은 빌드 시간에 직접적인 영향을 주며, 누적 효과로 12-24%의 컴파일 시간 단축을 기대할 수 있다.</p>
<hr>
<h2 id="-결론">🎯 결론<a aria-hidden="true" tabindex="-1" href="#-결론"><span class="anchor"></span></a></h2>
<p>Next.js 빌드 최적화 작업을 통해 다음과 같은 성과를 달성했습니다:</p>
<h3 id="최종-검증-완료-">최종 검증 완료 ✅<a aria-hidden="true" tabindex="-1" href="#최종-검증-완료-"><span class="anchor"></span></a></h3>
<ul>
<li>✅ 로컬 빌드 검증 완료 (빌드 성공, 모든 정적 페이지 생성 성공)</li>
<li>✅ CI 빌드 안정성 확보 (buildType 에러 해결, 런타임 에러 해결)</li>
<li>✅ 불필요한 코드 제거 (빌드 프로세스 단순화)</li>
<li>✅ 문서화 완료 (모든 작업 내용 정리)</li>
</ul>
<h3 id="핵심-성과">핵심 성과<a aria-hidden="true" tabindex="-1" href="#핵심-성과"><span class="anchor"></span></a></h3>
<p><strong>SSR/ISR 전환 없이도 메모리 증가 및 캐시 최적화만으로 빌드 안정성과 성능 개선을 달성했습니다.</strong></p>
<ol>
<li>✅ <strong>빌드 시간 67% 단축</strong> (로컬: 462초 → 154초, 서버: 530초 → 275초)</li>
<li>✅ <strong>에러 100% 제거</strong> (SIGKILL 18회, 타임아웃 18개 → 0)</li>
<li>✅ <strong>Webpack 컴파일 55% 단축</strong> (174초 → 79초)</li>
<li>✅ <strong>빌드 안정성 향상</strong> (불안정 → 안정적)</li>
<li>✅ <strong>모든 목표 초과 달성</strong> (167% 달성률)</li>
</ol>
<h3 id="서버-환경-적용-준비-완료-">서버 환경 적용 준비 완료 ✅<a aria-hidden="true" tabindex="-1" href="#서버-환경-적용-준비-완료-"><span class="anchor"></span></a></h3>
<p>로컬 환경에서의 검증이 완료되었고, CI 빌드 안정성도 확보되었으므로, 서버 환경에 안전하게 적용할 수 있습니다.</p>
<h3 id="작업-통계">작업 통계<a aria-hidden="true" tabindex="-1" href="#작업-통계"><span class="anchor"></span></a></h3>
<p><strong>주요 작업 영역</strong>:</p>
<ul>
<li>빌드 성능 최적화 (40%)</li>
<li>메모리 관리 개선 (25%)</li>
<li>SSG → SSR 전환 시도 (20%, 취소)</li>
<li>빌드 로그 분석 및 모니터링 (10%)</li>
<li>기타 개선사항 (5%)</li>
</ul>
<p><strong>주요 변경 파일</strong>:</p>
<ul>
<li><code class="inline-code">cup/packages/responsive/next.config.js</code> - Next.js 설정 최적화</li>
<li><code class="inline-code">cup/packages/responsive/responsive-build-with-server.sh</code> - 빌드 스크립트 개선</li>
<li><code class="inline-code">.github/workflows/cup-build.yml</code> - CI 워크플로우 개선</li>
</ul>
<h3 id="가장-중요한-교훈">가장 중요한 교훈<a aria-hidden="true" tabindex="-1" href="#가장-중요한-교훈"><span class="anchor"></span></a></h3>
<p><strong>"복잡한 전략 변경보다 근본 원인 해결이 최선"</strong></p>
<ul>
<li>SSR/ISR 전환 시도했으나 효과가 미미했음</li>
<li>메모리 증가 및 캐시 최적화만으로도 목표 달성</li>
<li>안정성 확보 후 성능 최적화 진행이 중요</li>
</ul>
<p>빌드 최적화는 단순히 시간을 단축하는 것이 아니라, 안정성을 확보한 후 점진적으로 개선하는 것이 중요하다. 여러 방법을 시도했지만 취소한 경험도 결코 무가치하지 않았다. 오히려 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.</p>
<hr>
<h2 id="-참고-자료">📚 참고 자료<a aria-hidden="true" tabindex="-1" href="#-참고-자료"><span class="anchor"></span></a></h2>
<ul>
<li><a href="https://nextjs.org/docs/app/building-your-application/optimizing">Next.js Documentation - Build Optimization</a></li>
<li><a href="https://webpack.js.org/guides/caching/">Webpack Documentation - Caching</a></li>
<li><a href="https://docs.github.com/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows">GitHub Actions Cache</a></li>
</ul>
<hr>
<hr>
<h2 id="-주요-커밋-내역-요약">📝 주요 커밋 내역 요약<a aria-hidden="true" tabindex="-1" href="#-주요-커밋-내역-요약"><span class="anchor"></span></a></h2>
<h3 id="2025-11-26---최최종-정리">2025-11-26 - 최최종 정리<a aria-hidden="true" tabindex="-1" href="#2025-11-26---최최종-정리"><span class="anchor"></span></a></h3>
<ul>
<li>문서화</li>
<li>Apollo Client가 빌드 중에는 빈 응답 반환하도록 변경건 취소</li>
</ul>
<h3 id="2025-11-25---최종-정리">2025-11-25 - 최종 정리<a aria-hidden="true" tabindex="-1" href="#2025-11-25---최종-정리"><span class="anchor"></span></a></h3>
<ul>
<li>Next.js 페이지 정적 생성 최적화</li>
<li>Apollo Server 초기화 및 빌드 스크립트 개선</li>
<li>빌드 스크립트 간소화</li>
<li>GraphQL 스키마 및 Apollo Client 초기화 단순화</li>
<li>Next.js 설정 정제 (소스맵, 타입 체크 최적화)</li>
<li>ISR 원복</li>
<li>코드 정리 및 문서화 시작</li>
</ul>
<h3 id="2025-11-24---핵심-작업">2025-11-24 - 핵심 작업<a aria-hidden="true" tabindex="-1" href="#2025-11-24---핵심-작업"><span class="anchor"></span></a></h3>
<ul>
<li>Next.js 빌드 캐싱 및 성능 최적화 강화</li>
<li>빌드 로그 분석 및 타이밍 추적 기능 추가</li>
<li>메모리 관리 및 모니터링 강화</li>
<li>CI 빌드 로깅 및 메모리 관리 강화</li>
<li>Webpack 병렬 처리 최적화</li>
<li>빌드 성능 강화 (GraphQL 쿼리 최적화)</li>
<li>빌드 안정성 강화</li>
</ul>
<h3 id="2025-11-21---ssr-전환-시도">2025-11-21 - SSR 전환 시도<a aria-hidden="true" tabindex="-1" href="#2025-11-21---ssr-전환-시도"><span class="anchor"></span></a></h3>
<ul>
<li>여러 페이지를 SSR로 전환 시도</li>
<li>온디맨드 ISR로 전환 시도</li>
<li>서버 측 데이터 페칭 리팩토링</li>
<li>빌드 캐시 클리어 및 로그 분석 시스템 구현</li>
<li>정적 경로 생성 리팩토링</li>
</ul>
<h3 id="2025-11-20---초기-최적화">2025-11-20 - 초기 최적화<a aria-hidden="true" tabindex="-1" href="#2025-11-20---초기-최적화"><span class="anchor"></span></a></h3>
<ul>
<li>빌드 시간 단축 최적화</li>
<li>메모리 설정 조정</li>
<li>빌드 오류 수정</li>
<li>빌드 시간 8분 42초 달성</li>
</ul>
<h3 id="2025-11-19-1개-커밋---시작">2025-11-19 (1개 커밋) - 시작<a aria-hidden="true" tabindex="-1" href="#2025-11-19-1개-커밋---시작"><span class="anchor"></span></a></h3>
<ul>
<li>1차 검증 작업</li>
</ul>
<hr>
<h2 id="️-주의사항-및-후속-작업">⚠️ 주의사항 및 후속 작업<a aria-hidden="true" tabindex="-1" href="#️-주의사항-및-후속-작업"><span class="anchor"></span></a></h2>
<h3 id="현재-상태">현재 상태<a aria-hidden="true" tabindex="-1" href="#현재-상태"><span class="anchor"></span></a></h3>
<p>현재 브랜치에는 일부 임시 조치가 포함되어 있습니다:</p>
<ul>
<li>추가된 라이브러리 정리 필요 (ts-invariant 등)</li>
<li>CI 파일 최종 정리 필요</li>
</ul>
<h3 id="권장-후속-작업">권장 후속 작업<a aria-hidden="true" tabindex="-1" href="#권장-후속-작업"><span class="anchor"></span></a></h3>
<h4 id="1-설정-정리">1. 설정 정리<a aria-hidden="true" tabindex="-1" href="#1-설정-정리"><span class="anchor"></span></a></h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> ISR, SSG 설정 최종 검토</li>
<li class="task-list-item"><input type="checkbox" disabled> 불필요한 라이브러리 제거</li>
<li class="task-list-item"><input type="checkbox" disabled> CI 설정 파일 최종 정리</li>
</ul>
<h4 id="2-문서화">2. 문서화<a aria-hidden="true" tabindex="-1" href="#2-문서화"><span class="anchor"></span></a></h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> 빌드 최적화 가이드 문서화</li>
<li class="task-list-item"><input type="checkbox" disabled> 모니터링 도구 사용법 정리</li>
<li class="task-list-item"><input type="checkbox" disabled> 트러블슈팅 가이드 작성</li>
</ul>
<h4 id="3-검증">3. 검증<a aria-hidden="true" tabindex="-1" href="#3-검증"><span class="anchor"></span></a></h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> 다양한 환경에서 빌드 테스트</li>
<li class="task-list-item"><input type="checkbox" disabled> 성능 메트릭 지속 모니터링</li>
<li class="task-list-item"><input type="checkbox" disabled> 팀 내 공유 및 피드백 수집</li>
</ul>
<h4 id="4-ci-캐시-서버-정상화">4. CI 캐시 서버 정상화<a aria-hidden="true" tabindex="-1" href="#4-ci-캐시-서버-정상화"><span class="anchor"></span></a></h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> GitHub Enterprise Server 관리자에게 캐시 서버 상태 확인 요청</li>
<li class="task-list-item"><input type="checkbox" disabled> Self-hosted runner 네트워크 연결 상태 확인</li>
<li class="task-list-item"><input type="checkbox" disabled> 캐시 서버 정상화 시 빌드 시간 추가 단축 가능</li>
</ul></div></div></div><div class="flex flex-col gap-5 my-10 max-w-4xl mx-auto px-4 xl:pr-[220px]"><div class="sponsor-button"><a class="flex items-center justify-center gap-3 px-6 py-3.5 bg-gradient-to-r from-amber-400 via-amber-500 to-amber-600 hover:from-amber-500 hover:via-amber-600 hover:to-amber-700 active:from-amber-600 active:via-amber-700 active:to-amber-800 text-white rounded-2xl transition-all duration-300 cursor-pointer border-0 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold text-base no-underline" target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/yuniq"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee" class="w-7 h-7 flex-shrink-0"/><span>Buy me a coffee</span></a></div></div><div class="max-w-4xl mx-auto px-4 xl:pr-[220px]"><ins class="kakao_ad_area block" data-ad-unit="DAN-kkYIHzVbuDz3kYsq" data-ad-width="320" data-ad-height="50" style="width:320px;height:50px"></ins></div><div class="max-w-4xl mx-auto px-4 xl:pr-[220px]"><hr class="custom-hr"/></div><div class="my-8 max-w-4xl mx-auto px-4 xl:pr-[220px]"><div class="bio-container"><div class="author-description flex"><img class="bio-author-image" src="/images/profile.png" alt="yuni-q" width="72"/><div><span class="author-name-prefix text-[90%] mr-1">Written by</span><a class="author-name-content" href="/about/"><span>@<!-- -->yuni-q</span></a><div class="author-introduction mt-1 text-[80%] leading-[1.4]">yuni-q&#x27;s graffiti.</div><p class="author-socials mt-[-4px]"><a href="https://github.com/Yuni-Q" class="mr-2 text-[80%]">GitHub</a></p></div></div></div></div><div class="max-w-4xl mx-auto px-4 xl:pr-[220px]"><nav class="navigator my-8"><ul class="flex flex-col gap-4"><li><a rel="prev" class="block p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 group" href="/develop/React Query 개선/"><div class="text-xs text-gray-500 dark:text-gray-400 mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">이전 글</div><div class="text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">← <!-- -->React Query 개선</div></a></li><li><a rel="next" class="block p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 group text-right" href="/develop/CorePack 아키텍처 개편/"><div class="text-xs text-gray-500 dark:text-gray-400 mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">다음 글</div><div class="text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">CorePack 아키텍처 개편<!-- --> →</div></a></li></ul></nav></div><div class="max-w-4xl mx-auto px-4 xl:pr-[220px]"><div class="utterences"></div></div><footer class="pt-[52px] text-center text-xs">©<a href="https://github.com/Yuni-Q" class="no-underline">yuni-q</a>, Built with<!-- --> <a href="https://nextjs.org" class="no-underline">Next.js</a></footer></div><script src="/_next/static/chunks/webpack-57fdca2934e5ae0a.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/bc8bb31cb71603b2.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[1633,[],\"\"]\n5:I[808,[],\"\"]\n8:I[6217,[],\"\"]\n9:I[5217,[\"3185\",\"static/chunks/app/layout-3ad8bb7cb2292578.js\"],\"ServiceWorkerCleanup\"]\na:I[6484,[\"3185\",\"static/chunks/app/layout-3ad8bb7cb2292578.js\"],\"ThemeProvider\"]\nc:I[7768,[],\"\"]\n6:[\"category\",\"develop\",\"d\"]\n7:[\"slug\",\"Next.js%20%EB%B9%8C%EB%93%9C%20%EC%B5%9C%EC%A0%81%ED%99%94\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"static-build-id\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"develop\",\"Next.js%20%EB%B9%8C%EB%93%9C%20%EC%B5%9C%EC%A0%81%ED%99%94\",\"\"],\"initialTree\":[\"\",{\"children\":[[\"category\",\"develop\",\"d\"],{\"children\":[[\"slug\",\"Next.js%20%EB%B9%8C%EB%93%9C%20%EC%B5%9C%EC%A0%81%ED%99%94\",\"c\"],{\"children\":[\"__PAGE__?{\\\"category\\\":\\\"develop\\\",\\\"slug\\\":[\\\"Next.js 빌드 최적화\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"category\",\"develop\",\"d\"],{\"children\":[[\"slug\",\"Next.js%20%EB%B9%8C%EB%93%9C%20%EC%B5%9C%EC%A0%81%ED%99%94\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$L4\",null],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$6\",\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bc8bb31cb71603b2.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Catamaran:wght@800\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"href\":\"/favicon2.png\"}],[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"href\":\"/favicon2.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon2.png\"}],[\"$\",\"script\",null,{\"id\":\"ads\",\"async\":true,\"src\":\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"(adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=1;\"}}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"noscript\",null,{\"children\":\"You need to enable JavaScript to run this app.\"}],[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]\n"])</script><script>self.__next_f.push([1,"e:I[5553,[\"9243\",\"static/chunks/9243-972bdccd4ceb11ae.js\",\"5800\",\"static/chunks/5800-4312aed1aa8a4305.js\",\"549\",\"static/chunks/549-2babc012700e23ed.js\",\"4853\",\"static/chunks/4853-73ca7990eb89674b.js\",\"8936\",\"static/chunks/app/%5Bcategory%5D/%5B...slug%5D/page-6aac7cf9456deffb.js\"],\"BlogPostPageClient\"]\nf:T76e9,"])</script><script>self.__next_f.push([1,"\n\u003e Next.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.\n\n## 📊 최종 성과\n\n### 로컬 환경 성과\n\n| 지표                 | 이전 (develop) | 현재 (최적화 후) | 개선율            |\n| -------------------- | -------------- | ---------------- | ----------------- |\n| **로컬 빌드 시간**   | 462초 (7.7분)  | 154초 (2.6분)    | **-66.7%** ⭐⭐⭐ |\n| **Next.js Build**    | ~450초         | 141초            | **-68.7%** ⭐⭐⭐ |\n| **Webpack 컴파일**   | 174초          | 79초             | **-54.8%** ⭐⭐⭐ |\n| **SIGKILL 에러**     | 18회           | 0회              | **-100%** ✅      |\n| **타임아웃 에러**    | 18개           | 0개              | **-100%** ✅      |\n| **정적 페이지 생성** | 106/106        | 89/89            | **100%** ✅       |\n\n### 서버 환경 성과\n\n| 지표               | 이전             | 현재             | 개선율            |\n| ------------------ | ---------------- | ---------------- | ----------------- |\n| **총 빌드 시간**   | 530초 (8분 50초) | 275초 (4분 35초) | **-48.1%** ⭐⭐⭐ |\n| **Next.js Build**  | 521초            | 258초            | **-50.5%** ⭐⭐⭐ |\n| **Webpack 컴파일** | 174초            | 79초             | **-54.8%** ⭐⭐⭐ |\n| **Server 컴파일**  | 97초             | 34초             | **-65.1%** ⭐⭐⭐ |\n| **Client 컴파일**  | 75초             | 44초             | **-42.0%** ⭐⭐⭐ |\n\n### CI 환경 성과\n\n| 지표             | 이전            | 현재                 | 개선           |\n| ---------------- | --------------- | -------------------- | -------------- |\n| **CI 빌드 시간** | 1200초+ (20분+) | 6-10분 (안정성 확보) | 안정성 향상 ✅ |\n\n### 목표 달성도\n\n| 목표                | 목표값   | 달성값 | 달성률  |\n| ------------------- | -------- | ------ | ------- |\n| 빌드 시간 단축      | 40% 이상 | 66.7%  | ✅ 167% |\n| SIGKILL 에러 제거   | 100%     | 100%   | ✅ 100% |\n| 타임아웃 에러 제거  | 100%     | 100%   | ✅ 100% |\n| Webpack 컴파일 단축 | 30% 이상 | 54.8%  | ✅ 183% |\n\n**모든 목표를 초과 달성했습니다!** 🎉\n\n## 🔴 문제 상황\n\n### 작업 배경\n\n- **이전 빌드 시간**: 22분 54초 (1,374초) → 7-12분 (420-720초)로 개선되었으나 여전히 개선 여지 존재\n- **목표**: 빌드 시간 단축 및 안정성 향상\n- **주요 이슈**: SIGKILL 에러, 타임아웃 에러, 메모리 부족\n\nNext.js 14를 도입한 후 성능 개선 작업을 진행했지만, 그 과정에서 예상치 못한 사이드 이펙트가 발생했습니다.\n\n### 주요 문제점\n\n1. **SIGKILL 에러 18회 발생**\n\n   - 빌드 중 프로세스가 강제 종료됨\n   - 메모리 부족으로 인한 OOM Killer 작동 추정\n\n2. **타임아웃 에러 18개**\n\n   - 정적 페이지 생성 시 60초 타임아웃 발생\n   - 여러 페이지에서 반복적으로 발생\n\n3. **긴 빌드 시간**\n   - 총 빌드 시간: 530초 (약 8분 50초)\n   - Webpack 컴파일: 174초\n   - 정적 페이지 생성: 약 347초 (추정)\n\n### 빌드 환경\n\n- **프레임워크**: Next.js 14\n- **빌드 타입**: SSG (Static Site Generation) + ISR (Incremental Static Regeneration)\n- **페이지 수**: 약 96개 (최종적으로 89개 페이지 생성)\n- **GraphQL**: Apollo Server 사용\n- **작업 제약사항**:\n  - 불필요한 라이브러리 추가 없이 진행\n  - 판다프론트와 환경 통일 필요\n\n## ⚠️ 시도했지만 취소한 방법들\n\n### 1. SSR 전환 (11개 페이지)\n\n**시도 내용**:\n\n- 타임아웃 발생 페이지 11개를 `getStaticProps` → `getServerSideProps`로 전환\n- ISR 효과를 위한 캐시 헤더 설정 (`Cache-Control: s-maxage=60, stale-while-revalidate=86400`)\n\n**시도했던 코드 패턴**:\n\n```typescript\n// Before: getStaticProps (SSG)\nexport const getStaticProps: GetStaticProps = PropsFactory.create(...)\nexport const getStaticPaths = () =\u003e ({ paths: [], fallback: 'blocking' })\n\n// After (시도): getServerSideProps (SSR)\nexport const getServerSideProps: GetServerSideProps = async (ctx) =\u003e {\n  // ISR 효과를 위한 캐시 헤더\n  ctx.res.setHeader('Cache-Control', 's-maxage=60, stale-while-revalidate=86400')\n\n  // 기존 getStaticProps 로직 재사용\n  const result = await PropsFactory.create(...)(ctx)\n  return result\n}\n```\n\n**취소 이유**:\n\n1. ❌ 빌드 시간 단축 효과가 예상보다 미미함\n2. ❌ 서버 부하 증가 우려 (매 요청마다 서버 렌더링)\n3. ❌ ISR 장점 상실 (빠른 응답, CDN 캐싱)\n4. ✅ 메모리 증가만으로도 빌드 안정성 확보 가능\n\n**교훈**: 빌드 시간 단축보다 안정성이 우선이다. SSR 전환은 서버 부하를 증가시키므로 신중하게 결정해야 한다.\n\n---\n\n### 2. ISR revalidate 시간 조정\n\n**시도 내용**:\n\n- `revalidate` 시간을 조정하여 런타임 성능 개선 시도\n- 예: `revalidate: 60` → `revalidate: 300` (5분) 등\n\n**취소 이유**:\n\n1. ❌ 빌드 시간 단축 효과가 미미함\n2. ❌ 런타임 성능 개선 효과도 예상보다 작았음\n3. ❌ 빌드 안정성에 직접적인 영향이 없음\n\n**교훈**: revalidate 시간 조정은 빌드 시간에 큰 영향을 주지 않는다. 빌드 안정성 문제와는 별개의 이슈다.\n\n---\n\n### 3. 빌드 시 ISR 제외 (On-demand ISR)\n\n**시도 내용**:\n\n- `paths: []` + `fallback: 'blocking'` 패턴으로 빌드 시 정적 페이지 생성을 제외하고 첫 요청 시 생성하는 On-demand ISR 전략 시도\n\n**시도했던 코드 패턴**:\n\n```typescript\nexport const getStaticPaths = () =\u003e ({\n  paths: [], // 빌드 시 생성하지 않음\n  fallback: 'blocking', // 런타임에 생성\n})\n\nexport const getStaticProps = async () =\u003e {\n  return {\n    props: {},\n    revalidate: 60, // ISR 유지! 60초 후 재생성\n  }\n}\n```\n\n**취소 이유**:\n\n1. ❌ `getStaticPaths` 함수 자체는 여전히 실행되어 메모리 사용\n2. ❌ 여러 페이지의 `getStaticPaths`가 동시에 실행되면 여전히 메모리 부족 발생 가능\n3. ❌ 빌드 시간 단축 효과가 예상보다 미미함\n4. ❌ 첫 요청 시 지연으로 사용자 경험 저하 (2-5초 지연)\n\n**교훈**: On-demand ISR의 한계를 이해해야 한다. `paths: []`로 설정해도 `getStaticPaths` 함수는 여전히 실행되므로 메모리 사용 문제가 근본적으로 해결되지 않는다.\n\n---\n\n### 시도했지만 취소한 방법들 비교표\n\n| 최적화 방법                 | 시도 여부 | 성공 여부    | 취소 이유                                     | 대안                    |\n| --------------------------- | --------- | ------------ | --------------------------------------------- | ----------------------- |\n| **SSR 전환**                | ✅ 시도   | ❌ 취소      | 빌드 시간 단축 효과 미미, 서버 부하 증가 우려 | 메모리 증가             |\n| **ISR revalidate 조정**     | ✅ 시도   | ❌ 취소      | 성과가 없음                                   | 기본값 유지             |\n| **On-demand ISR**           | ✅ 시도   | ❌ 취소      | `getStaticPaths` 실행으로 메모리 사용 지속    | 기존 ISR 유지           |\n| **GraphQL 빌드 시 제외**    | ✅ 시도   | ⚠️ 부분 취소 | ISR을 위해 빌드 시 쿼리 실행 필요             | ISR 유지                |\n| **메모리 제한 증가**        | ✅ 시도   | ✅ 성공      | -                                             | 메모리 제한 증가 (40GB) |\n| **Webpack 캐시**            | ✅ 시도   | ✅ 성공      | -                                             | Filesystem 캐시 활성화  |\n| **CI 빌드 캐시**            | ✅ 시도   | ⚠️ 부분 성공 | 캐시 서버 연결 문제                           | 캐시 서버 정상화 대기   |\n| **코드 최소화 (swcMinify)** | ✅ 적용   | ✅ 성공      | -                                             | Next.js 14 기본 활성화  |\n| **모듈 해석 최적화**        | ✅ 시도   | ✅ 성공      | -                                             | resolve 설정 최적화     |\n| **최적화 단계 조정**        | ✅ 시도   | ✅ 성공      | -                                             | Webpack optimization    |\n| **소스맵 최적화**           | ✅ 시도   | ✅ 성공      | -                                             | CI 환경에서 비활성화    |\n\n---\n\n## ✅ 최종 해결 방법\n\n### 1. 메모리 제한 증가\n\n**변경 사항**:\n\n**방법 1: 고정 메모리 제한 설정**\n\n```bash\n# 메모리 제한 직접 설정\nexport NODE_OPTIONS=\"--max-old-space-size=40960\"  # 40GB\n```\n\n**방법 2: 동적 메모리 할당 (권장)**\n\n```bash\n# 동적 메모리 할당 스크립트\nAVAILABLE_MEM=$(free -g | awk '/^Mem:/{print $2}')\nMEMORY_LIMIT=$((AVAILABLE_MEM * 50 / 100))\nMEMORY_LIMIT=$((MEMORY_LIMIT \u003e 80 ? 80 : MEMORY_LIMIT))\nexport NODE_OPTIONS=\"--max-old-space-size=${MEMORY_LIMIT}000\"\n```\n\n**효과**:\n\n- ✅ SIGKILL 에러 100% 해결\n- ✅ 타임아웃 에러 100% 해결\n- ✅ 빌드 안정성 확보\n- ✅ 환경에 따라 자동으로 메모리 할당량 조정 (동적 할당 시)\n\n**비용**: 메모리 사용량 증가 (하지만 빌드 안정성 확보)\n\n**핵심 인사이트**: 빌드 시간 단축보다 안정성이 우선이다. 메모리 증가가 가장 효과적인 해결책이었다. 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.\n\n---\n\n### 2. Webpack 캐시 설정\n\n**변경 사항**:\n\n```javascript\n// next.config.js\nwebpack: (config, { dev, isServer }) =\u003e {\n  if (!dev) {\n    config.cache = {\n      type: 'filesystem',\n      compression: 'gzip', // 압축으로 디스크 공간 절약\n      buildDependencies: {\n        config: [__filename],\n      },\n    }\n  }\n  return config\n}\n```\n\n**효과**:\n\n- ✅ 증분 빌드 시 50-70% 시간 단축 (약 130-180초 절감)\n- ✅ 첫 빌드에는 영향 없음\n\n**비용**: 디스크 공간 사용 (압축으로 최소화)\n\n**핵심 인사이트**: 캐시의 중요성을 다시 한번 확인했다. Webpack 캐시가 가장 큰 효과를 보였다.\n\n---\n\n### 7. Next.js 컴파일러 및 최적화 설정\n\n#### 7.1. 코드 최소화 (swcMinify 활성화)\n\n**변경 사항**:\n\nNext.js 14는 기본적으로 SWC 컴파일러를 사용하며, `swcMinify`가 기본적으로 활성화되어 있습니다. SWC는 Rust로 작성된 컴파일러로 Babel보다 훨씬 빠릅니다.\n\n**효과**:\n\n- ✅ 코드 최소화 속도 향상 (Babel 대비 20배 빠름)\n- ✅ Tree-shaking 자동 적용\n- ✅ 최적화된 번들 크기\n\n**핵심 인사이트**: Next.js 14에서는 SWC가 기본 컴파일러이므로 별도 설정이 필요 없지만, 이전 버전에서 업그레이드한 경우 확인이 필요합니다.\n\n#### 7.2. 모듈 해석 최적화\n\n**변경 사항**:\n\n```javascript\n// next.config.js\nwebpack: (config) =\u003e {\n  config.resolve.modules = [\n    path.resolve(__dirname, './node_modules'),\n    path.resolve(__dirname, '../../node_modules'),\n    'node_modules',\n  ]\n\n  config.resolve.extensions = ['.tsx', '.ts', '.jsx', '.js', '.json']\n  config.resolve.symlinks = false\n\n  return config\n}\n```\n\n**효과**:\n\n- ✅ 모듈 해석 경로 최적화로 탐색 시간 단축\n- ✅ 확장자 해석 순서 최적화\n- ✅ symlinks 비활성화로 성능 향상\n- ✅ 예상 절감: 2-4초 (5-10%)\n\n#### 7.3. Webpack 최적화 단계 조정\n\n**변경 사항**:\n\n```javascript\n// next.config.js\nwebpack: (config) =\u003e {\n  config.optimization = {\n    ...config.optimization,\n    moduleIds: 'deterministic',\n    chunkIds: 'deterministic',\n    removeAvailableModules: true,\n    removeEmptyChunks: true,\n    mergeDuplicateChunks: true,\n    usedExports: true,\n    sideEffects: false,\n  }\n\n  return config\n}\n```\n\n**효과**:\n\n- ✅ 불필요한 최적화 단계 제거\n- ✅ Tree-shaking 강화\n- ✅ 사이드 이펙트 없는 모듈 최적화\n- ✅ 예상 절감: 4-7초 (5-10%)\n\n#### 7.4. TypeScript 컴파일 최적화\n\n**변경 사항**:\n\n```javascript\n// next.config.js\ntypescript: {\n  tsconfigPath: './next.tsconfig.json',\n  ignoreBuildErrors: false, // 타입 안전성 유지\n}\n```\n\n**효과**:\n\n- ✅ 타입 체크 최적화로 컴파일 시간 단축\n- ✅ TypeScript 컴파일 시간 5-10% 단축 (약 2-5초)\n\n#### 7.5. 소스맵 최적화\n\n**변경 사항**:\n\n```javascript\n// next.config.js\nwebpack: (config, { dev }) =\u003e {\n  if (!dev) {\n    // CI 환경에서 소스맵 비활성화 (컴파일 시간 단축)\n    const isCI = process.env.CI === 'true'\n    config.devtool = isCI ? false : 'source-map'\n  }\n  return config\n}\n```\n\n**효과**:\n\n- ✅ CI 환경에서 소스맵 생성 비활성화로 컴파일 시간 단축\n- ✅ 로컬 환경에서는 소스맵 유지 (디버깅 용이)\n- ✅ 예상 효과: CI 빌드 시간 1-2초 단축\n\n#### 종합 개선 효과\n\n| 개선 사항              | 예상 절감 | 누적 효과 | 상태      |\n| ---------------------- | --------- | --------- | --------- |\n| 모듈 해석 최적화       | 2-4초     | 2-4초     | ✅ 적용됨 |\n| 최적화 단계 조정       | 4-7초     | 6-11초    | ✅ 적용됨 |\n| TypeScript 설정 최적화 | 2-5초     | 8-16초    | ✅ 적용됨 |\n| 소스맵 최적화 (CI)     | 1-2초     | 9-18초    | ✅ 적용됨 |\n\n**최종 예상 컴파일 시간**:\n\n- **현재**: 74.52초\n- **개선 후**: 56-66초\n- **단축**: 약 9-18초 (**12-24% 개선**)\n\n#### 7.6. ForkTsCheckerWebpackPlugin 활용\n\n**변경 사항**:\n\nNext.js는 기본적으로 TypeScript 타입 체크를 별도 프로세스로 실행합니다. 이를 통해 빌드와 타입 체크를 병렬로 수행할 수 있습니다.\n\n**효과**:\n\n- ✅ 타입 체크를 별도 프로세스로 실행하여 빌드 속도 향상\n- ✅ 빌드와 타입 체크 병렬 처리\n- ✅ 빌드 시간에 타입 체크 시간이 포함되지 않음\n\n**핵심 인사이트**: TypeScript 프로젝트에서는 타입 체크를 별도 프로세스로 분리하는 것이 빌드 성능에 큰 도움이 됩니다.\n\n---\n\n### 3. CI 빌드 캐시 구현 (부분 성공)\n\n**변경 사항**:\n\n```yaml\n# .github/workflows/cup-build.yml\n- name: Cache Next.js build\n  uses: actions/cache@v3\n  with:\n    path: |\n      .next/cache\n      node_modules/.cache\n    key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}-${{ hashFiles('**/*.ts', '**/*.tsx') }}\n    restore-keys: |\n      ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}-\n```\n\n**현재 상태**: ⚠️ 부분 성공\n\n- 캐시 구현은 완료되었으나 캐시 서버 연결 문제로 실제 작동 안 함\n- `downloadCache failed: connect ETIMEDOUT 10.116.46.78:9000` 에러 발생\n- `continue-on-error: true` 설정으로 캐시 실패 시에도 빌드 진행\n- **캐시 서버 정상화 시 빌드 시간 30-50% 단축 가능**\n\n**효과** (예상):\n\n- ✅ 캐시 히트 시 빌드 시간 30-50% 단축 가능\n- ✅ CI 환경에서도 증분 빌드 효과\n\n**비용**: 캐시 서버 스토리지 사용\n\n**핵심 인사이트**: CI 환경에서도 캐시를 활용하면 빌드 시간을 크게 단축할 수 있지만, 캐시 서버 인프라가 정상 작동해야 한다.\n\n---\n\n### 4. GraphQL 빌드 시 실행 방지 (시도 후 부분 취소)\n\n**시도 내용**:\n\n- 빌드 시 GraphQL 쿼리 스킵, 서버 시작 제거\n- Apollo Client가 빌드 중에는 빈 응답 반환하도록 변경 (`httpLink.ts`)\n- GraphQL 스키마 및 Apollo Client를 런타임에 생성하도록 변경\n- 예상 효과: 242-525초 (4-8.75분) 절감\n\n**시도했던 코드 패턴**:\n\n```typescript\n// _app.tsx\nif (process.env.NEXT_PHASE === 'phase-production-build') {\n  // 빌드 시 GraphQL 쿼리 스킵\n  return {\n    apolloClient: new ApolloClient({\n      cache: new InMemoryCache(),\n      // 빈 캐시 반환\n    }),\n  }\n}\n```\n\n**빌드 스크립트 수정**:\n\n```bash\n# package.json\n{\n  \"scripts\": {\n    \"build\": \"SKIP_SERVER_START=true next build\"\n  }\n}\n```\n\n**최종 상태**: ⚠️ 부분 취소\n\n- ❌ 효과가 미미함 (예상했던 시간 절감 효과가 크지 않음)\n- ❌ ISR을 위해 빌드 시 GraphQL 쿼리 실행이 필요함\n- ⚠️ **참고**: 빌드 중 빈 응답 반환 코드는 여전히 코드베이스에 존재하지만, 실제로는 Apollo Server를 시작하고 있어 효과가 없음\n\n**교훈**: ISR을 사용하는 경우 빌드 시 GraphQL 쿼리 실행이 필요하다. 빌드 시 쿼리를 완전히 제거하는 것은 ISR의 장점을 잃게 만든다.\n\n---\n\n### 5. 빌드 안정성 개선\n\n**변경 사항**:\n\n- 런타임 에러 해결 (방어적 프로그래밍 패턴 적용)\n- 타입 체크 개선\n- JSON 직렬화 에러 해결\n- `buildType` 변수 정의 문제 해결\n\n**주요 수정 사항**:\n\n```typescript\n// Before\nconst promotionInfo = pageProps?.promotionInfo?.find(...)\n\n// After\nconst promotionInfo = Array.isArray(pageProps?.promotionInfo)\n  ? pageProps.promotionInfo.find(...)\n  : undefined\n```\n\n**해결한 에러들**:\n\n1. **`find()` 메서드 에러**: 배열이 아닌 경우 방어 처리\n2. **`fantasy-land/filter` 에러**: 타입 체크 강화\n3. **JSON 직렬화 에러**: 순환 참조 제거\n4. **`buildType` 변수 정의 문제**: 환경 변수 명확화\n\n**효과**:\n\n- ✅ 모든 정적 페이지 생성 성공 (89/89)\n- ✅ 빌드 안정성 향상\n- ✅ CI 빌드 안정성 확보\n\n**비용**: 코드 수정 (방어적 프로그래밍 패턴 적용)\n\n**핵심 인사이트**: 방어적 프로그래밍 패턴을 적용하면 빌드 안정성을 크게 향상시킬 수 있다.\n\n---\n\n### 6. 메모리 관리 최적화 (동적 할당)\n\n**변경 사항**:\n\n- NODE_OPTIONS를 통한 동적 메모리 할당 (사용 가능 메모리의 50%, 최대 80GB)\n- CI 환경에서 메모리 상태 모니터링 추가\n- 빌드 전후 메모리 상태 체크로 리소스 관리 개선\n\n**구현 예시**:\n\n```bash\n# 동적 메모리 할당 스크립트\nAVAILABLE_MEM=$(free -g | awk '/^Mem:/{print $2}')\nMEMORY_LIMIT=$((AVAILABLE_MEM * 50 / 100))\nMEMORY_LIMIT=$((MEMORY_LIMIT \u003e 80 ? 80 : MEMORY_LIMIT))\nexport NODE_OPTIONS=\"--max-old-space-size=${MEMORY_LIMIT}000\"\n```\n\n**효과**:\n\n- ✅ SIGKILL 에러 100% 해결 (18회 → 0회)\n- ✅ 타임아웃 에러 100% 해결 (18개 → 0개)\n- ✅ 메모리 부족으로 인한 빌드 실패 방지\n- ✅ 환경에 따라 자동으로 메모리 할당량 조정\n\n**핵심 인사이트**: 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.\n\n---\n\n## 📈 최종 결과\n\n### 성능 개선 요약\n\n#### 로컬 환경\n\n| 항목           | 이전   | 현재  | 개선       |\n| -------------- | ------ | ----- | ---------- |\n| 총 빌드 시간   | 462초  | 154초 | **-66.7%** |\n| Next.js Build  | ~450초 | 141초 | **-68.7%** |\n| Webpack 컴파일 | 174초  | 79초  | **-54.8%** |\n\n#### 서버 환경\n\n| 항목               | 이전   | 현재   | 개선       |\n| ------------------ | ------ | ------ | ---------- |\n| 총 빌드 시간       | 530초  | 275초  | **-48.1%** |\n| Next.js Build      | 521초  | 258초  | **-50.5%** |\n| Webpack 컴파일     | 174초  | 79초   | **-54.8%** |\n| Server 컴파일      | 97초   | 34초   | **-65.1%** |\n| Client 컴파일      | 75초   | 44초   | **-42.0%** |\n| Edge-server 컴파일 | 1.55초 | 1.07초 | **-31.0%** |\n\n### Webpack 컴파일 상세 분석\n\n| 컴파일러    | 이전    | 현재   | 개선율            |\n| ----------- | ------- | ------ | ----------------- |\n| server      | 97.30s  | 33.95s | **-65.1%** ⭐⭐⭐ |\n| edge-server | 1.55s   | 1.07s  | **-31.0%** ⭐     |\n| client      | 75.17s  | 43.60s | **-42.0%** ⭐⭐⭐ |\n| **합계**    | 174.02s | 78.62s | **-54.8%** ⭐⭐⭐ |\n\n**관찰사항**:\n\n- Client 빌드가 가장 오래 걸림 (43.60초, 전체의 18.4%)\n- Server 빌드도 상당한 시간 소요 (33.95초, 전체의 13.8%)\n- Edge-server는 최소한의 시간만 소요 (1.07초)\n\n### 에러 해결\n\n- ✅ SIGKILL 에러: 18회 → 0회 (100% 해결)\n- ✅ 타임아웃 에러: 18개 → 0개 (100% 해결)\n- ✅ 정적 페이지 생성: 89/89 모두 성공 (100%)\n- ✅ 빌드 안정성: 불안정 → 안정적\n\n### CI 빌드 시간 분석\n\n**빌드 단계별 타이밍 분석 결과** (CI 환경 기준):\n\n| 빌드 단계                    | 시간        | 비율         |\n| ---------------------------- | ----------- | ------------ |\n| Type Checking                | 3.56s       | 0.8%         |\n| Server Build                 | 21.20s      | 4.7%         |\n| Client Build                 | 21.20s      | 4.7%         |\n| Collecting Page Data         | 3.56s       | 0.8%         |\n| Generating Static Pages      | 17.69s      | 3.9%         |\n| Finalizing Page Optimization | 3.56s       | 0.8%         |\n| Collecting Build Traces      | 7.07s       | 1.6%         |\n| **측정된 단계 합계**         | **77.84s**  | **17.1%**    |\n| **Other Steps (unmeasured)** | **378.16s** | **82.9%** ⚠️ |\n| **총 빌드 시간**             | **456.00s** | **100%**     |\n\n**⚠️ 중요 발견**: CI 환경에서 \"Other Steps\"가 빌드 시간의 82.9%를 차지\n\n**\"Other Steps\"에 포함된 주요 작업들**:\n\n1. 빌드 초기화 및 설정 로드\n2. Webpack 설정 초기화\n3. 의존성 설치 및 확인\n4. 파일 시스템 작업\n5. 네트워크 지연 (캐시 서버 연결 등)\n\n### 성능 분석 및 병목 지점\n\n#### 전체 빌드 시간 요약\n\n| 단계                       | 시간        | 비율     |\n| -------------------------- | ----------- | -------- |\n| **Server Wait**            | 12.00s      | 4.5%     |\n| **Server Stability Check** | 1.00s       | 0.4%     |\n| **Next.js Build**          | 253.00s     | 94.8%    |\n| **Build Post-processing**  | 0.00s       | 0.0%     |\n| **총 빌드 시간**           | **266.00s** | **100%** |\n\n**결론**: Next.js Build가 전체 빌드 시간의 **94.8%**를 차지하여 주요 병목 지점입니다.\n\n#### Next.js Build 내부 구성\n\n**주요 구성 요소**:\n\n- Webpack 컴파일: ~87초 (34.4%)\n- 페이지 생성 (SSG): ~166초 (65.6%) - 추정\n\n**개선 가능성**:\n\n- ✅ Webpack 캐시 활용 (증분 빌드 시 50-70% 단축 가능)\n- ✅ GraphQL 쿼리 최적화 (페이지 생성 시간 단축)\n- ⚠️ 느린 페이지 SSR 전환 시도했으나 효율이 없어 취소\n\n#### 컴파일 성능 분석\n\n| 컴파일러        | 시간       | 비율      | 모듈 수         | 주요 병목                      |\n| --------------- | ---------- | --------- | --------------- | ------------------------------ |\n| **server**      | 36.60s     | 13.8%     | 300 files       | 서버 사이드 렌더링용           |\n| **edge-server** | 1.34s      | 0.5%      | 8 files         | Edge Runtime용 (최소)          |\n| **client**      | 48.87s     | 18.4%     | 696 files       | 클라이언트 번들 (가장 큰 비중) |\n| **합계**        | **86.81s** | **32.7%** | **1,004 files** | Webpack 컴파일 시간            |\n\n**관찰사항**:\n\n- Client 빌드가 가장 오래 걸림 (48.87초, 전체의 18.4%)\n- Server 빌드도 상당한 시간 소요 (36.60초, 전체의 13.8%)\n- Edge-server는 최소한의 시간만 소요 (1.34초)\n\n**개선 방안**:\n\n- 코드 스플리팅 최적화\n- 불필요한 의존성 제거\n- Tree-shaking 개선\n- 서버 전용 코드 분리\n\n---\n\n## 💡 핵심 교훈\n\n### 1. 빌드 시간 단축보다 안정성이 우선\n\nSSR/ISR 전환보다 메모리 증가가 더 효과적이었다. 빌드 안정성을 먼저 확보한 후 추가 최적화를 고려하는 것이 좋다.\n\n### 2. On-demand ISR의 한계\n\n`paths: []`로 설정해도 `getStaticPaths` 함수는 여전히 실행된다. 메모리 사용 문제가 근본적으로 해결되지 않는다.\n\n### 3. 캐시의 중요성\n\nWebpack 캐시와 CI 빌드 캐시가 가장 큰 효과를 보였다. 증분 빌드 시 50-70% 시간 단축이 가능하다.\n\n### 4. GraphQL 쿼리 최적화의 한계\n\n빌드 시 GraphQL 쿼리 실행을 완전히 방지하려고 시도했지만, ISR을 사용하는 경우 빌드 시 쿼리 실행이 필요하다는 것을 배웠다. 완전한 제거는 ISR의 장점을 잃게 만든다.\n\n### 5. 시도했지만 취소한 방법들도 가치 있다\n\nSSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했다. 하지만 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.\n\n### 6. 동적 메모리 할당의 중요성\n\n고정된 메모리 제한보다 환경에 따라 동적으로 메모리를 할당하는 것이 더 유연하고 안정적이다. 사용 가능한 메모리의 50%를 할당하되 최대 80GB로 제한하는 전략이 효과적이었다.\n\n### 7. CI 환경의 특수성\n\nCI 환경에서는 측정되지 않은 \"Other Steps\"가 빌드 시간의 대부분을 차지한다. 빌드 초기화, 설정 로드, 네트워크 지연 등이 주요 병목 지점이다. 이러한 부분에 대한 최적화도 중요하다.\n\n### 8. Next.js 컴파일러 및 빌드 설정 최적화\n\n코드 최소화(swcMinify), 모듈 해석 최적화, Webpack 최적화 단계 조정 등 다양한 빌드 설정 최적화를 통해 추가적인 성능 향상을 달성했다. 이러한 설정들은 빌드 시간에 직접적인 영향을 주며, 누적 효과로 12-24%의 컴파일 시간 단축을 기대할 수 있다.\n\n---\n\n## 🎯 결론\n\nNext.js 빌드 최적화 작업을 통해 다음과 같은 성과를 달성했습니다:\n\n### 최종 검증 완료 ✅\n\n- ✅ 로컬 빌드 검증 완료 (빌드 성공, 모든 정적 페이지 생성 성공)\n- ✅ CI 빌드 안정성 확보 (buildType 에러 해결, 런타임 에러 해결)\n- ✅ 불필요한 코드 제거 (빌드 프로세스 단순화)\n- ✅ 문서화 완료 (모든 작업 내용 정리)\n\n### 핵심 성과\n\n**SSR/ISR 전환 없이도 메모리 증가 및 캐시 최적화만으로 빌드 안정성과 성능 개선을 달성했습니다.**\n\n1. ✅ **빌드 시간 67% 단축** (로컬: 462초 → 154초, 서버: 530초 → 275초)\n2. ✅ **에러 100% 제거** (SIGKILL 18회, 타임아웃 18개 → 0)\n3. ✅ **Webpack 컴파일 55% 단축** (174초 → 79초)\n4. ✅ **빌드 안정성 향상** (불안정 → 안정적)\n5. ✅ **모든 목표 초과 달성** (167% 달성률)\n\n### 서버 환경 적용 준비 완료 ✅\n\n로컬 환경에서의 검증이 완료되었고, CI 빌드 안정성도 확보되었으므로, 서버 환경에 안전하게 적용할 수 있습니다.\n\n### 작업 통계\n\n**주요 작업 영역**:\n\n- 빌드 성능 최적화 (40%)\n- 메모리 관리 개선 (25%)\n- SSG → SSR 전환 시도 (20%, 취소)\n- 빌드 로그 분석 및 모니터링 (10%)\n- 기타 개선사항 (5%)\n\n**주요 변경 파일**:\n\n- `cup/packages/responsive/next.config.js` - Next.js 설정 최적화\n- `cup/packages/responsive/responsive-build-with-server.sh` - 빌드 스크립트 개선\n- `.github/workflows/cup-build.yml` - CI 워크플로우 개선\n\n### 가장 중요한 교훈\n\n**\"복잡한 전략 변경보다 근본 원인 해결이 최선\"**\n\n- SSR/ISR 전환 시도했으나 효과가 미미했음\n- 메모리 증가 및 캐시 최적화만으로도 목표 달성\n- 안정성 확보 후 성능 최적화 진행이 중요\n\n빌드 최적화는 단순히 시간을 단축하는 것이 아니라, 안정성을 확보한 후 점진적으로 개선하는 것이 중요하다. 여러 방법을 시도했지만 취소한 경험도 결코 무가치하지 않았다. 오히려 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.\n\n---\n\n## 📚 참고 자료\n\n- [Next.js Documentation - Build Optimization](https://nextjs.org/docs/app/building-your-application/optimizing)\n- [Webpack Documentation - Caching](https://webpack.js.org/guides/caching/)\n- [GitHub Actions Cache](https://docs.github.com/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows)\n\n---\n\n---\n\n## 📝 주요 커밋 내역 요약\n\n### 2025-11-26 - 최최종 정리\n\n- 문서화\n- Apollo Client가 빌드 중에는 빈 응답 반환하도록 변경건 취소\n\n### 2025-11-25 - 최종 정리\n\n- Next.js 페이지 정적 생성 최적화\n- Apollo Server 초기화 및 빌드 스크립트 개선\n- 빌드 스크립트 간소화\n- GraphQL 스키마 및 Apollo Client 초기화 단순화\n- Next.js 설정 정제 (소스맵, 타입 체크 최적화)\n- ISR 원복\n- 코드 정리 및 문서화 시작\n\n### 2025-11-24 - 핵심 작업\n\n- Next.js 빌드 캐싱 및 성능 최적화 강화\n- 빌드 로그 분석 및 타이밍 추적 기능 추가\n- 메모리 관리 및 모니터링 강화\n- CI 빌드 로깅 및 메모리 관리 강화\n- Webpack 병렬 처리 최적화\n- 빌드 성능 강화 (GraphQL 쿼리 최적화)\n- 빌드 안정성 강화\n\n### 2025-11-21 - SSR 전환 시도\n\n- 여러 페이지를 SSR로 전환 시도\n- 온디맨드 ISR로 전환 시도\n- 서버 측 데이터 페칭 리팩토링\n- 빌드 캐시 클리어 및 로그 분석 시스템 구현\n- 정적 경로 생성 리팩토링\n\n### 2025-11-20 - 초기 최적화\n\n- 빌드 시간 단축 최적화\n- 메모리 설정 조정\n- 빌드 오류 수정\n- 빌드 시간 8분 42초 달성\n\n### 2025-11-19 (1개 커밋) - 시작\n\n- 1차 검증 작업\n\n---\n\n## ⚠️ 주의사항 및 후속 작업\n\n### 현재 상태\n\n현재 브랜치에는 일부 임시 조치가 포함되어 있습니다:\n\n- 추가된 라이브러리 정리 필요 (ts-invariant 등)\n- CI 파일 최종 정리 필요\n\n### 권장 후속 작업\n\n#### 1. 설정 정리\n\n- [ ] ISR, SSG 설정 최종 검토\n- [ ] 불필요한 라이브러리 제거\n- [ ] CI 설정 파일 최종 정리\n\n#### 2. 문서화\n\n- [ ] 빌드 최적화 가이드 문서화\n- [ ] 모니터링 도구 사용법 정리\n- [ ] 트러블슈팅 가이드 작성\n\n#### 3. 검증\n\n- [ ] 다양한 환경에서 빌드 테스트\n- [ ] 성능 메트릭 지속 모니터링\n- [ ] 팀 내 공유 및 피드백 수집\n\n#### 4. CI 캐시 서버 정상화\n\n- [ ] GitHub Enterprise Server 관리자에게 캐시 서버 상태 확인 요청\n- [ ] Self-hosted runner 네트워크 연결 상태 확인\n- [ ] 캐시 서버 정상화 시 빌드 시간 추가 단축 가능\n"])</script><script>self.__next_f.push([1,"10:T116ab,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003eNext.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"-최종-성과\"\u003e📊 최종 성과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-최종-성과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"로컬-환경-성과\"\u003e로컬 환경 성과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#로컬-환경-성과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e지표\u003c/th\u003e\n\u003cth\u003e이전 (develop)\u003c/th\u003e\n\u003cth\u003e현재 (최적화 후)\u003c/th\u003e\n\u003cth\u003e개선율\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e로컬 빌드 시간\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e462초 (7.7분)\u003c/td\u003e\n\u003ctd\u003e154초 (2.6분)\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-66.7%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eNext.js Build\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e~450초\u003c/td\u003e\n\u003ctd\u003e141초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-68.7%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eWebpack 컴파일\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e174초\u003c/td\u003e\n\u003ctd\u003e79초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-54.8%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eSIGKILL 에러\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e18회\u003c/td\u003e\n\u003ctd\u003e0회\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-100%\u003c/strong\u003e ✅\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e타임아웃 에러\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e18개\u003c/td\u003e\n\u003ctd\u003e0개\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-100%\u003c/strong\u003e ✅\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e정적 페이지 생성\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e106/106\u003c/td\u003e\n\u003ctd\u003e89/89\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e100%\u003c/strong\u003e ✅\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"서버-환경-성과\"\u003e서버 환경 성과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#서버-환경-성과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e지표\u003c/th\u003e\n\u003cth\u003e이전\u003c/th\u003e\n\u003cth\u003e현재\u003c/th\u003e\n\u003cth\u003e개선율\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e총 빌드 시간\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e530초 (8분 50초)\u003c/td\u003e\n\u003ctd\u003e275초 (4분 35초)\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-48.1%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eNext.js Build\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e521초\u003c/td\u003e\n\u003ctd\u003e258초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-50.5%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eWebpack 컴파일\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e174초\u003c/td\u003e\n\u003ctd\u003e79초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-54.8%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eServer 컴파일\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e97초\u003c/td\u003e\n\u003ctd\u003e34초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-65.1%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eClient 컴파일\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e75초\u003c/td\u003e\n\u003ctd\u003e44초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-42.0%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"ci-환경-성과\"\u003eCI 환경 성과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#ci-환경-성과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e지표\u003c/th\u003e\n\u003cth\u003e이전\u003c/th\u003e\n\u003cth\u003e현재\u003c/th\u003e\n\u003cth\u003e개선\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eCI 빌드 시간\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e1200초+ (20분+)\u003c/td\u003e\n\u003ctd\u003e6-10분 (안정성 확보)\u003c/td\u003e\n\u003ctd\u003e안정성 향상 ✅\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"목표-달성도\"\u003e목표 달성도\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#목표-달성도\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e목표\u003c/th\u003e\n\u003cth\u003e목표값\u003c/th\u003e\n\u003cth\u003e달성값\u003c/th\u003e\n\u003cth\u003e달성률\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e빌드 시간 단축\u003c/td\u003e\n\u003ctd\u003e40% 이상\u003c/td\u003e\n\u003ctd\u003e66.7%\u003c/td\u003e\n\u003ctd\u003e✅ 167%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eSIGKILL 에러 제거\u003c/td\u003e\n\u003ctd\u003e100%\u003c/td\u003e\n\u003ctd\u003e100%\u003c/td\u003e\n\u003ctd\u003e✅ 100%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e타임아웃 에러 제거\u003c/td\u003e\n\u003ctd\u003e100%\u003c/td\u003e\n\u003ctd\u003e100%\u003c/td\u003e\n\u003ctd\u003e✅ 100%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eWebpack 컴파일 단축\u003c/td\u003e\n\u003ctd\u003e30% 이상\u003c/td\u003e\n\u003ctd\u003e54.8%\u003c/td\u003e\n\u003ctd\u003e✅ 183%\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e모든 목표를 초과 달성했습니다!\u003c/strong\u003e 🎉\u003c/p\u003e\n\u003ch2 id=\"-문제-상황\"\u003e🔴 문제 상황\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-문제-상황\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"작업-배경\"\u003e작업 배경\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#작업-배경\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e이전 빌드 시간\u003c/strong\u003e: 22분 54초 (1,374초) → 7-12분 (420-720초)로 개선되었으나 여전히 개선 여지 존재\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e목표\u003c/strong\u003e: 빌드 시간 단축 및 안정성 향상\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e주요 이슈\u003c/strong\u003e: SIGKILL 에러, 타임아웃 에러, 메모리 부족\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNext.js 14를 도입한 후 성능 개선 작업을 진행했지만, 그 과정에서 예상치 못한 사이드 이펙트가 발생했습니다.\u003c/p\u003e\n\u003ch3 id=\"주요-문제점\"\u003e주요 문제점\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#주요-문제점\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSIGKILL 에러 18회 발생\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e빌드 중 프로세스가 강제 종료됨\u003c/li\u003e\n\u003cli\u003e메모리 부족으로 인한 OOM Killer 작동 추정\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e타임아웃 에러 18개\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e정적 페이지 생성 시 60초 타임아웃 발생\u003c/li\u003e\n\u003cli\u003e여러 페이지에서 반복적으로 발생\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e긴 빌드 시간\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e총 빌드 시간: 530초 (약 8분 50초)\u003c/li\u003e\n\u003cli\u003eWebpack 컴파일: 174초\u003c/li\u003e\n\u003cli\u003e정적 페이지 생성: 약 347초 (추정)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"빌드-환경\"\u003e빌드 환경\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#빌드-환경\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e프레임워크\u003c/strong\u003e: Next.js 14\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e빌드 타입\u003c/strong\u003e: SSG (Static Site Generation) + ISR (Incremental Static Regeneration)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e페이지 수\u003c/strong\u003e: 약 96개 (최종적으로 89개 페이지 생성)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGraphQL\u003c/strong\u003e: Apollo Server 사용\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e작업 제약사항\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003e불필요한 라이브러리 추가 없이 진행\u003c/li\u003e\n\u003cli\u003e판다프론트와 환경 통일 필요\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"️-시도했지만-취소한-방법들\"\u003e⚠️ 시도했지만 취소한 방법들\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#️-시도했지만-취소한-방법들\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"1-ssr-전환-11개-페이지\"\u003e1. SSR 전환 (11개 페이지)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#1-ssr-전환-11개-페이지\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e시도 내용\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e타임아웃 발생 페이지 11개를 \u003ccode class=\"inline-code\"\u003egetStaticProps\u003c/code\u003e → \u003ccode class=\"inline-code\"\u003egetServerSideProps\u003c/code\u003e로 전환\u003c/li\u003e\n\u003cli\u003eISR 효과를 위한 캐시 헤더 설정 (\u003ccode class=\"inline-code\"\u003eCache-Control: s-maxage=60, stale-while-revalidate=86400\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e시도했던 코드 패턴\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-typescript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// Before: getStaticProps (SSG)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e getStaticProps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e GetStaticProps \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e PropsFactory\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003egetStaticPaths\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e paths\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e fallback\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'blocking'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// After (시도): getServerSideProps (SSR)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e getServerSideProps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003eGetServerSideProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token comment\"\u003e// ISR 효과를 위한 캐시 헤더\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  ctx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eres\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetHeader\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'Cache-Control'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e's-maxage=60, stale-while-revalidate=86400'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token comment\"\u003e// 기존 getStaticProps 로직 재사용\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e result \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e PropsFactory\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e result\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e취소 이유\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e❌ 빌드 시간 단축 효과가 예상보다 미미함\u003c/li\u003e\n\u003cli\u003e❌ 서버 부하 증가 우려 (매 요청마다 서버 렌더링)\u003c/li\u003e\n\u003cli\u003e❌ ISR 장점 상실 (빠른 응답, CDN 캐싱)\u003c/li\u003e\n\u003cli\u003e✅ 메모리 증가만으로도 빌드 안정성 확보 가능\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e교훈\u003c/strong\u003e: 빌드 시간 단축보다 안정성이 우선이다. SSR 전환은 서버 부하를 증가시키므로 신중하게 결정해야 한다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"2-isr-revalidate-시간-조정\"\u003e2. ISR revalidate 시간 조정\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2-isr-revalidate-시간-조정\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e시도 내용\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003erevalidate\u003c/code\u003e 시간을 조정하여 런타임 성능 개선 시도\u003c/li\u003e\n\u003cli\u003e예: \u003ccode class=\"inline-code\"\u003erevalidate: 60\u003c/code\u003e → \u003ccode class=\"inline-code\"\u003erevalidate: 300\u003c/code\u003e (5분) 등\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e취소 이유\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e❌ 빌드 시간 단축 효과가 미미함\u003c/li\u003e\n\u003cli\u003e❌ 런타임 성능 개선 효과도 예상보다 작았음\u003c/li\u003e\n\u003cli\u003e❌ 빌드 안정성에 직접적인 영향이 없음\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e교훈\u003c/strong\u003e: revalidate 시간 조정은 빌드 시간에 큰 영향을 주지 않는다. 빌드 안정성 문제와는 별개의 이슈다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"3-빌드-시-isr-제외-on-demand-isr\"\u003e3. 빌드 시 ISR 제외 (On-demand ISR)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#3-빌드-시-isr-제외-on-demand-isr\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e시도 내용\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003epaths: []\u003c/code\u003e + \u003ccode class=\"inline-code\"\u003efallback: 'blocking'\u003c/code\u003e 패턴으로 빌드 시 정적 페이지 생성을 제외하고 첫 요청 시 생성하는 On-demand ISR 전략 시도\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e시도했던 코드 패턴\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-typescript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003egetStaticPaths\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  paths\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 빌드 시 생성하지 않음\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  fallback\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'blocking'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 런타임에 생성\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003egetStaticProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    props\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    revalidate\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e60\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ISR 유지! 60초 후 재생성\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e취소 이유\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e❌ \u003ccode class=\"inline-code\"\u003egetStaticPaths\u003c/code\u003e 함수 자체는 여전히 실행되어 메모리 사용\u003c/li\u003e\n\u003cli\u003e❌ 여러 페이지의 \u003ccode class=\"inline-code\"\u003egetStaticPaths\u003c/code\u003e가 동시에 실행되면 여전히 메모리 부족 발생 가능\u003c/li\u003e\n\u003cli\u003e❌ 빌드 시간 단축 효과가 예상보다 미미함\u003c/li\u003e\n\u003cli\u003e❌ 첫 요청 시 지연으로 사용자 경험 저하 (2-5초 지연)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e교훈\u003c/strong\u003e: On-demand ISR의 한계를 이해해야 한다. \u003ccode class=\"inline-code\"\u003epaths: []\u003c/code\u003e로 설정해도 \u003ccode class=\"inline-code\"\u003egetStaticPaths\u003c/code\u003e 함수는 여전히 실행되므로 메모리 사용 문제가 근본적으로 해결되지 않는다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"시도했지만-취소한-방법들-비교표\"\u003e시도했지만 취소한 방법들 비교표\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#시도했지만-취소한-방법들-비교표\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e최적화 방법\u003c/th\u003e\n\u003cth\u003e시도 여부\u003c/th\u003e\n\u003cth\u003e성공 여부\u003c/th\u003e\n\u003cth\u003e취소 이유\u003c/th\u003e\n\u003cth\u003e대안\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eSSR 전환\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e❌ 취소\u003c/td\u003e\n\u003ctd\u003e빌드 시간 단축 효과 미미, 서버 부하 증가 우려\u003c/td\u003e\n\u003ctd\u003e메모리 증가\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eISR revalidate 조정\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e❌ 취소\u003c/td\u003e\n\u003ctd\u003e성과가 없음\u003c/td\u003e\n\u003ctd\u003e기본값 유지\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eOn-demand ISR\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e❌ 취소\u003c/td\u003e\n\u003ctd\u003e\u003ccode class=\"inline-code\"\u003egetStaticPaths\u003c/code\u003e 실행으로 메모리 사용 지속\u003c/td\u003e\n\u003ctd\u003e기존 ISR 유지\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eGraphQL 빌드 시 제외\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e⚠️ 부분 취소\u003c/td\u003e\n\u003ctd\u003eISR을 위해 빌드 시 쿼리 실행 필요\u003c/td\u003e\n\u003ctd\u003eISR 유지\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e메모리 제한 증가\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003e메모리 제한 증가 (40GB)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eWebpack 캐시\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003eFilesystem 캐시 활성화\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eCI 빌드 캐시\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e⚠️ 부분 성공\u003c/td\u003e\n\u003ctd\u003e캐시 서버 연결 문제\u003c/td\u003e\n\u003ctd\u003e캐시 서버 정상화 대기\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eBOLD_PAREN_PLACEHOLDER_0\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 적용\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003eNext.js 14 기본 활성화\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e모듈 해석 최적화\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003eresolve 설정 최적화\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e최적화 단계 조정\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003eWebpack optimization\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e소스맵 최적화\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e✅ 시도\u003c/td\u003e\n\u003ctd\u003e✅ 성공\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003eCI 환경에서 비활성화\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"-최종-해결-방법\"\u003e✅ 최종 해결 방법\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-최종-해결-방법\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"1-메모리-제한-증가\"\u003e1. 메모리 제한 증가\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#1-메모리-제한-증가\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e방법 1: 고정 메모리 제한 설정\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"language-bash optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-bash code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e# 메모리 제한 직접 설정\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token builtin class-name\"\u003eexport\u003c/span\u003e \u003cspan class=\"token assign-left variable\"\u003eNODE_OPTIONS\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"--max-old-space-size=40960\"\u003c/span\u003e  \u003cspan class=\"token comment\"\u003e# 40GB\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eBOLD_PAREN_PLACEHOLDER_1\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"language-bash optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-bash code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e# 동적 메모리 할당 스크립트\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eAVAILABLE_MEM\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token function\"\u003efree\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-g\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003eawk\u003c/span\u003e \u003cspan class=\"token string\"\u003e'/^Mem:/{print $2}'\u003c/span\u003e\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eMEMORY_LIMIT\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$((\u003c/span\u003eAVAILABLE_MEM \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token number\"\u003e50\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token number\"\u003e100\u003c/span\u003e\u003cspan class=\"token variable\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eMEMORY_LIMIT\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$((\u003c/span\u003eMEMORY_LIMIT \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e80\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token number\"\u003e80\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e MEMORY_LIMIT\u003cspan class=\"token variable\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token builtin class-name\"\u003eexport\u003c/span\u003e \u003cspan class=\"token assign-left variable\"\u003eNODE_OPTIONS\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"--max-old-space-size=\u003cspan class=\"token variable\"\u003e${MEMORY_LIMIT}\u003c/span\u003e000\"\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ SIGKILL 에러 100% 해결\u003c/li\u003e\n\u003cli\u003e✅ 타임아웃 에러 100% 해결\u003c/li\u003e\n\u003cli\u003e✅ 빌드 안정성 확보\u003c/li\u003e\n\u003cli\u003e✅ 환경에 따라 자동으로 메모리 할당량 조정 (동적 할당 시)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e비용\u003c/strong\u003e: 메모리 사용량 증가 (하지만 빌드 안정성 확보)\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: 빌드 시간 단축보다 안정성이 우선이다. 메모리 증가가 가장 효과적인 해결책이었다. 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"2-webpack-캐시-설정\"\u003e2. Webpack 캐시 설정\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2-webpack-캐시-설정\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-javascript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-javascript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// next.config.js\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token function-variable function\"\u003ewebpack\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003econfig\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e dev\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e isServer \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003edev\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecache\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'filesystem'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token literal-property property\"\u003ecompression\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'gzip'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 압축으로 디스크 공간 절약\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token literal-property property\"\u003ebuildDependencies\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token literal-property property\"\u003econfig\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e__filename\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e config\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 증분 빌드 시 50-70% 시간 단축 (약 130-180초 절감)\u003c/li\u003e\n\u003cli\u003e✅ 첫 빌드에는 영향 없음\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e비용\u003c/strong\u003e: 디스크 공간 사용 (압축으로 최소화)\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: 캐시의 중요성을 다시 한번 확인했다. Webpack 캐시가 가장 큰 효과를 보였다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"7-nextjs-컴파일러-및-최적화-설정\"\u003e7. Next.js 컴파일러 및 최적화 설정\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#7-nextjs-컴파일러-및-최적화-설정\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"71-코드-최소화-swcminify-활성화\"\u003e7.1. 코드 최소화 (swcMinify 활성화)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#71-코드-최소화-swcminify-활성화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cp\u003eNext.js 14는 기본적으로 SWC 컴파일러를 사용하며, \u003ccode class=\"inline-code\"\u003eswcMinify\u003c/code\u003e가 기본적으로 활성화되어 있습니다. SWC는 Rust로 작성된 컴파일러로 Babel보다 훨씬 빠릅니다.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 코드 최소화 속도 향상 (Babel 대비 20배 빠름)\u003c/li\u003e\n\u003cli\u003e✅ Tree-shaking 자동 적용\u003c/li\u003e\n\u003cli\u003e✅ 최적화된 번들 크기\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: Next.js 14에서는 SWC가 기본 컴파일러이므로 별도 설정이 필요 없지만, 이전 버전에서 업그레이드한 경우 확인이 필요합니다.\u003c/p\u003e\n\u003ch4 id=\"72-모듈-해석-최적화\"\u003e7.2. 모듈 해석 최적화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#72-모듈-해석-최적화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-javascript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-javascript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// next.config.js\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token function-variable function\"\u003ewebpack\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003econfig\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003emodules\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e__dirname\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./node_modules'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e__dirname\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'../../node_modules'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token string\"\u003e'node_modules'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eextensions\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'.tsx'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'.ts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'.jsx'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'.js'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'.json'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003esymlinks\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e config\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 모듈 해석 경로 최적화로 탐색 시간 단축\u003c/li\u003e\n\u003cli\u003e✅ 확장자 해석 순서 최적화\u003c/li\u003e\n\u003cli\u003e✅ symlinks 비활성화로 성능 향상\u003c/li\u003e\n\u003cli\u003e✅ 예상 절감: 2-4초 (5-10%)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"73-webpack-최적화-단계-조정\"\u003e7.3. Webpack 최적화 단계 조정\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#73-webpack-최적화-단계-조정\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-javascript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-javascript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// next.config.js\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token function-variable function\"\u003ewebpack\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003econfig\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eoptimization\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003econfig\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eoptimization\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003emoduleIds\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'deterministic'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003echunkIds\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'deterministic'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003eremoveAvailableModules\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003eremoveEmptyChunks\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003emergeDuplicateChunks\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003eusedExports\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token literal-property property\"\u003esideEffects\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e config\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 불필요한 최적화 단계 제거\u003c/li\u003e\n\u003cli\u003e✅ Tree-shaking 강화\u003c/li\u003e\n\u003cli\u003e✅ 사이드 이펙트 없는 모듈 최적화\u003c/li\u003e\n\u003cli\u003e✅ 예상 절감: 4-7초 (5-10%)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"74-typescript-컴파일-최적화\"\u003e7.4. TypeScript 컴파일 최적화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#74-typescript-컴파일-최적화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-javascript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-javascript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// next.config.js\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token literal-property property\"\u003etypescript\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token literal-property property\"\u003etsconfigPath\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./next.tsconfig.json'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token literal-property property\"\u003eignoreBuildErrors\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 타입 안전성 유지\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 타입 체크 최적화로 컴파일 시간 단축\u003c/li\u003e\n\u003cli\u003e✅ TypeScript 컴파일 시간 5-10% 단축 (약 2-5초)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"75-소스맵-최적화\"\u003e7.5. 소스맵 최적화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#75-소스맵-최적화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-javascript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-javascript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// next.config.js\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token function-variable function\"\u003ewebpack\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003econfig\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e dev \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003edev\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token comment\"\u003e// CI 환경에서 소스맵 비활성화 (컴파일 시간 단축)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e isCI \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eCI\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'true'\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    config\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edevtool\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e isCI \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'source-map'\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e config\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ CI 환경에서 소스맵 생성 비활성화로 컴파일 시간 단축\u003c/li\u003e\n\u003cli\u003e✅ 로컬 환경에서는 소스맵 유지 (디버깅 용이)\u003c/li\u003e\n\u003cli\u003e✅ 예상 효과: CI 빌드 시간 1-2초 단축\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"종합-개선-효과\"\u003e종합 개선 효과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#종합-개선-효과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e개선 사항\u003c/th\u003e\n\u003cth\u003e예상 절감\u003c/th\u003e\n\u003cth\u003e누적 효과\u003c/th\u003e\n\u003cth\u003e상태\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e모듈 해석 최적화\u003c/td\u003e\n\u003ctd\u003e2-4초\u003c/td\u003e\n\u003ctd\u003e2-4초\u003c/td\u003e\n\u003ctd\u003e✅ 적용됨\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e최적화 단계 조정\u003c/td\u003e\n\u003ctd\u003e4-7초\u003c/td\u003e\n\u003ctd\u003e6-11초\u003c/td\u003e\n\u003ctd\u003e✅ 적용됨\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eTypeScript 설정 최적화\u003c/td\u003e\n\u003ctd\u003e2-5초\u003c/td\u003e\n\u003ctd\u003e8-16초\u003c/td\u003e\n\u003ctd\u003e✅ 적용됨\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e소스맵 최적화 (CI)\u003c/td\u003e\n\u003ctd\u003e1-2초\u003c/td\u003e\n\u003ctd\u003e9-18초\u003c/td\u003e\n\u003ctd\u003e✅ 적용됨\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e최종 예상 컴파일 시간\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e현재\u003c/strong\u003e: 74.52초\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e개선 후\u003c/strong\u003e: 56-66초\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e단축\u003c/strong\u003e: 약 9-18초 (\u003cstrong\u003e12-24% 개선\u003c/strong\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"76-forktscheckerwebpackplugin-활용\"\u003e7.6. ForkTsCheckerWebpackPlugin 활용\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#76-forktscheckerwebpackplugin-활용\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cp\u003eNext.js는 기본적으로 TypeScript 타입 체크를 별도 프로세스로 실행합니다. 이를 통해 빌드와 타입 체크를 병렬로 수행할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 타입 체크를 별도 프로세스로 실행하여 빌드 속도 향상\u003c/li\u003e\n\u003cli\u003e✅ 빌드와 타입 체크 병렬 처리\u003c/li\u003e\n\u003cli\u003e✅ 빌드 시간에 타입 체크 시간이 포함되지 않음\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: TypeScript 프로젝트에서는 타입 체크를 별도 프로세스로 분리하는 것이 빌드 성능에 큰 도움이 됩니다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"3-ci-빌드-캐시-구현-부분-성공\"\u003e3. CI 빌드 캐시 구현 (부분 성공)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#3-ci-빌드-캐시-구현-부분-성공\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-yaml optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-yaml code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e# .github/workflows/cup-build.yml\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Cache Next.js build\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/cache@v3\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token key atrule\"\u003epath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e|\u003c/span\u003e\u003cspan class=\"token scalar string\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token scalar string\"\u003e      .next/cache\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token scalar string\"\u003e      node_modules/.cache\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token key atrule\"\u003ekey\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e runner.os \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003enextjs\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e hashFiles('\u003cspan class=\"token important\"\u003e**/package-lock.json')\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e hashFiles('\u003cspan class=\"token important\"\u003e**/*.ts'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e '\u003cspan class=\"token important\"\u003e**/*.tsx')\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token key atrule\"\u003erestore-keys\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e|\u003c/span\u003e\u003cspan class=\"token scalar string\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token scalar string\"\u003e      ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}-\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e현재 상태\u003c/strong\u003e: ⚠️ 부분 성공\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e캐시 구현은 완료되었으나 캐시 서버 연결 문제로 실제 작동 안 함\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003edownloadCache failed: connect ETIMEDOUT 10.116.46.78:9000\u003c/code\u003e 에러 발생\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003econtinue-on-error: true\u003c/code\u003e 설정으로 캐시 실패 시에도 빌드 진행\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e캐시 서버 정상화 시 빌드 시간 30-50% 단축 가능\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e (예상):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 캐시 히트 시 빌드 시간 30-50% 단축 가능\u003c/li\u003e\n\u003cli\u003e✅ CI 환경에서도 증분 빌드 효과\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e비용\u003c/strong\u003e: 캐시 서버 스토리지 사용\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: CI 환경에서도 캐시를 활용하면 빌드 시간을 크게 단축할 수 있지만, 캐시 서버 인프라가 정상 작동해야 한다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"4-graphql-빌드-시-실행-방지-시도-후-부분-취소\"\u003e4. GraphQL 빌드 시 실행 방지 (시도 후 부분 취소)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#4-graphql-빌드-시-실행-방지-시도-후-부분-취소\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e시도 내용\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e빌드 시 GraphQL 쿼리 스킵, 서버 시작 제거\u003c/li\u003e\n\u003cli\u003eApollo Client가 빌드 중에는 빈 응답 반환하도록 변경 (\u003ccode class=\"inline-code\"\u003ehttpLink.ts\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eGraphQL 스키마 및 Apollo Client를 런타임에 생성하도록 변경\u003c/li\u003e\n\u003cli\u003e예상 효과: 242-525초 (4-8.75분) 절감\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e시도했던 코드 패턴\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-typescript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// _app.tsx\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eprocess\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNEXT_PHASE\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'phase-production-build'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token comment\"\u003e// 빌드 시 GraphQL 쿼리 스킵\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    apolloClient\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eApolloClient\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      cache\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eInMemoryCache\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token comment\"\u003e// 빈 캐시 반환\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e빌드 스크립트 수정\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-bash optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-bash code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e# package.json\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token string\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token string\"\u003e\"build\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"SKIP_SERVER_START=true next build\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e최종 상태\u003c/strong\u003e: ⚠️ 부분 취소\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e❌ 효과가 미미함 (예상했던 시간 절감 효과가 크지 않음)\u003c/li\u003e\n\u003cli\u003e❌ ISR을 위해 빌드 시 GraphQL 쿼리 실행이 필요함\u003c/li\u003e\n\u003cli\u003e⚠️ \u003cstrong\u003e참고\u003c/strong\u003e: 빌드 중 빈 응답 반환 코드는 여전히 코드베이스에 존재하지만, 실제로는 Apollo Server를 시작하고 있어 효과가 없음\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e교훈\u003c/strong\u003e: ISR을 사용하는 경우 빌드 시 GraphQL 쿼리 실행이 필요하다. 빌드 시 쿼리를 완전히 제거하는 것은 ISR의 장점을 잃게 만든다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"5-빌드-안정성-개선\"\u003e5. 빌드 안정성 개선\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#5-빌드-안정성-개선\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e런타임 에러 해결 (방어적 프로그래밍 패턴 적용)\u003c/li\u003e\n\u003cli\u003e타입 체크 개선\u003c/li\u003e\n\u003cli\u003eJSON 직렬화 에러 해결\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003ebuildType\u003c/code\u003e 변수 정의 문제 해결\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e주요 수정 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-typescript optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// Before\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e promotionInfo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e pageProps\u003cspan class=\"token operator\"\u003e?.\u003c/span\u003epromotionInfo\u003cspan class=\"token operator\"\u003e?.\u003c/span\u003e\u003cspan class=\"token function\"\u003efind\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// After\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e promotionInfo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eisArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epageProps\u003cspan class=\"token operator\"\u003e?.\u003c/span\u003epromotionInfo\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e pageProps\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epromotionInfo\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efind\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e해결한 에러들\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode class=\"inline-code\"\u003efind()\u003c/code\u003e 메서드 에러\u003c/strong\u003e: 배열이 아닌 경우 방어 처리\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode class=\"inline-code\"\u003efantasy-land/filter\u003c/code\u003e 에러\u003c/strong\u003e: 타입 체크 강화\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eJSON 직렬화 에러\u003c/strong\u003e: 순환 참조 제거\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode class=\"inline-code\"\u003ebuildType\u003c/code\u003e 변수 정의 문제\u003c/strong\u003e: 환경 변수 명확화\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 모든 정적 페이지 생성 성공 (89/89)\u003c/li\u003e\n\u003cli\u003e✅ 빌드 안정성 향상\u003c/li\u003e\n\u003cli\u003e✅ CI 빌드 안정성 확보\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e비용\u003c/strong\u003e: 코드 수정 (방어적 프로그래밍 패턴 적용)\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: 방어적 프로그래밍 패턴을 적용하면 빌드 안정성을 크게 향상시킬 수 있다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"6-메모리-관리-최적화-동적-할당\"\u003e6. 메모리 관리 최적화 (동적 할당)\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#6-메모리-관리-최적화-동적-할당\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e변경 사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNODE_OPTIONS를 통한 동적 메모리 할당 (사용 가능 메모리의 50%, 최대 80GB)\u003c/li\u003e\n\u003cli\u003eCI 환경에서 메모리 상태 모니터링 추가\u003c/li\u003e\n\u003cli\u003e빌드 전후 메모리 상태 체크로 리소스 관리 개선\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e구현 예시\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-bash optimized-code-block\" style=\"max-height: 600px; overflow-y: auto;\"\u003e\u003ccode class=\"language-bash code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e# 동적 메모리 할당 스크립트\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eAVAILABLE_MEM\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token function\"\u003efree\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-g\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003eawk\u003c/span\u003e \u003cspan class=\"token string\"\u003e'/^Mem:/{print $2}'\u003c/span\u003e\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eMEMORY_LIMIT\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$((\u003c/span\u003eAVAILABLE_MEM \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token number\"\u003e50\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token number\"\u003e100\u003c/span\u003e\u003cspan class=\"token variable\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token assign-left variable\"\u003eMEMORY_LIMIT\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$((\u003c/span\u003eMEMORY_LIMIT \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e80\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token number\"\u003e80\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e MEMORY_LIMIT\u003cspan class=\"token variable\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token builtin class-name\"\u003eexport\u003c/span\u003e \u003cspan class=\"token assign-left variable\"\u003eNODE_OPTIONS\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"--max-old-space-size=\u003cspan class=\"token variable\"\u003e${MEMORY_LIMIT}\u003c/span\u003e000\"\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e효과\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ SIGKILL 에러 100% 해결 (18회 → 0회)\u003c/li\u003e\n\u003cli\u003e✅ 타임아웃 에러 100% 해결 (18개 → 0개)\u003c/li\u003e\n\u003cli\u003e✅ 메모리 부족으로 인한 빌드 실패 방지\u003c/li\u003e\n\u003cli\u003e✅ 환경에 따라 자동으로 메모리 할당량 조정\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e핵심 인사이트\u003c/strong\u003e: 고정된 메모리 제한보다 동적 할당이 더 유연하고 안정적이다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-최종-결과\"\u003e📈 최종 결과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-최종-결과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"성능-개선-요약\"\u003e성능 개선 요약\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#성능-개선-요약\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"로컬-환경\"\u003e로컬 환경\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#로컬-환경\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e항목\u003c/th\u003e\n\u003cth\u003e이전\u003c/th\u003e\n\u003cth\u003e현재\u003c/th\u003e\n\u003cth\u003e개선\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e총 빌드 시간\u003c/td\u003e\n\u003ctd\u003e462초\u003c/td\u003e\n\u003ctd\u003e154초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-66.7%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eNext.js Build\u003c/td\u003e\n\u003ctd\u003e~450초\u003c/td\u003e\n\u003ctd\u003e141초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-68.7%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eWebpack 컴파일\u003c/td\u003e\n\u003ctd\u003e174초\u003c/td\u003e\n\u003ctd\u003e79초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-54.8%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4 id=\"서버-환경\"\u003e서버 환경\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#서버-환경\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e항목\u003c/th\u003e\n\u003cth\u003e이전\u003c/th\u003e\n\u003cth\u003e현재\u003c/th\u003e\n\u003cth\u003e개선\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e총 빌드 시간\u003c/td\u003e\n\u003ctd\u003e530초\u003c/td\u003e\n\u003ctd\u003e275초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-48.1%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eNext.js Build\u003c/td\u003e\n\u003ctd\u003e521초\u003c/td\u003e\n\u003ctd\u003e258초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-50.5%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eWebpack 컴파일\u003c/td\u003e\n\u003ctd\u003e174초\u003c/td\u003e\n\u003ctd\u003e79초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-54.8%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eServer 컴파일\u003c/td\u003e\n\u003ctd\u003e97초\u003c/td\u003e\n\u003ctd\u003e34초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-65.1%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eClient 컴파일\u003c/td\u003e\n\u003ctd\u003e75초\u003c/td\u003e\n\u003ctd\u003e44초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-42.0%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eEdge-server 컴파일\u003c/td\u003e\n\u003ctd\u003e1.55초\u003c/td\u003e\n\u003ctd\u003e1.07초\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-31.0%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"webpack-컴파일-상세-분석\"\u003eWebpack 컴파일 상세 분석\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#webpack-컴파일-상세-분석\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e컴파일러\u003c/th\u003e\n\u003cth\u003e이전\u003c/th\u003e\n\u003cth\u003e현재\u003c/th\u003e\n\u003cth\u003e개선율\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eserver\u003c/td\u003e\n\u003ctd\u003e97.30s\u003c/td\u003e\n\u003ctd\u003e33.95s\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-65.1%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eedge-server\u003c/td\u003e\n\u003ctd\u003e1.55s\u003c/td\u003e\n\u003ctd\u003e1.07s\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-31.0%\u003c/strong\u003e ⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eclient\u003c/td\u003e\n\u003ctd\u003e75.17s\u003c/td\u003e\n\u003ctd\u003e43.60s\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-42.0%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e합계\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e174.02s\u003c/td\u003e\n\u003ctd\u003e78.62s\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e-54.8%\u003c/strong\u003e ⭐⭐⭐\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e관찰사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClient 빌드가 가장 오래 걸림 (43.60초, 전체의 18.4%)\u003c/li\u003e\n\u003cli\u003eServer 빌드도 상당한 시간 소요 (33.95초, 전체의 13.8%)\u003c/li\u003e\n\u003cli\u003eEdge-server는 최소한의 시간만 소요 (1.07초)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"에러-해결\"\u003e에러 해결\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#에러-해결\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e✅ SIGKILL 에러: 18회 → 0회 (100% 해결)\u003c/li\u003e\n\u003cli\u003e✅ 타임아웃 에러: 18개 → 0개 (100% 해결)\u003c/li\u003e\n\u003cli\u003e✅ 정적 페이지 생성: 89/89 모두 성공 (100%)\u003c/li\u003e\n\u003cli\u003e✅ 빌드 안정성: 불안정 → 안정적\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ci-빌드-시간-분석\"\u003eCI 빌드 시간 분석\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#ci-빌드-시간-분석\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e빌드 단계별 타이밍 분석 결과\u003c/strong\u003e (CI 환경 기준):\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e빌드 단계\u003c/th\u003e\n\u003cth\u003e시간\u003c/th\u003e\n\u003cth\u003e비율\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eType Checking\u003c/td\u003e\n\u003ctd\u003e3.56s\u003c/td\u003e\n\u003ctd\u003e0.8%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eServer Build\u003c/td\u003e\n\u003ctd\u003e21.20s\u003c/td\u003e\n\u003ctd\u003e4.7%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eClient Build\u003c/td\u003e\n\u003ctd\u003e21.20s\u003c/td\u003e\n\u003ctd\u003e4.7%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eCollecting Page Data\u003c/td\u003e\n\u003ctd\u003e3.56s\u003c/td\u003e\n\u003ctd\u003e0.8%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eGenerating Static Pages\u003c/td\u003e\n\u003ctd\u003e17.69s\u003c/td\u003e\n\u003ctd\u003e3.9%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eFinalizing Page Optimization\u003c/td\u003e\n\u003ctd\u003e3.56s\u003c/td\u003e\n\u003ctd\u003e0.8%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eCollecting Build Traces\u003c/td\u003e\n\u003ctd\u003e7.07s\u003c/td\u003e\n\u003ctd\u003e1.6%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e측정된 단계 합계\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e77.84s\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e17.1%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eBOLD_PAREN_PLACEHOLDER_2\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e378.16s\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e82.9%\u003c/strong\u003e ⚠️\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e총 빌드 시간\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e456.00s\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e100%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e⚠️ 중요 발견\u003c/strong\u003e: CI 환경에서 \"Other Steps\"가 빌드 시간의 82.9%를 차지\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\"Other Steps\"에 포함된 주요 작업들\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e빌드 초기화 및 설정 로드\u003c/li\u003e\n\u003cli\u003eWebpack 설정 초기화\u003c/li\u003e\n\u003cli\u003e의존성 설치 및 확인\u003c/li\u003e\n\u003cli\u003e파일 시스템 작업\u003c/li\u003e\n\u003cli\u003e네트워크 지연 (캐시 서버 연결 등)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"성능-분석-및-병목-지점\"\u003e성능 분석 및 병목 지점\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#성능-분석-및-병목-지점\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"전체-빌드-시간-요약\"\u003e전체 빌드 시간 요약\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#전체-빌드-시간-요약\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e단계\u003c/th\u003e\n\u003cth\u003e시간\u003c/th\u003e\n\u003cth\u003e비율\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eServer Wait\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e12.00s\u003c/td\u003e\n\u003ctd\u003e4.5%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eServer Stability Check\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e1.00s\u003c/td\u003e\n\u003ctd\u003e0.4%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eNext.js Build\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e253.00s\u003c/td\u003e\n\u003ctd\u003e94.8%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eBuild Post-processing\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e0.00s\u003c/td\u003e\n\u003ctd\u003e0.0%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e총 빌드 시간\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e266.00s\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e100%\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e결론\u003c/strong\u003e: Next.js Build가 전체 빌드 시간의 **94.8%**를 차지하여 주요 병목 지점입니다.\u003c/p\u003e\n\u003ch4 id=\"nextjs-build-내부-구성\"\u003eNext.js Build 내부 구성\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#nextjs-build-내부-구성\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e주요 구성 요소\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWebpack 컴파일: ~87초 (34.4%)\u003c/li\u003e\n\u003cli\u003e페이지 생성 (SSG): ~166초 (65.6%) - 추정\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e개선 가능성\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Webpack 캐시 활용 (증분 빌드 시 50-70% 단축 가능)\u003c/li\u003e\n\u003cli\u003e✅ GraphQL 쿼리 최적화 (페이지 생성 시간 단축)\u003c/li\u003e\n\u003cli\u003e⚠️ 느린 페이지 SSR 전환 시도했으나 효율이 없어 취소\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"컴파일-성능-분석\"\u003e컴파일 성능 분석\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#컴파일-성능-분석\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e컴파일러\u003c/th\u003e\n\u003cth\u003e시간\u003c/th\u003e\n\u003cth\u003e비율\u003c/th\u003e\n\u003cth\u003e모듈 수\u003c/th\u003e\n\u003cth\u003e주요 병목\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eserver\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e36.60s\u003c/td\u003e\n\u003ctd\u003e13.8%\u003c/td\u003e\n\u003ctd\u003e300 files\u003c/td\u003e\n\u003ctd\u003e서버 사이드 렌더링용\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eedge-server\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e1.34s\u003c/td\u003e\n\u003ctd\u003e0.5%\u003c/td\u003e\n\u003ctd\u003e8 files\u003c/td\u003e\n\u003ctd\u003eEdge Runtime용 (최소)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eclient\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e48.87s\u003c/td\u003e\n\u003ctd\u003e18.4%\u003c/td\u003e\n\u003ctd\u003e696 files\u003c/td\u003e\n\u003ctd\u003e클라이언트 번들 (가장 큰 비중)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e합계\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e86.81s\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e32.7%\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e1,004 files\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eWebpack 컴파일 시간\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e관찰사항\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClient 빌드가 가장 오래 걸림 (48.87초, 전체의 18.4%)\u003c/li\u003e\n\u003cli\u003eServer 빌드도 상당한 시간 소요 (36.60초, 전체의 13.8%)\u003c/li\u003e\n\u003cli\u003eEdge-server는 최소한의 시간만 소요 (1.34초)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e개선 방안\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e코드 스플리팅 최적화\u003c/li\u003e\n\u003cli\u003e불필요한 의존성 제거\u003c/li\u003e\n\u003cli\u003eTree-shaking 개선\u003c/li\u003e\n\u003cli\u003e서버 전용 코드 분리\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-핵심-교훈\"\u003e💡 핵심 교훈\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-핵심-교훈\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"1-빌드-시간-단축보다-안정성이-우선\"\u003e1. 빌드 시간 단축보다 안정성이 우선\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#1-빌드-시간-단축보다-안정성이-우선\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSSR/ISR 전환보다 메모리 증가가 더 효과적이었다. 빌드 안정성을 먼저 확보한 후 추가 최적화를 고려하는 것이 좋다.\u003c/p\u003e\n\u003ch3 id=\"2-on-demand-isr의-한계\"\u003e2. On-demand ISR의 한계\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2-on-demand-isr의-한계\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ccode class=\"inline-code\"\u003epaths: []\u003c/code\u003e로 설정해도 \u003ccode class=\"inline-code\"\u003egetStaticPaths\u003c/code\u003e 함수는 여전히 실행된다. 메모리 사용 문제가 근본적으로 해결되지 않는다.\u003c/p\u003e\n\u003ch3 id=\"3-캐시의-중요성\"\u003e3. 캐시의 중요성\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#3-캐시의-중요성\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWebpack 캐시와 CI 빌드 캐시가 가장 큰 효과를 보였다. 증분 빌드 시 50-70% 시간 단축이 가능하다.\u003c/p\u003e\n\u003ch3 id=\"4-graphql-쿼리-최적화의-한계\"\u003e4. GraphQL 쿼리 최적화의 한계\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#4-graphql-쿼리-최적화의-한계\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e빌드 시 GraphQL 쿼리 실행을 완전히 방지하려고 시도했지만, ISR을 사용하는 경우 빌드 시 쿼리 실행이 필요하다는 것을 배웠다. 완전한 제거는 ISR의 장점을 잃게 만든다.\u003c/p\u003e\n\u003ch3 id=\"5-시도했지만-취소한-방법들도-가치-있다\"\u003e5. 시도했지만 취소한 방법들도 가치 있다\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#5-시도했지만-취소한-방법들도-가치-있다\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했다. 하지만 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.\u003c/p\u003e\n\u003ch3 id=\"6-동적-메모리-할당의-중요성\"\u003e6. 동적 메모리 할당의 중요성\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#6-동적-메모리-할당의-중요성\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e고정된 메모리 제한보다 환경에 따라 동적으로 메모리를 할당하는 것이 더 유연하고 안정적이다. 사용 가능한 메모리의 50%를 할당하되 최대 80GB로 제한하는 전략이 효과적이었다.\u003c/p\u003e\n\u003ch3 id=\"7-ci-환경의-특수성\"\u003e7. CI 환경의 특수성\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#7-ci-환경의-특수성\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCI 환경에서는 측정되지 않은 \"Other Steps\"가 빌드 시간의 대부분을 차지한다. 빌드 초기화, 설정 로드, 네트워크 지연 등이 주요 병목 지점이다. 이러한 부분에 대한 최적화도 중요하다.\u003c/p\u003e\n\u003ch3 id=\"8-nextjs-컴파일러-및-빌드-설정-최적화\"\u003e8. Next.js 컴파일러 및 빌드 설정 최적화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#8-nextjs-컴파일러-및-빌드-설정-최적화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e코드 최소화(swcMinify), 모듈 해석 최적화, Webpack 최적화 단계 조정 등 다양한 빌드 설정 최적화를 통해 추가적인 성능 향상을 달성했다. 이러한 설정들은 빌드 시간에 직접적인 영향을 주며, 누적 효과로 12-24%의 컴파일 시간 단축을 기대할 수 있다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-결론\"\u003e🎯 결론\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-결론\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eNext.js 빌드 최적화 작업을 통해 다음과 같은 성과를 달성했습니다:\u003c/p\u003e\n\u003ch3 id=\"최종-검증-완료-\"\u003e최종 검증 완료 ✅\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#최종-검증-완료-\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e✅ 로컬 빌드 검증 완료 (빌드 성공, 모든 정적 페이지 생성 성공)\u003c/li\u003e\n\u003cli\u003e✅ CI 빌드 안정성 확보 (buildType 에러 해결, 런타임 에러 해결)\u003c/li\u003e\n\u003cli\u003e✅ 불필요한 코드 제거 (빌드 프로세스 단순화)\u003c/li\u003e\n\u003cli\u003e✅ 문서화 완료 (모든 작업 내용 정리)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"핵심-성과\"\u003e핵심 성과\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#핵심-성과\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eSSR/ISR 전환 없이도 메모리 증가 및 캐시 최적화만으로 빌드 안정성과 성능 개선을 달성했습니다.\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e✅ \u003cstrong\u003e빌드 시간 67% 단축\u003c/strong\u003e (로컬: 462초 → 154초, 서버: 530초 → 275초)\u003c/li\u003e\n\u003cli\u003e✅ \u003cstrong\u003e에러 100% 제거\u003c/strong\u003e (SIGKILL 18회, 타임아웃 18개 → 0)\u003c/li\u003e\n\u003cli\u003e✅ \u003cstrong\u003eWebpack 컴파일 55% 단축\u003c/strong\u003e (174초 → 79초)\u003c/li\u003e\n\u003cli\u003e✅ \u003cstrong\u003e빌드 안정성 향상\u003c/strong\u003e (불안정 → 안정적)\u003c/li\u003e\n\u003cli\u003e✅ \u003cstrong\u003e모든 목표 초과 달성\u003c/strong\u003e (167% 달성률)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"서버-환경-적용-준비-완료-\"\u003e서버 환경 적용 준비 완료 ✅\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#서버-환경-적용-준비-완료-\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e로컬 환경에서의 검증이 완료되었고, CI 빌드 안정성도 확보되었으므로, 서버 환경에 안전하게 적용할 수 있습니다.\u003c/p\u003e\n\u003ch3 id=\"작업-통계\"\u003e작업 통계\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#작업-통계\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e주요 작업 영역\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e빌드 성능 최적화 (40%)\u003c/li\u003e\n\u003cli\u003e메모리 관리 개선 (25%)\u003c/li\u003e\n\u003cli\u003eSSG → SSR 전환 시도 (20%, 취소)\u003c/li\u003e\n\u003cli\u003e빌드 로그 분석 및 모니터링 (10%)\u003c/li\u003e\n\u003cli\u003e기타 개선사항 (5%)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e주요 변경 파일\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003ecup/packages/responsive/next.config.js\u003c/code\u003e - Next.js 설정 최적화\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003ecup/packages/responsive/responsive-build-with-server.sh\u003c/code\u003e - 빌드 스크립트 개선\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"inline-code\"\u003e.github/workflows/cup-build.yml\u003c/code\u003e - CI 워크플로우 개선\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"가장-중요한-교훈\"\u003e가장 중요한 교훈\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#가장-중요한-교훈\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e\"복잡한 전략 변경보다 근본 원인 해결이 최선\"\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSSR/ISR 전환 시도했으나 효과가 미미했음\u003c/li\u003e\n\u003cli\u003e메모리 증가 및 캐시 최적화만으로도 목표 달성\u003c/li\u003e\n\u003cli\u003e안정성 확보 후 성능 최적화 진행이 중요\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e빌드 최적화는 단순히 시간을 단축하는 것이 아니라, 안정성을 확보한 후 점진적으로 개선하는 것이 중요하다. 여러 방법을 시도했지만 취소한 경험도 결코 무가치하지 않았다. 오히려 이 과정에서 문제의 본질을 더 잘 이해할 수 있었고, 최종 해결책을 찾을 수 있었다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-참고-자료\"\u003e📚 참고 자료\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-참고-자료\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/app/building-your-application/optimizing\"\u003eNext.js Documentation - Build Optimization\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://webpack.js.org/guides/caching/\"\u003eWebpack Documentation - Caching\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.github.com/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows\"\u003eGitHub Actions Cache\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003chr\u003e\n\u003ch2 id=\"-주요-커밋-내역-요약\"\u003e📝 주요 커밋 내역 요약\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#-주요-커밋-내역-요약\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"2025-11-26---최최종-정리\"\u003e2025-11-26 - 최최종 정리\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-26---최최종-정리\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e문서화\u003c/li\u003e\n\u003cli\u003eApollo Client가 빌드 중에는 빈 응답 반환하도록 변경건 취소\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2025-11-25---최종-정리\"\u003e2025-11-25 - 최종 정리\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-25---최종-정리\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eNext.js 페이지 정적 생성 최적화\u003c/li\u003e\n\u003cli\u003eApollo Server 초기화 및 빌드 스크립트 개선\u003c/li\u003e\n\u003cli\u003e빌드 스크립트 간소화\u003c/li\u003e\n\u003cli\u003eGraphQL 스키마 및 Apollo Client 초기화 단순화\u003c/li\u003e\n\u003cli\u003eNext.js 설정 정제 (소스맵, 타입 체크 최적화)\u003c/li\u003e\n\u003cli\u003eISR 원복\u003c/li\u003e\n\u003cli\u003e코드 정리 및 문서화 시작\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2025-11-24---핵심-작업\"\u003e2025-11-24 - 핵심 작업\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-24---핵심-작업\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eNext.js 빌드 캐싱 및 성능 최적화 강화\u003c/li\u003e\n\u003cli\u003e빌드 로그 분석 및 타이밍 추적 기능 추가\u003c/li\u003e\n\u003cli\u003e메모리 관리 및 모니터링 강화\u003c/li\u003e\n\u003cli\u003eCI 빌드 로깅 및 메모리 관리 강화\u003c/li\u003e\n\u003cli\u003eWebpack 병렬 처리 최적화\u003c/li\u003e\n\u003cli\u003e빌드 성능 강화 (GraphQL 쿼리 최적화)\u003c/li\u003e\n\u003cli\u003e빌드 안정성 강화\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2025-11-21---ssr-전환-시도\"\u003e2025-11-21 - SSR 전환 시도\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-21---ssr-전환-시도\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e여러 페이지를 SSR로 전환 시도\u003c/li\u003e\n\u003cli\u003e온디맨드 ISR로 전환 시도\u003c/li\u003e\n\u003cli\u003e서버 측 데이터 페칭 리팩토링\u003c/li\u003e\n\u003cli\u003e빌드 캐시 클리어 및 로그 분석 시스템 구현\u003c/li\u003e\n\u003cli\u003e정적 경로 생성 리팩토링\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2025-11-20---초기-최적화\"\u003e2025-11-20 - 초기 최적화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-20---초기-최적화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e빌드 시간 단축 최적화\u003c/li\u003e\n\u003cli\u003e메모리 설정 조정\u003c/li\u003e\n\u003cli\u003e빌드 오류 수정\u003c/li\u003e\n\u003cli\u003e빌드 시간 8분 42초 달성\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2025-11-19-1개-커밋---시작\"\u003e2025-11-19 (1개 커밋) - 시작\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2025-11-19-1개-커밋---시작\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e1차 검증 작업\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"️-주의사항-및-후속-작업\"\u003e⚠️ 주의사항 및 후속 작업\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#️-주의사항-및-후속-작업\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"현재-상태\"\u003e현재 상태\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#현재-상태\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e현재 브랜치에는 일부 임시 조치가 포함되어 있습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e추가된 라이브러리 정리 필요 (ts-invariant 등)\u003c/li\u003e\n\u003cli\u003eCI 파일 최종 정리 필요\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"권장-후속-작업\"\u003e권장 후속 작업\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#권장-후속-작업\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"1-설정-정리\"\u003e1. 설정 정리\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#1-설정-정리\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e ISR, SSG 설정 최종 검토\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 불필요한 라이브러리 제거\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e CI 설정 파일 최종 정리\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"2-문서화\"\u003e2. 문서화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2-문서화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 빌드 최적화 가이드 문서화\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 모니터링 도구 사용법 정리\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 트러블슈팅 가이드 작성\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"3-검증\"\u003e3. 검증\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#3-검증\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 다양한 환경에서 빌드 테스트\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 성능 메트릭 지속 모니터링\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 팀 내 공유 및 피드백 수집\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"4-ci-캐시-서버-정상화\"\u003e4. CI 캐시 서버 정상화\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#4-ci-캐시-서버-정상화\"\u003e\u003cspan class=\"anchor\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e GitHub Enterprise Server 관리자에게 캐시 서버 상태 확인 요청\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e Self-hosted runner 네트워크 연결 상태 확인\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 캐시 서버 정상화 시 빌드 시간 추가 단축 가능\u003c/li\u003e\n\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$Le\",null,{\"post\":{\"slug\":\"/develop/Next.js 빌드 최적화\",\"frontmatter\":{\"title\":\"Next.js 빌드 최적화\",\"date\":\"2025-12-28T00:00:00.000Z\",\"category\":\"develop\",\"tags\":[\"Next.js\",\"빌드최적화\",\"Webpack\",\"CI/CD\",\"성능최적화\"],\"draft\":false},\"content\":\"$f\",\"html\":\"$10\",\"excerpt\":\"\u003e Next.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.  ## 📊 최종 성과  ### 로컬 환경 성과  | 지표                 | 이전 (develop) | 현\"},\"previousPost\":{\"slug\":\"/develop/React Query 개선\",\"frontmatter\":{\"title\":\"React Query 개선\",\"date\":\"2025-12-28T00:00:00.000Z\",\"category\":\"develop\",\"tags\":[\"React-Query\",\"Next.js\",\"SSR\",\"Props-Drilling\",\"아키텍처\",\"모노레포\"],\"draft\":false}},\"nextPost\":{\"slug\":\"/develop/CorePack 아키텍처 개편\",\"frontmatter\":{\"title\":\"CorePack 아키텍처 개편\",\"date\":\"2025-12-28T00:00:00.000Z\",\"category\":\"develop\",\"tags\":[\"React\",\"Next.js\",\"아키텍처\",\"빌더패턴\",\"상태관리\",\"StrictMode\",\"모노레포\"],\"draft\":false}}}]\nb:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Next.js 빌드 최적화\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"\u003e Next.js 프로젝트에서 빌드 시간을 48% 단축하고 SIGKILL 에러를 100% 해결한 경험을 공유합니다. SSR 전환, ISR 조정 등 여러 방법을 시도했지만 취소했고, 결국 메모리 증가와 캐시 최적화로 문제를 해결했습니다.  ## 📊 최종 성과  ### 로컬 환경 성과  | 지표                 | 이전 (develop) | 현\"}]]\n3:null\n"])</script></body></html>