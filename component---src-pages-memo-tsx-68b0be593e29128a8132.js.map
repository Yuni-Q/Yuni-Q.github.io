{"version":3,"sources":["webpack:///./src/utils/ga.ts","webpack:///./node_modules/gatsby-plugin-google-analytics/index.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/components/memo/Memo.tsx","webpack:///./src/components/spinner/Spinner.tsx","webpack:///./node_modules/gatsby-plugin-firebase/src/firebase.js","webpack:///./node_modules/gatsby-plugin-firebase/index.js","webpack:///./src/utils/firebase.ts","webpack:///./src/pages/memo.tsx"],"names":["sendGAEvent","category","action","label","trackCustomEvent","GA_ACTION","EXPOSE","CLICK","_interopRequireDefault","require","exports","__esModule","OutboundLink","_ref","value","_ref$nonInteraction","nonInteraction","transport","hitCallback","_ref$callbackTimeout","callbackTimeout","window","ga","trackingEventOptions","eventCategory","eventAction","eventLabel","eventValue","callback","opt_timeout","called","raceCallback","setTimeout","createFunctionWithTimeout","_extends2","_objectWithoutPropertiesLoose2","_react","_propTypes","props","rest","default","createElement","onClick","e","redirect","button","altKey","ctrlKey","metaKey","shiftKey","defaultPrevented","target","toLowerCase","href","document","location","propTypes","string","number","func","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","test","byteToHex","push","toString","substr","arr","offset","arguments","length","undefined","TypeError","options","buf","rnds","random","i","Memo","id","top","left","width","height","text","onClickDelete","onClickMove","onClickResize","onChangeText","x","useRef","y","headerRef","blindRef","isHeaderRef","isBlindRef","memoRef","textareaRef","downMouseHeader","useCallback","event","dataset","delete","header","current","clientX","clientY","onClickBlind","blind","moveMouse","momeStyle","style","zIndex","textareaStyle","upMouseHeader","upMouseBlind","useEffect","addEventListener","removeEventListener","className","ref","data-header","data-id","data-delete","placeholder","onChange","data-blind","Spinner","status","size","firebase","apps","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","config","updateFireDB","memos","database","child","set","StyledLoading","styled","div","MemoPage","useState","loading","setLoading","setMemos","mounted","pull","onClickAdd","preventDefault","wrap","newMomos","filter","memo","find","parseInt","getItem","a","setItem","JSON","stringify","wrapRef","console","log","on","parse","node_","value_","error","data-wrap","map","key"],"mappings":"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","file":"component---src-pages-memo-tsx-68b0be593e29128a8132.js","sourcesContent":["import { trackCustomEvent } from 'gatsby-plugin-google-analytics';\n\nconst sendGAEvent = (category, action = '', label = '') => {\n  trackCustomEvent({\n    category,\n    action,\n    label,\n  });\n};\n\nexport default sendGAEvent;\n\nexport const GA_ACTION = {\n  EXPOSE: '화면진입',\n  CLICK: '클릭',\n}\n\nexport const GAClickEvent = (category, action = GA_ACTION.CLICK, label = '') => (e) => {\n  sendGAEvent(category, action, label);\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.OutboundLink = OutboundLink;\nexports.trackCustomEvent = trackCustomEvent;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar createFunctionWithTimeout = function createFunctionWithTimeout(callback, opt_timeout) {\n  if (opt_timeout === void 0) {\n    opt_timeout = 1000;\n  }\n\n  var called = false;\n\n  var raceCallback = function raceCallback() {\n    if (!called) {\n      called = true;\n      callback();\n    }\n  };\n\n  setTimeout(raceCallback, opt_timeout);\n  return raceCallback;\n};\n\nfunction OutboundLink(props) {\n  var eventCategory = props.eventCategory,\n      eventAction = props.eventAction,\n      eventLabel = props.eventLabel,\n      eventValue = props.eventValue,\n      rest = (0, _objectWithoutPropertiesLoose2.default)(props, [\"eventCategory\", \"eventAction\", \"eventLabel\", \"eventValue\"]);\n  return /*#__PURE__*/_react.default.createElement(\"a\", (0, _extends2.default)({}, rest, {\n    onClick: function onClick(e) {\n      if (typeof props.onClick === \"function\") {\n        props.onClick(e);\n      }\n\n      var redirect = true;\n\n      if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey || e.shiftKey || e.defaultPrevented) {\n        redirect = false;\n      }\n\n      if (props.target && props.target.toLowerCase() !== \"_self\") {\n        redirect = false;\n      }\n\n      if (window.ga) {\n        window.ga(\"send\", \"event\", {\n          eventCategory: eventCategory || \"Outbound Link\",\n          eventAction: eventAction || \"click\",\n          eventLabel: eventLabel || props.href,\n          eventValue: eventValue,\n          transport: redirect ? \"beacon\" : \"\",\n          hitCallback: function hitCallback() {\n            if (redirect) {\n              document.location = props.href;\n            }\n          }\n        });\n      } else {\n        if (redirect) {\n          document.location = props.href;\n        }\n      }\n\n      return false;\n    }\n  }));\n}\n\nOutboundLink.propTypes = {\n  href: _propTypes.default.string,\n  target: _propTypes.default.string,\n  eventCategory: _propTypes.default.string,\n  eventAction: _propTypes.default.string,\n  eventLabel: _propTypes.default.string,\n  eventValue: _propTypes.default.number,\n  onClick: _propTypes.default.func\n};\n/**\n * This allows the user to create custom events within their Gatsby projects.\n *\n * @param {import('gatsby-plugin-google-analytics').CustomEventArgs} args\n * @see https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#events\n */\n\nfunction trackCustomEvent(_ref) {\n  var category = _ref.category,\n      action = _ref.action,\n      label = _ref.label,\n      value = _ref.value,\n      _ref$nonInteraction = _ref.nonInteraction,\n      nonInteraction = _ref$nonInteraction === void 0 ? false : _ref$nonInteraction,\n      transport = _ref.transport,\n      hitCallback = _ref.hitCallback,\n      _ref$callbackTimeout = _ref.callbackTimeout,\n      callbackTimeout = _ref$callbackTimeout === void 0 ? 1000 : _ref$callbackTimeout;\n\n  if (typeof window !== \"undefined\" && window.ga) {\n    var trackingEventOptions = {\n      eventCategory: category,\n      eventAction: action,\n      eventLabel: label,\n      eventValue: value,\n      nonInteraction: nonInteraction,\n      transport: transport\n    };\n\n    if (hitCallback && typeof hitCallback === \"function\") {\n      trackingEventOptions.hitCallback = createFunctionWithTimeout(hitCallback, callbackTimeout);\n    }\n\n    window.ga(\"send\", \"event\", trackingEventOptions);\n  }\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport './index.css';\nconst Memo = ({\n\tid,\n\ttop,\n\tleft,\n\twidth,\n\theight,\n\ttext,\n\tonClickDelete,\n\tonClickMove,\n\tonClickResize,\n\tonChangeText,\n}) => {\n\tconst x = useRef(null);\n\tconst y = useRef(null);\n\tconst headerRef = useRef(null);\n\tconst blindRef = useRef(null);\n\tconst isHeaderRef = useRef(null);\n\tconst isBlindRef = useRef(null);\n\tconst memoRef = useRef(null);\n\tconst textareaRef = useRef(null);\n\n\tconst downMouseHeader = useCallback(\n\t\tevent => {\n\t\t\tif (event.target.dataset.delete) {\n\t\t\t\tonClickDelete(event);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.target.dataset.header) {\n\t\t\t\tx.current = event.clientX - left;\n\t\t\t\ty.current = event.clientY - top;\n\t\t\t\tisHeaderRef.current = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t[onClickDelete, left, top]\n\t);\n\n\tconst onClickBlind = event => {\n\t\tif (event.target.dataset.blind) {\n\t\t\tisBlindRef.current = true;\n\t\t}\n\t};\n\n\tconst moveMouse = useCallback(\n\t\tevent => {\n\t\t\tconst momeStyle = memoRef.current.style;\n\t\t\tif (isHeaderRef.current) {\n\t\t\t\tconst momeStyle = memoRef.current.style;\n\t\t\t\tmomeStyle.top = `${event.clientY - y.current}px`;\n\t\t\t\tmomeStyle.left = `${event.clientX - x.current}px`;\n\t\t\t\tmomeStyle.zIndex = '1';\n\t\t\t}\n\t\t\tif (isBlindRef.current) {\n\t\t\t\tconst textareaStyle = textareaRef.current.style;\n\t\t\t\ttextareaStyle.height = `${event.clientY - top - 30}px`;\n\t\t\t\ttextareaStyle.width = `${event.clientX - left - 15}px`;\n\t\t\t\tmomeStyle.zIndex = '1';\n\t\t\t}\n\t\t},\n\t\t[top, left]\n\t);\n\n\tconst upMouseHeader = useCallback(() => {\n\t\tonClickMove(id, memoRef.current.style.top, memoRef.current.style.left);\n\t\tisHeaderRef.current = false;\n\t}, [id, onClickMove]);\n\n\tconst upMouseBlind = useCallback(() => {\n\t\tisBlindRef.current = false;\n\t\tonClickResize(\n\t\t\tid,\n\t\t\ttextareaRef.current.style.width,\n\t\t\ttextareaRef.current.style.height\n\t\t);\n\t}, [id, onClickResize]);\n\n\tuseEffect(() => {\n\t\tconst header = headerRef.current;\n\t\tconst blind = blindRef.current;\n\t\theader.addEventListener('mousedown', downMouseHeader, true);\n\t\twindow.addEventListener('mousemove', moveMouse, true);\n\t\theader.addEventListener('mouseup', upMouseHeader, true);\n\t\tblind.addEventListener('mousedown', onClickBlind, true);\n\t\tblind.addEventListener('mouseup', upMouseBlind, true);\n\n\t\treturn () => {\n\t\t\theader.removeEventListener('mousedown', downMouseHeader, true);\n\t\t\twindow.removeEventListener('mousemove', moveMouse, true);\n\t\t\theader.removeEventListener('mouseup', upMouseHeader, true);\n\t\t\tblind.removeEventListener('mousedown', onClickBlind, true);\n\t\t\tblind.removeEventListener('mouseup', upMouseBlind, true);\n\t\t};\n\t}, [\n\t\tdownMouseHeader,\n\t\tid,\n\t\tmoveMouse,\n\t\tonChangeText,\n\t\tupMouseBlind,\n\t\tupMouseHeader,\n\t\ttext,\n\t]);\n\treturn (\n\t\t<div\n\t\t\tclassName=\"memo\"\n\t\t\tref={memoRef}\n\t\t\tstyle={{ top: `${top}px`, left: `${left}px` }}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"header\"\n\t\t\t\tdata-header={true}\n\t\t\t\tdata-id={id}\n\t\t\t\tref={headerRef}\n\t\t\t\tonClick={downMouseHeader}\n\t\t\t>\n\t\t\t\t<h1 className=\"blind\">메모장</h1>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn_close\"\n\t\t\t\t\tdata-delete={true}\n\t\t\t\t\tdata-id={id}\n\t\t\t\t\tonClick={onClickDelete}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"blind\">닫기</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"content\">\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"textarea\"\n\t\t\t\t\tref={textareaRef}\n\t\t\t\t\tstyle={{ width: `${width}px`, height: `${height}px` }}\n\t\t\t\t\tplaceholder=\"메모 하십시오!\"\n\t\t\t\t\tvalue={text}\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tonChangeText(id, e.target.value, e.target);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<button className=\"btn_size\" data-blind={true} ref={blindRef}>\n\t\t\t\t\t<span className=\"blind\">메모장 크기 조절</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Memo;\n","import React from 'react';\nimport './Spinner.scss';\n\ninterface Props {\n\t/**\n\t * 클래스명을 추가할 수 있습니다.\n\t * */\n\tclassName?: string;\n\t/**\n\t * 로딩 상태를 뜻합니다.\n\t * */\n\tstatus?: true;\n\t/**\n\t * 스피너 아이콘을 감싸는 영역의 높이 값입니다.\n\t * */\n\tsize?: number;\n}\n\nconst Spinner: React.FC<Props> = ({className, status, size = 28}) => {\n  return (\n    <div className={'spinner la-ball-pulse ' + (className || '')} style={{ height: size }}>\n      <div />\n      <div />\n      <div />\n    </div>\n  );\n}\n\nexport default Spinner;\n\n","import firebase from \"firebase/app\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: process.env.FIREBASE_API_KEY,\n    authDomain: process.env.FIREBASE_AUTH_DOMAIN,\n    databaseURL: process.env.FIREBASE_DATABASE_URL,\n    projectId: process.env.FIREBASE_PROJECT_ID,\n    storageBucket: process.env.FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.FIREBASE_APP_ID,\n    measurementId: process.env.FIREBASE_MEASUREMENT_ID\n  });\n}\n\nexport default firebase;\n","import firebase from \"./src/firebase\";\n\nexport default firebase;\n","import firebase from 'gatsby-plugin-firebase';\n\nlet database;\nconst config = {\n  apiKey: 'AIzaSyDlYM9tmiCS8cpJNCJDt1ayilldy4ZHcqA',\n  authDomain: 'yuni-q.firebaseapp.com',\n  databaseURL: 'https://yuni-q.firebaseio.com',\n  projectId: 'yuni-q',\n  storageBucket: 'yuni-q.appspot.com',\n  messagingSenderId: '158413688649',\n  appId: '1:158413688649:web:a15e7e4e8ff8894f049498',\n  measurementId: 'G-J4THPFQ6L1',\n};\n\nexport const fire = () => {\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n  }\n  database = firebase.database();\n};\n\nexport const getFireDB = () => {\n  console.log(firebase);\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n  }\n  database = firebase.database();\n  return database.ref('/').child('memo');\n};\n\nexport const updateFireDB = (memos) => {\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n  }\n  database = firebase.database();\n  return database.ref('/').child('memo').set(memos);\n};\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\nimport Memo from '../components/memo/Memo';\nimport Spinner from '../components/spinner/Spinner';\nimport { getFireDB, updateFireDB } from '../utils/firebase';\nimport sendGAEvent, { GA_ACTION } from '../utils/ga';\n\nconst StyledLoading = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background: gray;\n  display: flex;\n  color: white;\n  align-items: center;\n`;\n\ninterface DataSnapshot {\n  index_;\n  node_;\n  ref_;\n}\n\nconst MemoPage: React.VFC = () => {\n  const [loading, setLoading] = useState(true);\n  const [memos, setMemos] = useState([]);\n\n  const ref = useRef(null);\n  const mounted = useRef(false);\n  const pull = useRef(false);\n\n  const onClickAdd = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      event.preventDefault();\n      if ((event.target as HTMLElement).dataset.wrap) {\n        setMemos([\n          ...memos,\n          {\n            id: uuid(),\n            top: (window.event as MouseEvent).clientY,\n            left: (window.event as MouseEvent).clientX,\n            width: 200,\n            height: 100,\n            text: '',\n          },\n        ]);\n      }\n    },\n    [memos],\n  );\n\n  const onClickDelete = (event) => {\n    const newMomos = memos.filter((memo) => {\n      return memo.id !== event.target.dataset.id;\n    });\n    setMemos(newMomos);\n  };\n\n  const onClickMove = (id, top, left) => {\n    const memo = memos.find((memo) => {\n      return memo.id === id;\n    });\n    const newMomos = memos.filter((memo) => {\n      return memo.id !== id;\n    });\n    setMemos([\n      ...newMomos,\n      {\n        id: uuid(),\n        top: parseInt(top, 10),\n        left: parseInt(left, 10),\n        width: memo.width,\n        height: memo.height,\n        text: memo.text,\n      },\n    ]);\n  };\n\n  const onClickResize = (id, width, height) => {\n    const memo = memos.find((memo) => {\n      return memo.id === id;\n    });\n    const newMomos = memos.filter((memo) => {\n      return memo.id !== id;\n    });\n    setMemos([\n      ...newMomos,\n      {\n        id: uuid(),\n        top: memo.top,\n        left: memo.left,\n        width: parseInt(width, 10),\n        height: parseInt(height, 10),\n        text: memo.text,\n      },\n    ]);\n  };\n  const onChangeText = (id, text) => {\n    const memo = memos.find((memo) => {\n      return memo.id === id;\n    });\n    const newMomos = memos.filter((memo) => {\n      return memo.id !== id;\n    });\n    setMemos([\n      ...newMomos,\n      {\n        id: memo.id,\n        top: memo.top,\n        left: memo.left,\n        width: memo.width,\n        height: memo.height,\n        text: text,\n      },\n    ]);\n  };\n\n  const getItem = async () => {\n    setLoading(false);\n  };\n\n  const setItem = async (memos) => {\n    if (!mounted.current) {\n      return (mounted.current = true);\n    } else {\n      if (pull.current) {\n        pull.current = false;\n      } else {\n        updateFireDB(memos);\n      }\n    }\n  };\n\n  useEffect(() => {\n    setItem(JSON.stringify(memos));\n  }, [memos, onClickAdd]);\n\n  useEffect(() => {\n    const wrapRef = ref.current;\n    wrapRef.addEventListener('contextmenu', onClickAdd, true);\n    return () => wrapRef.removeEventListener('contextmenu', onClickAdd, true);\n  }, [onClickAdd]);\n\n  useEffect(() => {\n    sendGAEvent('memo', GA_ACTION.EXPOSE, 'memo');\n    getItem();\n    const ref = getFireDB();\n    ref.on('value', (value) => {\n      console.log(222, value);\n\n      try {\n        pull.current = true;\n        setMemos(JSON.parse((value as DataSnapshot).node_.value_));\n      } catch (error) {\n        updateFireDB([]);\n      }\n    });\n  }, []);\n\n  return (\n    <div\n      className=\"wrap\"\n      data-wrap={true}\n      ref={ref}\n      style={{ width: '100vw', height: '100vh' }}\n    >\n      {!!loading && (\n        <StyledLoading>\n          <Spinner />\n        </StyledLoading>\n      )}\n      {!loading &&\n        memos &&\n        memos.map((memo) => {\n          const { id, top, left, width, height, text } = memo;\n          return (\n            <Memo\n              key={id}\n              id={id}\n              top={top}\n              left={left}\n              width={width}\n              height={height}\n              text={text}\n              onClickDelete={onClickDelete}\n              onClickMove={onClickMove}\n              onClickResize={onClickResize}\n              onChangeText={onChangeText}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default MemoPage;\n"],"sourceRoot":""}