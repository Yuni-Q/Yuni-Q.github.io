(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7878,6764],{5502:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var i=t(2769),r=t(294),o=t(6201),s=t(8782);class c extends i.Scene{init(e){this.isOnlineMode=(null==e?void 0:e.isOnlineMode)||!1,this.numberOfPlayers=(null==e?void 0:e.numberOfPlayers)||0,console.log("[GameSelectionScene] init() called",{isOnlineMode:this.isOnlineMode,numberOfPlayers:this.numberOfPlayers,data:e}),this.gameSelectionManager&&(console.log("[GameSelectionScene] Re-setting callbacks in init()"),this.gameSelectionManager.setSceneCallbacks({onGameSelected:e=>{if(console.log("[GameSelectionScene] onGameSelected called",{sceneKey:e,isOnlineMode:this.isOnlineMode,numberOfPlayers:this.numberOfPlayers}),this.isOnlineMode)console.log("[GameSelectionScene] Multi-device mode - transitioning to RoomWaitingScene"),s.rX.startScene(this,"RoomWaitingScene",{sceneKey:e});else{console.log("[GameSelectionScene] Single device mode - transitioning to game scene");let n=o.P.getInstance().getGame(e);n&&1===n.maxPlayers?s.rX.startScene(this,e):this.numberOfPlayers>0?s.rX.startScene(this,e,{isOnlineMode:!1,numberOfPlayers:this.numberOfPlayers}):s.rX.startScene(this,"PlayerSelectionScene",{sceneKey:e})}},onGameSelectionCancelled:()=>{this.isOnlineMode?s.rX.startScene(this,"RoomCreationScene"):s.rX.startScene(this,"DeviceSelectionScene")}}))}create(){console.log("[GameSelectionScene] create() called",{isOnlineMode:this.isOnlineMode,numberOfPlayers:this.numberOfPlayers});let e=this.cameras.main.width,n=this.cameras.main.height;this.add.rectangle(e/2,n/2,e,n,1710618,1),this.gameSelectionManager?console.log("[GameSelectionScene] Reusing existing GameSelectionManager"):(console.log("[GameSelectionScene] Creating new GameSelectionManager"),this.gameSelectionManager=new r.m,this.gameSelectionManager.initialize(this)),this.gameSelectionManager.setSceneCallbacks({onGameSelected:e=>{if(console.log("[GameSelectionScene] onGameSelected called",{sceneKey:e,isOnlineMode:this.isOnlineMode,numberOfPlayers:this.numberOfPlayers}),this.isOnlineMode)console.log("[GameSelectionScene] Multi-device mode - transitioning to RoomWaitingScene"),s.rX.startScene(this,"RoomWaitingScene",{sceneKey:e});else{console.log("[GameSelectionScene] Single device mode - transitioning to game scene");let n=o.P.getInstance().getGame(e);n&&1===n.maxPlayers?s.rX.startScene(this,e):this.numberOfPlayers>0?s.rX.startScene(this,e,{isOnlineMode:!1,numberOfPlayers:this.numberOfPlayers}):s.rX.startScene(this,"PlayerSelectionScene",{sceneKey:e})}},onGameSelectionCancelled:()=>{this.isOnlineMode?s.rX.startScene(this,"RoomCreationScene"):s.rX.startScene(this,"DeviceSelectionScene")}}),this.gameSelectionManager.showGameSelectionScreen(this.numberOfPlayers,this.isOnlineMode)}shutdown(){this.gameSelectionManager&&(this.gameSelectionManager.destroy(),this.gameSelectionManager=void 0)}constructor(){super("GameSelectionScene"),this.isOnlineMode=!1,this.numberOfPlayers=0}}},5709:function(e,n,t){"use strict";function i(e){return{success:!0,value:e}}function r(e){return{success:!1,error:e}}t.d(n,{T:function(){return r},f:function(){return i}})},6764:function(e,n,t){"use strict";var i,r;e.exports=(null==(i=t.g.process)?void 0:i.env)&&"object"==typeof(null==(r=t.g.process)?void 0:r.env)?t.g.process:t(6515)},6515:function(e){!function(){var n={229:function(e){var n,t,i,r=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"==typeof clearTimeout?clearTimeout:s}catch(e){t=s}}();var a=[],l=!1,u=-1;function m(){l&&i&&(l=!1,i.length?a=i.concat(a):u=-1,a.length&&h())}function h(){if(!l){var e=c(m);l=!0;for(var n=a.length;n;){for(i=a,a=[];++u<n;)i&&i[u].run();u=-1,n=a.length}i=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===s||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function S(e,n){this.fun=e,this.array=n}function f(){}r.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];a.push(new S(e,n)),1!==a.length||l||c(h)},S.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function i(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={exports:{}},s=!0;try{n[e](o,o.exports,i),s=!1}finally{s&&delete t[e]}return o.exports}i.ab="//";var r=i(229);e.exports=r}()}}]);