(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1836],{314:function(t,e,l){Promise.resolve().then(l.bind(l,1102))},1102:function(t,e,l){"use strict";l.r(e);var n=l(2577),a=l(727);let u={name:"",level:1,maxHp:100,hp:100,xp:0,att:10},i=[{name:"슬라임",hp:25,maxHp:25,att:10,xp:10},{name:"스켈레톤",hp:50,maxHp:50,att:15,xp:20},{name:"마왕",hp:150,maxHp:150,att:30,xp:50}];e.default=()=>{let[t,e]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[s,r]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),p=(0,a.useCallback)(()=>{s&&h&&(x(t=>t?{...t,hp:t.hp-s.att}:null),r(t=>t?{...t,hp:t.hp-h.att}:null),c("".concat(s.att,"의 데미지를 주고, ").concat(h.att,"의 데미지를 받았습니다.")))},[s,h]),o=(0,a.useCallback)(()=>{s&&h&&r(t=>t?{...t,hp:Math.min(t.maxHp,t.hp+20)-h.att}:null)},[s,h]);return((0,a.useEffect)(()=>{if(s&&s.hp<=0){c("".concat(s.level," 레벨에서 전사. 새 주인공을 생성하세요 !")),r(null),x(null),e(!1);return}if(s&&h&&h.hp<=0){r(t=>t?{...t,xp:t.xp+h.xp}:null),x(null),e(!1);return}s&&s.xp>=15*s.level&&(r(t=>{if(!t)return null;let e=t.maxHp+5;return{...t,xp:t.xp-15*t.level,level:t.level+1,maxHp:e,hp:e,att:t.att+5}}),c("레벨업! 레벨 ".concat(s.level+1)))},[s,h]),null==s?void 0:s.name)?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{children:["이름 : ",s.name]}),(0,n.jsxs)("button",{children:["레벨 : ",s.level]}),(0,n.jsxs)("button",{children:["체력 : ",s.hp,"/",s.maxHp]}),(0,n.jsxs)("button",{children:["공격력 :",s.att]}),(0,n.jsxs)("button",{children:["경험치 : ",s.xp,"/",15*s.level]})]}),!t&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"menu"}),(0,n.jsx)("button",{onClick:()=>{let t=i[Math.floor(Math.random()*i.length)];x({...t}),e(!0),c("몬스터와 마주쳤다. ".concat(t.name,"인 것 같다!"))},children:"1. 모험"}),(0,n.jsx)("button",{onClick:()=>{r(t=>t?{...t,hp:t.maxHp}:null)},children:"2. 휴식"}),(0,n.jsx)("button",{onClick:()=>{c("".concat(s.level," 레벨에서 종료. 새 주인공을 생성하세요 !")),r(null)},children:"3. 종료"})]}),t&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"battle"}),(0,n.jsx)("button",{onClick:()=>{p()},children:"1. 공격"}),(0,n.jsx)("button",{onClick:()=>{o()},children:"2. 회복"}),(0,n.jsx)("button",{onClick:()=>{e(!1);let t=(null==h?void 0:h.name)||"몬스터";x(null),c("".concat(t,"으로부터 도망쳤습니다."))},children:"3. 도망"})]}),(0,n.jsx)("div",{children:l}),h&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{children:["이름: ",h.name]}),(0,n.jsxs)("button",{children:["체력 : ",h.hp,"/",h.maxHp]}),(0,n.jsxs)("button",{children:["공격 :",h.att]})]})]}):(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault();let e=t.target[0];if(!e.value)return alert("이름을 입력해주세요.");r({...u,name:e.value})},children:[(0,n.jsx)("input",{type:"text",placeholder:"주인공 이름을 입력하세요!"}),(0,n.jsx)("button",{type:"submit",children:"시작"}),(0,n.jsx)("div",{children:l})]})}}},function(t){t.O(0,[1434,5647,1744],function(){return t(t.s=314)}),_N_E=t.O()}]);