(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6659],{469:function(e,t,n){Promise.resolve().then(n.bind(n,3231))},3231:function(e,t,n){"use strict";n.r(t);var a=n(2577),r=n(4869),i=n(727);t.default=()=>{let[e,t]=(0,i.useState)(.05),[n,s]=(0,i.useState)(0),[c,d]=(0,i.useState)([]),[u,m]=(0,i.useState)({}),[o,h]=(0,i.useState)([]),[p,x]=(0,i.useState)({}),[f,v]=(0,i.useState)([]),g=(0,i.useRef)(null),j=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t;return n>0&&(t=setInterval(()=>{s(t=>{if(t-1==0){let t=j.current;t&&(t.volume=e,t.play())}return t-1})},1e3)),()=>clearInterval(t)},[n]),(0,i.useEffect)(()=>{(async()=>{var e;let t=await r.Z.get("https://script.google.com/macros/s/AKfycbwiRDzA_FHVDm7VFkBI6_fXGAehsCaHQ_a8S5E8gFy47bD1dgnYOxeyjw/exec");(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.items)&&d(t.data.items)})()},[]),(0,i.useEffect)(()=>{let e={};c.forEach(t=>{e[t.team]?e[t.team].push(t):e[t.team]=[t]}),m(e);let t={};o.forEach(e=>{t[e.team]?t[e.team].push(e):t[e.team]=[e]}),x(t)},[c,o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"range",min:"0",step:"0.05",max:"1",value:e,onChange:e=>t(parseFloat(e.target.value))}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)("audio",{ref:g,src:"/drum.mp3"}),(0,a.jsx)("audio",{ref:j,src:"/good.mp3"}),n>0&&(0,a.jsx)(l,{time:n}),(0,a.jsxs)("div",{style:{margin:16,textAlign:"center"},children:[(0,a.jsx)("div",{onClick:()=>{h([...c,...o]),d([])},children:(0,a.jsx)("div",{style:{background:"chartreuse",whiteSpace:"nowrap",padding:4},children:"모두 선택"})}),(0,a.jsx)("div",{children:Object.keys(u).map(e=>{if(0!==u[e].length)return(0,a.jsxs)("div",{onClick:()=>{d(c.filter(t=>{let n=!1;return u[e].map(e=>{e.name===t.name&&(n=!0)}),!n})),h([...o,...u[e]])},children:[(0,a.jsx)("div",{style:{background:"aqua"},children:e}),u[e].map(e=>(0,a.jsx)("div",{onClick:t=>{t.stopPropagation(),h([...[...o,e].filter((e,t,n)=>t==n.indexOf(e))]),d(c.filter(t=>t.name!==e.name))},children:e.name},e.name))]},e)})})]}),(0,a.jsx)("div",{style:{margin:16,textAlign:"center"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{onClick:()=>{h([]),d([...c,...o])},children:(0,a.jsx)("div",{style:{background:"gray",whiteSpace:"nowrap",padding:4},children:"선택받은 사람들"})}),Object.keys(p).map(e=>{if(0!==p[e].length)return(0,a.jsxs)("div",{onClick:()=>{h(o.filter(t=>{let n=!1;return p[e].map(e=>{e.name===t.name&&(n=!0)}),!n})),d([...c,...p[e]])},children:[(0,a.jsx)("div",{style:{background:"aquamarine"},children:e}),p[e].map(e=>(0,a.jsx)("div",{onClick:t=>{t.stopPropagation(),d([...c,e]),h(o.filter(t=>t.name!==e.name))},children:e.name},e.name))]},e)})]})}),(0,a.jsxs)("div",{style:{margin:16,textAlign:"center"},children:[o.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",className:"item"})},e.name)),o.length>0&&(0,a.jsx)("button",{type:"button",onClick:()=>{s(5);let t=g.current;t&&(t.volume=e,t.play());let n=document.querySelectorAll(".item"),a=[...o],r=[];n.forEach(e=>{let t=e.value,n=Math.floor(Math.random()*a.length);t&&r.push({name:a[n].name,value:t}),a=a.filter((e,t)=>t!==n)}),v(r)},children:"시작!! 하겠습니다 !!"})]}),(0,a.jsx)("div",{style:{margin:16,textAlign:"center"},children:f.map(e=>(0,a.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[e.name," : ",e.value]},e.name))})]})]})};let l=e=>{let{time:t}=e;return(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex justify-center items-center z-[1000] backdrop-blur-[10px] bg-fixed",children:(0,a.jsx)("div",{className:"bg-transparent",children:t})})}}},function(e){e.O(0,[3380,4869,1434,5647,1744],function(){return e(e.s=469)}),_N_E=e.O()}]);