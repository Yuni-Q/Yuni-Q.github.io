"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8439],{8439:function(e,t,n){n.d(t,{F:function(){return s}});class s{createHeader(e,t){let n=this.scene.cameras.main.width,s=this.scene.cameras.main.height,o=.02*s,i=.06*s,r=.015*n,l=.02*n,c=Math.max(.018*s,12),u={buttons:{},height:i+2*o,topMargin:o},a=[];if(e.showMainMenu&&a.push(e.isMobile?"Menu":"메인 메뉴"),e.showNewGame&&a.push(e.isMobile?"New":"새 게임"),e.showChangeGame&&a.push(e.isMobile?"Change":"게임 변경"),e.showFullscreen){let t=e.isMobile?this.isFullscreen?"Exit":"FS":this.isFullscreen?"전체화면 종료":"전체화면";a.push(t)}let d=0;a.forEach(e=>{let t=this.scene.add.text(0,0,e,{fontSize:"".concat(c,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(.5);d=Math.max(d,t.width),t.destroy()});let f=Math.max(d+.015*n*2,.1*n),h=o+i/2,g=n-l-f/2;if(e.showFullscreen){let t=e.isMobile?this.isFullscreen?"Exit":"FS":this.isFullscreen?"전체화면 종료":"전체화면",n=this.isFullscreen?16729156:5025616,s=this.isFullscreen?16737894:6732650,o=this.scene.add.rectangle(g,h,f,i,n,.9).setStrokeStyle(2,s).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.toggleFullscreen()}),l=this.scene.add.text(g,h,t,{fontSize:"".concat(c,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.toggleFullscreen()});u.buttons.fullscreen={bg:o,text:l},g-=f+r}if(e.showChangeGame&&e.onChangeGame){let t=e.isMobile?"Change":"게임 변경",n=this.scene.add.rectangle(g,h,f,i,16750592,.9).setStrokeStyle(2,16758605).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{e.onChangeGame()}),s=this.scene.add.text(g,h,t,{fontSize:"".concat(c,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{e.onChangeGame()});u.buttons.changeGame={bg:n,text:s},g-=f+r}if(e.showNewGame){let t=e.isMobile?"New":"새 게임",n=this.scene.add.rectangle(g,h,f,i,2201331,.9).setStrokeStyle(2,6600182).setInteractive({useHandCursor:!0}),s=this.scene.add.text(g,h,t,{fontSize:"".concat(c,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0});u.buttons.newGame={bg:n,text:s},g-=f+r}if(e.showMainMenu){let t=e.isMobile?"Menu":"메인 메뉴",n=this.scene.add.rectangle(g,h,f,i,10233776,.9).setStrokeStyle(2,12216520).setInteractive({useHandCursor:!0}),s=this.scene.add.text(g,h,t,{fontSize:"".concat(c,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0});u.buttons.mainMenu={bg:n,text:s}}return e.showFullscreen&&this.setupFullscreenListeners(u.buttons.fullscreen),t&&(u.info=this.createInfoDisplay(t,o,i,n,s)),u}createInfoDisplay(e,t,n,s,o){let i={},r=t+n/2,l=Math.max(.02*o,12),c=.05*s;if(e.showTurn&&void 0!==e.currentPlayer){var u,a;let t="턴: ".concat(e.currentPlayer+1),n=this.scene.add.text(0,0,t,{fontSize:"".concat(l,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5),d=n.width,f=n.height;n.destroy();let h=.015*s,g=d+2*h,m=(null===(u=e.playerColors)||void 0===u?void 0:u[e.currentPlayer])||6710886,x=(null===(a=e.playerColorsLight)||void 0===a?void 0:a[e.currentPlayer])||10066329,b=this.scene.add.rectangle(c+g/2,r,g,Math.max(1.3*f,.04*o),m,.9).setStrokeStyle(2,x).setDepth(199),y=this.scene.add.text(c+h,r,t,{fontSize:"".concat(l,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5).setDepth(200);if(i.turn={bg:b,text:y},e.showRound){let t="라운드 ".concat(e.currentRound||0,"/").concat(e.maxRounds||0);i.round=this.scene.add.text(c+g+.02*s,r,t,{fontSize:"".concat(l,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5).setDepth(200)}}else if(e.showRound){let t="Round ".concat(e.currentRound||0,"/").concat(e.maxRounds||0);i.round=this.scene.add.text(c,r,t,{fontSize:"".concat(l,"px"),color:"#4CAF50",fontStyle:"bold"}).setOrigin(0,.5).setDepth(200)}if(e.showTimer){let t="00:00",n=this.scene.add.text(0,0,"⏱",{fontSize:"".concat(1.2*l,"px"),color:"#fff"}).setOrigin(0,.5),u=n.width;n.destroy();let a=this.scene.add.text(0,0,t,{fontSize:"".concat(l,"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5),d=a.width,f=a.height;a.destroy();let h=.015*s,g=u+d+3*h,m=this.scene.add.rectangle(c+g/2,r,g,Math.max(1.3*f,.04*o),10233776,.9).setStrokeStyle(2,12216520).setDepth(199),x=this.scene.add.text(c+h,r,"⏱",{fontSize:"".concat(1.2*l,"px"),color:"#fff"}).setOrigin(0,.5).setDepth(200),b=this.scene.add.text(c+2*h+u,r,t,{fontSize:"".concat(l,"px"),color:"#fff",fontStyle:"bold",fontFamily:"Arial, sans-serif"}).setOrigin(0,.5).setDepth(200);e.timerText&&e.timerText.destroy(),i.timer={bg:m,icon:x,text:b}}return i}setupFullscreenListeners(e){let t=()=>{this.isFullscreen=!!document.fullscreenElement;let t=this.isFullscreen?16729156:5025616,n=this.isFullscreen?16737894:6732650;e.bg.setFillStyle(t,.9),e.bg.setStrokeStyle(2,n);let s=this.isFullscreen?"전체화면 종료":"전체화면";e.text.setText(s)};this.fullscreenChangeHandler=t,document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),this.scene.events.once("shutdown",()=>{this.cleanup()})}toggleFullscreen(){if(document.fullscreenElement){let e=document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}else{let e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}updateInfo(e,t){if(!t.info)return;let n=this.scene.cameras.main.width,s=this.scene.cameras.main.height,o=.05*n;if(e.showTurn&&void 0!==e.currentPlayer&&t.info.turn){let l="턴: ".concat(e.currentPlayer+1);t.info.turn.text.setText(l);let c=this.scene.add.text(0,0,l,{fontSize:"".concat(Math.max(.02*s,12),"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5),u=c.width,a=c.height;c.destroy();let d=.015*n,f=u+2*d;if(t.info.turn.bg){var i,r;let n=(null===(i=e.playerColors)||void 0===i?void 0:i[e.currentPlayer])||6710886,l=(null===(r=e.playerColorsLight)||void 0===r?void 0:r[e.currentPlayer])||10066329;t.info.turn.bg.setSize(f,Math.max(1.3*a,.04*s)),t.info.turn.bg.setPosition(o+f/2,t.info.turn.bg.y),t.info.turn.bg.setFillStyle(n,.9),t.info.turn.bg.setStrokeStyle(2,l),t.info.turn.text.setPosition(o+d,t.info.turn.text.y)}t.info.round&&t.info.round.setPosition(o+f+.02*n,t.info.round.y)}if(e.showRound&&t.info.round){let n=e.showTurn&&void 0!==e.currentPlayer,s=n?"라운드 ".concat(e.currentRound||0,"/").concat(e.maxRounds||0):"Round ".concat(e.currentRound||0,"/").concat(e.maxRounds||0);t.info.round.setText(s),n||t.info.round.setColor("#4CAF50")}}destroy(e){var t,n;e.buttons.mainMenu&&(e.buttons.mainMenu.bg.destroy(),e.buttons.mainMenu.text.destroy()),e.buttons.newGame&&(e.buttons.newGame.bg.destroy(),e.buttons.newGame.text.destroy()),e.buttons.changeGame&&(e.buttons.changeGame.bg.destroy(),e.buttons.changeGame.text.destroy()),e.buttons.fullscreen&&(e.buttons.fullscreen.bg.destroy(),e.buttons.fullscreen.text.destroy()),(null===(t=e.info)||void 0===t?void 0:t.turn)&&(e.info.turn.bg&&e.info.turn.bg.destroy(),e.info.turn.text.destroy()),(null===(n=e.info)||void 0===n?void 0:n.round)&&e.info.round.destroy(),this.cleanup()}cleanup(){this.fullscreenChangeHandler&&(document.removeEventListener("fullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("webkitfullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("mozfullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("MSFullscreenChange",this.fullscreenChangeHandler),this.fullscreenChangeHandler=void 0)}updateTurn(e,t,n,s){var o;if(!(null===(o=t.info)||void 0===o?void 0:o.turn))return;let i=this.scene.cameras.main.width,r=this.scene.cameras.main.height,l=.05*i,c="턴: ".concat(e);t.info.turn.text.setText(c);let u=this.scene.add.text(0,0,c,{fontSize:"".concat(Math.max(.02*r,12),"px"),color:"#fff",fontStyle:"bold"}).setOrigin(0,.5),a=u.width,d=u.height;u.destroy();let f=.015*i,h=a+2*f;if(t.info.turn.bg){let o=e-1,i=(null==n?void 0:n[o])||6710886,c=(null==s?void 0:s[o])||10066329;t.info.turn.bg.setSize(h,Math.max(1.3*d,.04*r)),t.info.turn.bg.setPosition(l+h/2,t.info.turn.bg.y),t.info.turn.bg.setFillStyle(i,.9),t.info.turn.bg.setStrokeStyle(2,c),t.info.turn.text.setPosition(l+f,t.info.turn.text.y)}t.info.round&&t.info.round.setPosition(l+h+.02*i,t.info.round.y)}updateRound(e,t,n){var s;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(null===(s=n.info)||void 0===s?void 0:s.round))return;let i=o?"라운드 ".concat(e,"/").concat(t):"Round ".concat(e,"/").concat(t);n.info.round.setText(i),o||n.info.round.setColor("#4CAF50")}constructor(e){this.isFullscreen=!1,this.scene=e,this.isFullscreen=!!document.fullscreenElement}}}}]);