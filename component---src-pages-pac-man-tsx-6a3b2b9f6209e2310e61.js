"use strict";(self.webpackChunkyuni_q_blog=self.webpackChunkyuni_q_blog||[]).push([[6162],{6664:function(e,n,r){r.r(n);var t=r(4506),a=r(6540),c=r(2568);const d=c.default.div.withConfig({displayName:"pac-man__Grid",componentId:"sc-biee4w-0"})(["box-sizing:content-box;display:flex;flex-wrap:wrap;width:560px;height:560px;border:solid black;div{width:20px;height:20px;}"]),o=c.default.div.withConfig({displayName:"pac-man__PacDot",componentId:"sc-biee4w-1"})(["background-color:green;border:5px solid white;box-sizing:border-box;"]),l=c.default.div.withConfig({displayName:"pac-man__Wall",componentId:"sc-biee4w-2"})(["background-color:blue;"]),i=c.default.div.withConfig({displayName:"pac-man__Man",componentId:"sc-biee4w-3"})(["background-color:yellow;border-radius:10px;"]),s=c.default.div.withConfig({displayName:"pac-man__PowerPellet",componentId:"sc-biee4w-4"})(["background-color:green;border-radius:10px;"]),u=c.default.div.withConfig({displayName:"pac-man__GhostLair",componentId:"sc-biee4w-5"})(["background-color:",";border:0px;"],(e=>{let{color:n}=e;return n})),m=28;n.default=()=>{const{0:e,1:n}=(0,a.useState)(0),{0:r,1:c}=(0,a.useState)(p),{0:f,1:b}=(0,a.useState)(490),w=(0,a.useRef)(null),{0:x,1:k}=(0,a.useState)(!1),{0:I,1:h}=(0,a.useState)([{name:"red",startIndex:348,currentIndex:348,speed:250,isScared:!1},{name:"pink",startIndex:376,currentIndex:376,speed:400,isScared:!1},{name:"cyan",startIndex:351,currentIndex:351,speed:300,isScared:!1},{name:"orange",startIndex:379,currentIndex:379,speed:500,isScared:!1}]);return(0,a.useEffect)((()=>{const e=e=>{if(x)return;const a=e=>{0===r[e]&&n((e=>e+1)),3===r[e]&&(n((e=>e+10)),h((e=>e.map((e=>(e.isScared=!0,e))))),setTimeout((()=>{h((e=>e.map((e=>(e.isScared=!1,e)))))}),1e4))};switch(r[f]=null,c((e=>{const n=(0,t.A)(e);return n[f]=null,n})),e.key){case"ArrowLeft":f%m!=0&&1!==r[f-1]&&2!==r[f-1]&&(a(f-1),b((e=>e-1))),f-1==363&&b(391);break;case"ArrowUp":f-m>=0&&1!==r[f-m]&&2!==r[f-m]&&(a(f-m),b((e=>e-m)));break;case"ArrowRight":f%m<27&&1!==r[f+1]&&2!==r[f+1]&&(a(f+1),b((e=>e+1))),f+1===392&&b(364);break;case"ArrowDown":f+m<784&&1!==r[f+m]&&2!==r[f+m]&&(a(f+m),b((e=>e+m)))}};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[r,f,I,x]),(0,a.useEffect)((()=>((()=>{const e=[-1,1,m,-28];w.current=I.map((n=>setInterval((()=>{h((t=>t.map((t=>{if(n.name!==t.name)return t;const a=e[Math.floor(Math.random()*e.length)];return 1!==r[t.currentIndex+a]&&(t.currentIndex=t.currentIndex+a),t}))))}),n.speed)))})(),()=>{w.current.map((e=>{clearInterval(e)}))})),[]),(0,a.useEffect)((()=>{I.forEach((e=>{f===e.currentIndex&&(e.isScared?(n((e=>e+100)),h((n=>n.map((n=>(e.name!==n.name||(n.currentIndex=n.startIndex),n)))))):(k(!0),w.current.map((e=>{clearInterval(e)})),alert("게임 종료")))}))}),[I,f]),(0,a.useEffect)((()=>{r.includes(0)||r.includes(3)||(k(!0),alert("게임 종료"),w.current.map((e=>{clearInterval(e)})))}),[r,e]),a.createElement(a.Fragment,null,a.createElement(d,null,r.map(((e,n)=>{const r=I.find((e=>n===e.currentIndex));return r?a.createElement(u,{color:r.isScared?"aquamarine":r.name,key:`${e}-${n}`}):n===f?a.createElement(i,{key:`${e}-${n}`}):0===e?a.createElement(o,{key:`${e}-${n}`}):1===e?a.createElement(l,{key:`${e}-${n}`}):2===e?a.createElement(u,{color:"black",key:`${e}-${n}`}):3===e?a.createElement(s,{key:`${e}-${n}`}):a.createElement("div",{key:`${e}-${n}`})}))),a.createElement("h3",null,e))};const p=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,3,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,4,4,4,4,4,4,4,4,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,2,2,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,4,4,4,4,4,4,0,0,0,4,1,2,2,2,2,2,2,1,4,0,0,0,4,4,4,4,4,4,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,3,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}]);
//# sourceMappingURL=component---src-pages-pac-man-tsx-6a3b2b9f6209e2310e61.js.map