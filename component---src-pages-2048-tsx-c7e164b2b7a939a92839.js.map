{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./src/pages/2048.tsx","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js"],"names":["internalObjectKeys","enumBugKeys","module","exports","Object","keys","O","classof","Array","isArray","arg","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","this","sourceLen","A","getBuiltIn","Table","styled","table","Wrapper","div","Game2048","useState","data","setData","score","setScore","add2","useRef","isEnd","startCoords","prevData","put2ToRandomCell","useCallback","emptyCells","forEach","rowData","rowIndex","cellData","cellIndex","push","randomCell","Math","floor","random","newData","moveLeft","tempData","currentRow","abs","fill","_","moveRight","moveUp","moveDown","moveCells","direction","console","log","result","JSON","stringify","current","checkLoose","count","startGame","useEffect","keyDownEvent","event","key","mouseDownEvent","clientX","clientY","mouseUpEvent","endCoords","diffX","diffY","window","addEventListener","removeEventListener","every","d","setTimeout","alert","includes","unshift","map","tr","idx","td","className","onClick","stopPropagation","DESCRIPTORS","definePropertyModule","anObject","objectKeys","defineProperties","Properties","index","f","addToUnscopables","wellKnownSymbol","create","UNSCOPABLES","ArrayPrototype","prototype","configurable","value","isObject","SPECIES","originalArray","C","constructor","activeXDocument","hiddenKeys","html","documentCreateElement","sharedKey","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","document","domain","ActiveXObject","error","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","String","contentWindow","open","F","bind","original","source","start","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","TypeError"],"mappings":"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","file":"component---src-pages-2048-tsx-c7e164b2b7a939a92839.js","sourcesContent":["var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Table = styled.table`\n  td {\n    border: 10px solid #bbada0;\n    width: 116px;\n    height: 128px;\n    font-size: 50px;\n    font-weight: bold;\n    text-align: center;\n  }\n`;\nconst Wrapper = styled.div`\n  user-select: none;\n\n  .color-2 {\n    background-color: #eee4da;\n    color: #776e65;\n  }\n  .color-4 {\n    background-color: #eee1c9;\n    color: #776e65;\n  }\n  .color-8 {\n    background-color: #f3b27a;\n    color: 'white';\n  }\n  .color-16 {\n    background-color: #f69664;\n    color: 'white';\n  }\n  .color-32 {\n    background-color: #f77c5f;\n    color: 'white';\n  }\n  .color-64 {\n    background-color: #f75f3b;\n    color: 'white';\n  }\n  .color-128 {\n    background-color: #edd073;\n    color: #776e65;\n  }\n  .color-256 {\n    background-color: #edcc62;\n    color: #776e65;\n  }\n  .color-512 {\n    background-color: #edc950;\n    color: #776e65;\n  }\n  .color-1024 {\n    background-color: #edc53f;\n    color: #776e65;\n  }\n  .color-2048 {\n    background-color: #edc22e;\n    color: #776e65;\n  }\n`;\nconst Game2048: React.VFC = () => {\n  const [data, setData] = useState<number[][]>([]);\n  const [score, setScore] = useState(0);\n  const add2 = useRef(false);\n  const isEnd = useRef(false);\n  const startCoords = useRef([0, 0]);\n  const prevData = useRef<{ data: number[][]; score: number[] }>({\n    data: [[]],\n    score: [0, 0],\n  });\n  const put2ToRandomCell = useCallback(() => {\n    const emptyCells = [];\n    data.forEach((rowData, rowIndex) => {\n      rowData.forEach((cellData, cellIndex) => {\n        if (!cellData) {\n          emptyCells.push([rowIndex, cellIndex]);\n        }\n      });\n    });\n    if (!emptyCells.length) {\n      return;\n    }\n    const randomCell =\n      emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    setData((data) => {\n      const newData = [...data];\n      newData[randomCell[0]][randomCell[1]] = 2;\n      return newData;\n    });\n  }, [data]);\n  const moveLeft = useCallback((data: number[][]) => {\n    const newData: number[][] = [[], [], [], []];\n    const tempData: number[][] = [[], [], [], []];\n    let score = 0;\n    data.forEach((rowData, rowIndex) => {\n      rowData.forEach((cellData) => {\n        if (cellData) {\n          const currentRow = tempData[rowIndex];\n          const prevData = currentRow[currentRow.length - 1];\n          if (prevData === cellData) {\n            currentRow[currentRow.length - 1] *= -2;\n            score = score + Math.abs(currentRow[currentRow.length - 1]);\n          } else {\n            tempData[rowIndex].push(cellData);\n          }\n        }\n      });\n    });\n    Array(4)\n      .fill(0)\n      .forEach((_, rowIndex) => {\n        Array(4)\n          .fill(0)\n          .forEach((_, cellIndex) => {\n            newData[rowIndex][cellIndex] =\n              Math.abs(tempData[rowIndex][cellIndex]) || 0;\n          });\n      });\n    return { newData, score };\n  }, []);\n  const moveRight = useCallback((data: number[][]) => {\n    const newData: number[][] = [[], [], [], []];\n    const tempData: number[][] = [[], [], [], []];\n    let score = 0;\n    data.forEach((rowData, rowIndex) => {\n      rowData.forEach((_, cellIndex) => {\n        if (rowData[3 - cellIndex]) {\n          const currentRow = tempData[rowIndex];\n          const prevData = currentRow[currentRow.length - 1];\n          if (prevData === rowData[3 - cellIndex]) {\n            currentRow[currentRow.length - 1] *= -2;\n            score = score + Math.abs(currentRow[currentRow.length - 1]);\n          } else {\n            tempData[rowIndex].push(rowData[3 - cellIndex]);\n          }\n        }\n      });\n    });\n    Array(4)\n      .fill(0)\n      .forEach((_, rowIndex) => {\n        Array(4)\n          .fill(0)\n          .forEach((_, cellIndex) => {\n            newData[rowIndex][3 - cellIndex] =\n              Math.abs(tempData[rowIndex][cellIndex]) || 0;\n          });\n      });\n    return { newData, score };\n  }, []);\n  const moveUp = useCallback((data: number[][]) => {\n    const newData: number[][] = [[], [], [], []];\n    const tempData: number[][] = [[], [], [], []];\n    let score = 0;\n    data.forEach((rowData) => {\n      rowData.forEach((cellData, cellIndex) => {\n        if (cellData) {\n          const currentRow = tempData[cellIndex];\n          const prevData = currentRow[currentRow.length - 1];\n          if (prevData === cellData) {\n            currentRow[currentRow.length - 1] *= -2;\n            score = score + Math.abs(currentRow[currentRow.length - 1]);\n          } else {\n            tempData[cellIndex].push(cellData);\n          }\n        }\n      });\n    });\n    Array(4)\n      .fill(0)\n      .forEach((_, rowIndex) => {\n        Array(4)\n          .fill(0)\n          .forEach((_, cellIndex) => {\n            newData[cellIndex][rowIndex] =\n              Math.abs(tempData[rowIndex][cellIndex]) || 0;\n          });\n      });\n    return { newData, score };\n  }, []);\n  const moveDown = useCallback((data: number[][]) => {\n    const newData: number[][] = [[], [], [], []];\n    const tempData: number[][] = [[], [], [], []];\n    let score = 0;\n    data.forEach((rowData, rowIndex) => {\n      rowData.forEach((_, cellIndex) => {\n        if (data[3 - rowIndex][cellIndex]) {\n          const currentRow = tempData[cellIndex];\n          const prevData = currentRow[currentRow.length - 1];\n          if (prevData === data[3 - rowIndex][cellIndex]) {\n            currentRow[currentRow.length - 1] *= -2;\n            score = score + Math.abs(currentRow[currentRow.length - 1]);\n          } else {\n            tempData[cellIndex].push(data[3 - rowIndex][cellIndex]);\n          }\n        }\n      });\n    });\n    Array(4)\n      .fill(0)\n      .forEach((_, rowIndex) => {\n        Array(4)\n          .fill(0)\n          .forEach((_, cellIndex) => {\n            newData[3 - cellIndex][rowIndex] =\n              Math.abs(tempData[rowIndex][cellIndex]) || 0;\n          });\n      });\n    return { newData, score };\n  }, []);\n  const moveCells = useCallback(\n    (direction: 'up' | 'down' | 'left' | 'right') => {\n      console.log(2222);\n      if (!data?.[0]) {\n        return data;\n      }\n      let result = { newData: data, score: 0 };\n      switch (direction) {\n        case 'left':\n          result = moveLeft(data);\n          break;\n        case 'right':\n          result = moveRight(data);\n          break;\n        case 'up':\n          result = moveUp(data);\n          break;\n        case 'down':\n          result = moveDown(data);\n          break;\n        default:\n          result = { newData: data, score: 0 };\n      }\n\n      if (JSON.stringify(data) !== JSON.stringify(result.newData)) {\n        prevData.current.data = data;\n        add2.current = true;\n        setScore((score) => score + result.score);\n      }\n      setData(result.newData);\n    },\n    [data],\n  );\n\n  const checkLoose = useCallback(() => {\n    if (!data?.[0]) {\n      return false;\n    }\n    let count = 0;\n    if (JSON.stringify(data) === JSON.stringify(moveLeft(data).newData)) {\n      count += 1;\n    }\n    if (JSON.stringify(data) === JSON.stringify(moveRight(data).newData)) {\n      count += 1;\n    }\n    if (JSON.stringify(data) === JSON.stringify(moveUp(data).newData)) {\n      count += 1;\n    }\n    if (JSON.stringify(data) === JSON.stringify(moveDown(data).newData)) {\n      count += 1;\n    }\n    if (count >= 4) {\n      return true;\n    }\n  }, [data]);\n\n  const startGame = useCallback(() => {\n    const newData = [\n      new Array(4).fill(0),\n      new Array(4).fill(0),\n      new Array(4).fill(0),\n      new Array(4).fill(0),\n      // [1024, 2, 4, 2],\n      // [2, 1024, 8, 4],\n      // [1024, 2, 4, 2],\n      // [2, 1024, 16, 32],\n    ];\n    setData(newData);\n    add2.current = true;\n  }, []);\n  useEffect(() => {\n    startGame();\n  }, []);\n  useEffect(() => {\n    const keyDownEvent = (event) => {\n      if (event.key === 'ArrowUp') {\n        moveCells('up');\n      }\n      if (event.key === 'ArrowDown') {\n        moveCells('down');\n      }\n      if (event.key === 'ArrowLeft') {\n        moveCells('left');\n      }\n      if (event.key === 'ArrowRight') {\n        moveCells('right');\n      }\n    };\n    const mouseDownEvent = (event) => {\n      startCoords.current = [event.clientX, event.clientY];\n    };\n    const mouseUpEvent = (event) => {\n      const endCoords = [event.clientX, event.clientY];\n      const diffX = endCoords[0] - startCoords.current[0];\n      const diffY = endCoords[1] - startCoords.current[1];\n      if (diffX < 0 && Math.abs(diffX) > Math.abs(diffY)) {\n        moveCells('left');\n      }\n\n      if (diffX > 0 && Math.abs(diffX) > Math.abs(diffY)) {\n        moveCells('right');\n      }\n\n      if (diffY > 0 && Math.abs(diffX) <= Math.abs(diffY)) {\n        moveCells('down');\n      }\n\n      if (diffY < 0 && Math.abs(diffX) <= Math.abs(diffY)) {\n        moveCells('up');\n      }\n    };\n    window.addEventListener('keydown', keyDownEvent);\n    window.addEventListener('mousedown', mouseDownEvent);\n    window.addEventListener('mouseup', mouseUpEvent);\n    return () => {\n      window.removeEventListener('keydown', keyDownEvent);\n      window.removeEventListener('mousedown', mouseDownEvent);\n      window.removeEventListener('mouseup', mouseUpEvent);\n    };\n  }, [data]);\n\n  useEffect(() => {\n    if (\n      data?.length > 3 &&\n      !data.flat().every((d) => d === 0) &&\n      checkLoose()\n    ) {\n      setTimeout(() => {\n        alert('패배했습니다...');\n      }, 500);\n    }\n    if (!isEnd.current && data.flat().includes(2048)) {\n      isEnd.current = true;\n      setTimeout(() => {\n        alert('축하합니다. 2048을 만들었습니다.');\n      }, 500);\n    }\n    if (data.length > 0 && add2.current) {\n      put2ToRandomCell();\n      add2.current = false;\n    }\n  }, [data]);\n  useEffect(() => {\n    if (score === prevData.current.score[1]) {\n      prevData.current.score = [score, score];\n    }\n    prevData.current.score.unshift(score);\n    prevData.current.score.length = 2;\n  }, [score]);\n  return (\n    <Wrapper>\n      <Table>\n        <tbody>\n          {data.map((tr, idx) => {\n            return (\n              <tr key={`${tr}-${idx}`}>\n                {tr.map((td, idx) => {\n                  return (\n                    <td className={`color-${td}`} key={`${td}-${idx}`}>\n                      {!!td && td}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n\n      <div>\n        <span>{score}</span>\n        <button\n          onClick={(event) => {\n            event.stopPropagation();\n            setData(prevData.current.data);\n            setScore(prevData.current.score[1]);\n          }}\n        >\n          되돌리기\n        </button>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Game2048;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n"],"sourceRoot":""}