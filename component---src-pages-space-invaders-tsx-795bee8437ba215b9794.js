"use strict";(self.webpackChunkyuni_q_blog=self.webpackChunkyuni_q_blog||[]).push([[29],{1370:function(e,t,r){r.r(t);var s=r(7294);const l=r(2788).default.div.withConfig({displayName:"space-invaders__Grid",componentId:"sc-1s0qfkh-0"})(["width:302px;height:300px;border:1px solid black;display:flex;flex-wrap:wrap;> div{width:20px;height:20px;&.invader{background-color:purple;border-radius:10px;}&.shooter{background-color:green;}&.laser{background-color:orange;}&.boom{background-color:red;}}"]);t.default=()=>{const e=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const t=e.current,r=document.querySelector(".results");let s=202;const l=15;let n=1,o=null,a=!0;const c=[];let i=0;for(let e=0;e<255;e++){const e=document.createElement("div");t.appendChild(e)}const d=Array.from(document.querySelectorAll(".grid div")),u=[0,1,2,3,4,5,6,7,8,9,15,16,17,18,19,20,21,22,23,24,30,31,32,33,34,35,36,37,38,39],h=()=>{for(let e=0;e<u.length;e++)c.includes(e)||d[u[e]].classList.add("invader")};h();d[s].classList.add("shooter");document.addEventListener("keydown",(e=>{switch(d[s].classList.remove("shooter"),e.key){case"ArrowLeft":s%l!=0&&(s-=1);break;case"ArrowRight":s%l<14&&(s+=1)}d[s].classList.add("shooter")}));o=setInterval((()=>{const e=u[0]%l==0,t=u[u.length-1]%l==14;if((()=>{for(let e=0;e<u.length;e++)d[u[e]].classList.remove("invader")})(),t&&a)for(let r=0;r<u.length;r++)u[r]+=16,n=-1,a=!1;if(e&&!a)for(let r=0;r<u.length;r++)u[r]+=14,n=1,a=!0;for(let r=0;r<u.length;r++)u[r]+=n;h(),d[s].classList.contains("invader")&&(console.log("game over"),r.innerHTML="GAVE OVER",clearInterval(o));for(let s=0;s<u.length;s++)u[s]>d.length&&(r.innerHTML="GAVE OVER",clearInterval(o));c.length==u.length&&(r.innerHTML="You Win",clearInterval(o))}),300);document.addEventListener("keydown",(e=>{let t,n=s;const o=()=>{if(d[n].classList.remove("laser"),n-=l,d[n].classList.add("laser"),d[n].classList.contains("invader")){d[n].classList.remove("laser"),d[n].classList.remove("invader"),d[n].classList.add("boom"),setTimeout((()=>d[n].classList.remove("boom")),300),clearInterval(t);const e=u.indexOf(n);c.push(e),i++,r.innerHTML=i.toString()}};if("ArrowUp"===e.key)t=setInterval(o,100)}))}),[]),s.createElement(s.Fragment,null,s.createElement("h1",{className:"results"}),s.createElement(l,{className:"grid",ref:e}))}}}]);
//# sourceMappingURL=component---src-pages-space-invaders-tsx-795bee8437ba215b9794.js.map