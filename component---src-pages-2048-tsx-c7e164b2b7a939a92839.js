(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"33Wh":function(e,t,n){var r=n("yoRg"),o=n("eDl+");e.exports=Object.keys||function(e){return r(e,o)}},"6LWA":function(e,t,n){var r=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==r(e)}},A2ZE:function(e,t,n){var r=n("HAuM");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},BIHw:function(e,t,n){"use strict";var r=n("I+eb"),o=n("or9q"),c=n("ewvW"),a=n("UMSQ"),u=n("ppGB"),i=n("ZfDv");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=c(this),n=a(t.length),r=i(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:u(e)),r}})},"G+Rx":function(e,t,n){var r=n("0GbY");e.exports=r("document","documentElement")},GP3R:function(e,t,n){"use strict";n.r(t);var r=n("KQm4"),o=(n("BIHw"),n("QGkA"),n("q1tI")),c=n.n(o),a=n("vOnD"),u=a.c.table.withConfig({displayName:"sc-2048__Table",componentId:"sc-unuaaf-0"})(["td{border:10px solid #bbada0;width:116px;height:128px;font-size:50px;font-weight:bold;text-align:center;}"]),i=a.c.div.withConfig({displayName:"sc-2048__Wrapper",componentId:"sc-unuaaf-1"})(["user-select:none;.color-2{background-color:#eee4da;color:#776e65;}.color-4{background-color:#eee1c9;color:#776e65;}.color-8{background-color:#f3b27a;color:'white';}.color-16{background-color:#f69664;color:'white';}.color-32{background-color:#f77c5f;color:'white';}.color-64{background-color:#f75f3b;color:'white';}.color-128{background-color:#edd073;color:#776e65;}.color-256{background-color:#edcc62;color:#776e65;}.color-512{background-color:#edc950;color:#776e65;}.color-1024{background-color:#edc53f;color:#776e65;}.color-2048{background-color:#edc22e;color:#776e65;}"]);t.default=function(){var e=Object(o.useState)([]),t=e[0],n=e[1],a=Object(o.useState)(0),l=a[0],f=a[1],s=Object(o.useRef)(!1),h=Object(o.useRef)(!1),d=Object(o.useRef)([0,0]),b=Object(o.useRef)({data:[[]],score:[0,0]}),p=Object(o.useCallback)((function(){var e=[];if(t.forEach((function(t,n){t.forEach((function(t,r){t||e.push([n,r])}))})),e.length){var o=e[Math.floor(Math.random()*e.length)];n((function(e){var t=Object(r.a)(e);return t[o[0]][o[1]]=2,t}))}}),[t]),w=Object(o.useCallback)((function(e){var t=[[],[],[],[]],n=[[],[],[],[]],r=0;return e.forEach((function(e,t){e.forEach((function(e){if(e){var o=n[t];o[o.length-1]===e?(o[o.length-1]*=-2,r+=Math.abs(o[o.length-1])):n[t].push(e)}}))})),Array(4).fill(0).forEach((function(e,r){Array(4).fill(0).forEach((function(e,o){t[r][o]=Math.abs(n[r][o])||0}))})),{newData:t,score:r}}),[]),v=Object(o.useCallback)((function(e){var t=[[],[],[],[]],n=[[],[],[],[]],r=0;return e.forEach((function(e,t){e.forEach((function(o,c){if(e[3-c]){var a=n[t];a[a.length-1]===e[3-c]?(a[a.length-1]*=-2,r+=Math.abs(a[a.length-1])):n[t].push(e[3-c])}}))})),Array(4).fill(0).forEach((function(e,r){Array(4).fill(0).forEach((function(e,o){t[r][3-o]=Math.abs(n[r][o])||0}))})),{newData:t,score:r}}),[]),g=Object(o.useCallback)((function(e){var t=[[],[],[],[]],n=[[],[],[],[]],r=0;return e.forEach((function(e){e.forEach((function(e,t){if(e){var o=n[t];o[o.length-1]===e?(o[o.length-1]*=-2,r+=Math.abs(o[o.length-1])):n[t].push(e)}}))})),Array(4).fill(0).forEach((function(e,r){Array(4).fill(0).forEach((function(e,o){t[o][r]=Math.abs(n[r][o])||0}))})),{newData:t,score:r}}),[]),y=Object(o.useCallback)((function(e){var t=[[],[],[],[]],n=[[],[],[],[]],r=0;return e.forEach((function(t,o){t.forEach((function(t,c){if(e[3-o][c]){var a=n[c];a[a.length-1]===e[3-o][c]?(a[a.length-1]*=-2,r+=Math.abs(a[a.length-1])):n[c].push(e[3-o][c])}}))})),Array(4).fill(0).forEach((function(e,r){Array(4).fill(0).forEach((function(e,o){t[3-o][r]=Math.abs(n[r][o])||0}))})),{newData:t,score:r}}),[]),E=Object(o.useCallback)((function(e){if(console.log(2222),null==t||!t[0])return t;var r={newData:t,score:0};switch(e){case"left":r=w(t);break;case"right":r=v(t);break;case"up":r=g(t);break;case"down":r=y(t);break;default:r={newData:t,score:0}}JSON.stringify(t)!==JSON.stringify(r.newData)&&(b.current.data=t,s.current=!0,f((function(e){return e+r.score}))),n(r.newData)}),[t]),k=Object(o.useCallback)((function(){if(null==t||!t[0])return!1;var e=0;return JSON.stringify(t)===JSON.stringify(w(t).newData)&&(e+=1),JSON.stringify(t)===JSON.stringify(v(t).newData)&&(e+=1),JSON.stringify(t)===JSON.stringify(g(t).newData)&&(e+=1),JSON.stringify(t)===JSON.stringify(y(t).newData)&&(e+=1),e>=4||void 0}),[t]),O=Object(o.useCallback)((function(){var e=[new Array(4).fill(0),new Array(4).fill(0),new Array(4).fill(0),new Array(4).fill(0)];n(e),s.current=!0}),[]);return Object(o.useEffect)((function(){O()}),[]),Object(o.useEffect)((function(){var e=function(e){"ArrowUp"===e.key&&E("up"),"ArrowDown"===e.key&&E("down"),"ArrowLeft"===e.key&&E("left"),"ArrowRight"===e.key&&E("right")},t=function(e){d.current=[e.clientX,e.clientY]},n=function(e){var t=[e.clientX,e.clientY],n=t[0]-d.current[0],r=t[1]-d.current[1];n<0&&Math.abs(n)>Math.abs(r)&&E("left"),n>0&&Math.abs(n)>Math.abs(r)&&E("right"),r>0&&Math.abs(n)<=Math.abs(r)&&E("down"),r<0&&Math.abs(n)<=Math.abs(r)&&E("up")};return window.addEventListener("keydown",e),window.addEventListener("mousedown",t),window.addEventListener("mouseup",n),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousedown",t),window.removeEventListener("mouseup",n)}}),[t]),Object(o.useEffect)((function(){(null==t?void 0:t.length)>3&&!t.flat().every((function(e){return 0===e}))&&k()&&setTimeout((function(){alert("패배했습니다...")}),500),!h.current&&t.flat().includes(2048)&&(h.current=!0,setTimeout((function(){alert("축하합니다. 2048을 만들었습니다.")}),500)),t.length>0&&s.current&&(p(),s.current=!1)}),[t]),Object(o.useEffect)((function(){l===b.current.score[1]&&(b.current.score=[l,l]),b.current.score.unshift(l),b.current.score.length=2}),[l]),c.a.createElement(i,null,c.a.createElement(u,null,c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement("tr",{key:e+"-"+t},e.map((function(e,t){return c.a.createElement("td",{className:"color-"+e,key:e+"-"+t},!!e&&e)})))})))),c.a.createElement("div",null,c.a.createElement("span",null,l),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),n(b.current.data),f(b.current.score[1])}},"되돌리기")))}},"N+g0":function(e,t,n){var r=n("g6v/"),o=n("m/L8"),c=n("glrk"),a=n("33Wh");e.exports=r?Object.defineProperties:function(e,t){c(e);for(var n,r=a(t),u=r.length,i=0;u>i;)o.f(e,n=r[i++],t[n]);return e}},QGkA:function(e,t,n){n("RNIs")("flat")},RNIs:function(e,t,n){var r=n("tiKp"),o=n("fHMY"),c=n("m/L8"),a=r("unscopables"),u=Array.prototype;null==u[a]&&c.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},ZfDv:function(e,t,n){var r=n("hh1v"),o=n("6LWA"),c=n("tiKp")("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[c])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},fHMY:function(e,t,n){var r,o=n("glrk"),c=n("N+g0"),a=n("eDl+"),u=n("0BK2"),i=n("G+Rx"),l=n("zBJ4"),f=n("93I0"),s=f("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var e,t;b=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",i.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete b.prototype[a[n]];return b()};u[s]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=o(e),n=new h,h.prototype=null,n[s]=e):n=b(),void 0===t?n:c(n,t)}},or9q:function(e,t,n){"use strict";var r=n("6LWA"),o=n("UMSQ"),c=n("A2ZE"),a=function(e,t,n,u,i,l,f,s){for(var h,d=i,b=0,p=!!f&&c(f,s,3);b<u;){if(b in n){if(h=p?p(n[b],b,t):n[b],l>0&&r(h))d=a(e,t,h,o(h.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=h}d++}b++}return d};e.exports=a}}]);
//# sourceMappingURL=component---src-pages-2048-tsx-c7e164b2b7a939a92839.js.map