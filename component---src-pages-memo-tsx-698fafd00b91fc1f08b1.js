(self.webpackChunkyuni_q_blog=self.webpackChunkyuni_q_blog||[]).push([[4905],{9772:function(e,t,n){"use strict";var a=n(4994);t.Dd=function(e){let{category:t,action:n,label:a,value:i,nonInteraction:o=!1,transport:r,hitCallback:c,callbackTimeout:s=1e3}=e;if("undefined"!=typeof window&&window.ga){const e={eventCategory:t,eventAction:n,eventLabel:a,eventValue:i,nonInteraction:o,transport:r};c&&"function"==typeof c&&(e.hitCallback=l(c,s)),window.ga("send","event",e)}};var i=a(n(4634)),o=a(n(6540)),r=a(n(5556));const l=function(e,t){void 0===t&&(t=1e3);let n=!1;const a=()=>{n||(n=!0,e())};return setTimeout(a,t),a};function c(e){const{eventCategory:t,eventAction:n,eventLabel:a,eventValue:r,...l}=e;return o.default.createElement("a",(0,i.default)({},l,{onClick:i=>{"function"==typeof e.onClick&&e.onClick(i);let o=!0;return(0!==i.button||i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||i.defaultPrevented)&&(o=!1),e.target&&"_self"!==e.target.toLowerCase()&&(o=!1),window.ga?window.ga("send","event",{eventCategory:t||"Outbound Link",eventAction:n||"click",eventLabel:a||e.href,eventValue:r,transport:o?"beacon":"",hitCallback:function(){o&&(document.location=e.href)}}):o&&(document.location=e.href),!1}}))}c.propTypes={href:r.default.string,target:r.default.string,eventCategory:r.default.string,eventAction:r.default.string,eventLabel:r.default.string,eventValue:r.default.number,onClick:r.default.func}},597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a,i=n(4506),o=n(6540),r=n(2568),l=new Uint8Array(16);function c(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(l)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(e){return"string"==typeof e&&s.test(e)},d=[],f=0;f<256;++f)d.push((f+256).toString(16).substr(1));var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};var g=function(e,t,n){var a=(e=e||{}).random||(e.rng||c)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=a[i];return t}return p(a)};var h=e=>{let{className:t,status:n,size:a=28}=e;return o.createElement("div",{className:"spinner la-ball-pulse "+(t||""),style:{height:a}},o.createElement("div",null),o.createElement("div",null),o.createElement("div",null))},m=n(944);m.default.apps.length||m.default.initializeApp({apiKey:"AIzaSyDlYM9tmiCS8cpJNCJDt1ayilldy4ZHcqA",authDomain:"yuni-q.firebaseapp.com",databaseURL:"https://yuni-q.firebaseio.com",projectId:"yuni-q",storageBucket:"yuni-q.appspot.com",messagingSenderId:"158413688649",appId:"1:158413688649:web:a15e7e4e8ff8894f049498",measurementId:"G-J4THPFQ6L1"});var y=m.default;let v;const w={apiKey:"AIzaSyDlYM9tmiCS8cpJNCJDt1ayilldy4ZHcqA",authDomain:"yuni-q.firebaseapp.com",databaseURL:"https://yuni-q.firebaseio.com",projectId:"yuni-q",storageBucket:"yuni-q.appspot.com",messagingSenderId:"158413688649",appId:"1:158413688649:web:a15e7e4e8ff8894f049498",measurementId:"G-J4THPFQ6L1"},b=e=>(y.apps.length||y.initializeApp(w),v=y.database(),v.ref("/").child("memo").set(e));var C=n(2894);const k=r.default.div.withConfig({displayName:"memo__StyledLoading",componentId:"sc-e5ril5-0"})(["width:100vw;height:100vh;background:gray;display:flex;color:white;align-items:center;"]);var x=()=>{const{0:e,1:t}=(0,o.useState)(!0),{0:n,1:a}=(0,o.useState)([]),r=(0,o.useRef)(null),l=(0,o.useRef)(!1),c=(0,o.useRef)(!1),s=(0,o.useCallback)((e=>{e.preventDefault(),e.target.dataset.wrap&&a([].concat((0,i.A)(n),[{id:g(),top:window.event.clientY,left:window.event.clientX,width:200,height:100,text:""}]))}),[n]),u=e=>{const t=n.filter((t=>t.id!==e.target.dataset.id));a(t)},d=(e,t,o)=>{const r=n.find((t=>t.id===e)),l=n.filter((t=>t.id!==e));a([].concat((0,i.A)(l),[{id:g(),top:parseInt(t,10),left:parseInt(o,10),width:r.width,height:r.height,text:r.text}]))},f=(e,t,o)=>{const r=n.find((t=>t.id===e)),l=n.filter((t=>t.id!==e));a([].concat((0,i.A)(l),[{id:g(),top:r.top,left:r.left,width:parseInt(t,10),height:parseInt(o,10),text:r.text}]))},p=(e,t)=>{const o=n.find((t=>t.id===e)),r=n.filter((t=>t.id!==e));a([].concat((0,i.A)(r),[{id:o.id,top:o.top,left:o.left,width:o.width,height:o.height,text:t}]))};return(0,o.useEffect)((()=>{(async e=>{if(!l.current)return l.current=!0;c.current?c.current=!1:b(e)})(JSON.stringify(n))}),[n,s]),(0,o.useEffect)((()=>{const e=r.current;return e.addEventListener("contextmenu",s,!0),()=>e.removeEventListener("contextmenu",s,!0)}),[s]),(0,o.useEffect)((()=>{(0,C.Ay)("memo",C.yg.EXPOSE,"memo"),(async()=>{t(!1)})();(console.log(y),y.apps.length||y.initializeApp(w),v=y.database(),v.ref("/").child("memo")).on("value",(e=>{console.log(222,e);try{c.current=!0,a(JSON.parse(e.node_.value_))}catch(t){b([])}}))}),[]),o.createElement("div",{className:"wrap","data-wrap":!0,ref:r,style:{width:"100vw",height:"100vh"}},!!e&&o.createElement(k,null,o.createElement(h,null)),!e&&n&&n.map((e=>{const{id:t,top:n,left:a,width:i,height:r,text:l}=e;return o.createElement(M,{emo:!0,key:t,id:t,top:n,left:a,width:i,height:r,text:l,onClickDelete:u,onClickMove:d,onClickResize:f,onChangeText:p})})))}},2894:function(e,t,n){"use strict";n.d(t,{yg:function(){return o}});var a=n(9772);const i=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=""),(0,a.Dd)({category:e,action:t,label:n})};t.Ay=i;const o={EXPOSE:"화면진입",CLICK:"클릭"}},4634:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=component---src-pages-memo-tsx-698fafd00b91fc1f08b1.js.map