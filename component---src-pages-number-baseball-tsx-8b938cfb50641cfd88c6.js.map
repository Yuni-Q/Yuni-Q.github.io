{"version":3,"sources":["webpack:///./src/pages/number-baseball.tsx"],"names":["NumberBaseball","useState","numbers","setNumbers","tries","setTries","triesText","setTriesText","outCount","setOutCount","value","setValue","endCondition","length","checkInput","useCallback","alert","Set","size","includes","useEffect","nums","Array","fill","map","_","index","newNumbers","i","Math","floor","random","push","splice","console","log","answer","join","style","display","justifyContent","alignItems","flexDirection","height","onSubmit","e","preventDefault","strike","ball","forEach","element","idx","indexOf","toString","type","minLength","maxLength","readOnly","pattern","onChange","target","marginRight","text","key","textAlign"],"mappings":"wIAwHeA,UAtHmB,WAChC,MAA8BC,mBAAmB,IAA1CC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,mBAAmB,IAAtCG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,mBAAmB,IAA9CK,EAAP,KAAkBC,EAAlB,KACA,EAAgCN,mBAAS,GAAlCO,EAAP,KAAiBC,EAAjB,KACA,EAA0BR,mBAAS,IAA5BS,EAAP,KAAcC,EAAd,KACMC,EAAeR,EAAMS,OAAS,GAAKL,EAAW,EAC9CM,EAAaC,uBAAY,WAC7B,OAAqB,IAAjBL,EAAMG,OACDG,MAAM,mBAEa,IAAxB,IAAIC,IAAIP,GAAOQ,KACVF,MAAM,qBAEXZ,EAAMe,SAAST,IACVM,MAAM,kBAGd,CAACN,EAAON,IAuBX,OAtBAgB,qBAAU,WAKR,IAJA,IAAMC,EAAOC,MAAM,GAChBC,KAAK,GACLC,KAAI,SAACC,EAAGC,GAAJ,OAAcA,EAAQ,KACvBC,EAAa,GACVC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAMF,EAAQG,KAAKC,MAAMD,KAAKE,SAAWV,EAAKR,QAC9Cc,EAAWK,KAAKX,EAAKK,IACrBL,EAAKY,OAAOP,EAAO,GAErBQ,QAAQC,IAAIR,GACZxB,EAAWwB,KACV,IACHP,qBAAU,WACR,GAAIR,EAAc,CAChB,IAAMwB,EAASlC,EAAQmC,KAAK,IAC5B9B,GAAa,SAACD,GAAD,4BACRA,GADQ,iBAEK8B,EAFL,eAKd,CAAChC,EAAOI,IAET,yBACE8B,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,cAAe,SACfC,OAAQ,UAGV,0BACEC,SAAU,SAACC,GAET,GADAA,EAAEC,kBACElC,GAGCE,IAAL,CAGAH,EAAS,IAETN,GAAS,SAACD,GAAD,4BAAeA,GAAf,CAAsBM,OAC/B,IAAM0B,EAASlC,EAAQmC,KAAK,IAC5B,GAAI3B,IAAU0B,EAAd,CAKA,IAAIW,EAAS,EACTC,EAAO,EASX,GARA9C,EAAQ+C,SAAQ,SAACC,EAASC,GACxB,IAAMzB,EAAQhB,EAAM0C,QAAQF,EAAQG,YAChC3B,IAAUyB,EACZJ,GAAU,EACDrB,GAAS,IAClBsB,GAAQ,OAGPD,IAAWC,EAGd,OAFAzC,GAAa,SAACD,GAAD,4BAAmBA,GAAnB,CAAiCI,EAAjC,kBACbD,GAAY,SAACD,GAAD,OAAcA,EAAW,KAGvCD,GAAa,SAACD,GAAD,4BACRA,GADQ,CAERI,EAFQ,MAEGqC,EAFH,YAEqBC,YArBhCzC,GAAa,SAACD,GAAD,4BAAmBA,GAAnB,cAyBjB,2BACEgD,KAAK,OACL5C,MAAOA,EACP6C,UAAW,EACXC,UAAW,EACXC,SAAU7C,EACV8C,QAAQ,yBACRC,SAAU,SAACd,GAAD,OAAOlC,EAASkC,EAAEe,OAAOlD,QACnC4B,MAAO,CAAEuB,YAAa,KAExB,4BAAQP,KAAK,UAAb,OAEF,6BACE,yCACY9C,EACTF,EAAUkB,KAAI,SAACsC,GACd,OACE,yBAAKC,IAAKD,EAAMxB,MAAO,CAAE0B,UAAW,WACjCF","file":"component---src-pages-number-baseball-tsx-8b938cfb50641cfd88c6.js","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\n\nconst NumberBaseball: React.VFC = () => {\n  const [numbers, setNumbers] = useState<number[]>([]);\n  const [tries, setTries] = useState<string[]>([]);\n  const [triesText, setTriesText] = useState<string[]>([]);\n  const [outCount, setOutCount] = useState(0);\n  const [value, setValue] = useState('');\n  const endCondition = tries.length > 9 || outCount > 2;\n  const checkInput = useCallback(() => {\n    if (value.length !== 4) {\n      return alert('4자리 숫자를 입력해 주세요');\n    }\n    if (new Set(value).size !== 4) {\n      return alert('중복되지 않게 입력해 주세요.');\n    }\n    if (tries.includes(value)) {\n      return alert('이미 시도한 값입니다.');\n    }\n    return true;\n  }, [value, tries]);\n  useEffect(() => {\n    const nums = Array(9)\n      .fill(0)\n      .map((_, index) => index + 1);\n    const newNumbers = [];\n    for (let i = 0; i < 4; i++) {\n      const index = Math.floor(Math.random() * nums.length);\n      newNumbers.push(nums[index]);\n      nums.splice(index, 1);\n    }\n    console.log(newNumbers);\n    setNumbers(newNumbers);\n  }, []);\n  useEffect(() => {\n    if (endCondition) {\n      const answer = numbers.join('');\n      setTriesText((triesText) => [\n        ...triesText,\n        `패배하였습니다. 정답은 ${answer}입니다.`,\n      ]);\n    }\n  }, [tries, outCount]);\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column',\n        height: '100vh',\n      }}\n    >\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          if (endCondition) {\n            return;\n          }\n          if (!checkInput()) {\n            return;\n          }\n          setValue('');\n\n          setTries((tries) => [...tries, value]);\n          const answer = numbers.join('');\n          if (value === answer) {\n            setTriesText((triesText) => [...triesText, `홈런`]);\n            return;\n          }\n\n          let strike = 0;\n          let ball = 0;\n          numbers.forEach((element, idx) => {\n            const index = value.indexOf(element.toString());\n            if (index === idx) {\n              strike += 1;\n            } else if (index > -1) {\n              ball += 1;\n            }\n          });\n          if (!strike && !ball) {\n            setTriesText((triesText) => [...triesText, `${value} : 아웃`]);\n            setOutCount((outCount) => outCount + 1);\n            return;\n          }\n          setTriesText((triesText) => [\n            ...triesText,\n            `${value} : ${strike}스트라이크, 볼 ${ball}`,\n          ]);\n        }}\n      >\n        <input\n          type=\"text\"\n          value={value}\n          minLength={4}\n          maxLength={4}\n          readOnly={endCondition}\n          pattern=\"^(?!.*(.).*\\1)\\d{4}$\"\n          onChange={(e) => setValue(e.target.value)}\n          style={{ marginRight: 8 }}\n        />\n        <button type=\"submit\">확인</button>\n      </form>\n      <div>\n        <div>\n          아웃 카운트 : {outCount}\n          {triesText.map((text) => {\n            return (\n              <div key={text} style={{ textAlign: 'center' }}>\n                {text}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NumberBaseball;\n"],"sourceRoot":""}